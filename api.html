

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>API Reference &mdash; beat 1.0beta documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="beat 1.0beta documentation" href="index.html"/>
        <link rel="prev" title="Detailed Installation instructions" href="installation.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> beat
          

          
          </a>

          
            
            
              <div class="version">
                1.0b
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started with BEAT</a></li>
<li class="toctree-l1"><a class="reference internal" href="short_installation.html">Short Installation instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Detailed Installation instructions</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-heart">The <code class="docutils literal"><span class="pre">heart</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-config">The <code class="docutils literal"><span class="pre">config</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-smc">The <code class="docutils literal"><span class="pre">smc</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-backend">The <code class="docutils literal"><span class="pre">backend</span></code> Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#file-format">File format</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#the-metropolis-module">The <code class="docutils literal"><span class="pre">metropolis</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-models">The <code class="docutils literal"><span class="pre">models</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-psgrn">The <code class="docutils literal"><span class="pre">psgrn</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-pscmp-module">The <code class="docutils literal"><span class="pre">pscmp</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-interseismic">The <code class="docutils literal"><span class="pre">interseismic</span></code> Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#block-backslip-model">Block-backslip model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-covariance">The <code class="docutils literal"><span class="pre">covariance</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-theanof">The <code class="docutils literal"><span class="pre">theanof</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utility">The <code class="docutils literal"><span class="pre">utility</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-plotting">The <code class="docutils literal"><span class="pre">plotting</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-inputf">The <code class="docutils literal"><span class="pre">inputf</span></code> Module</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">beat</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>API Reference</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/api.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="api-reference">
<h1>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-heart">
<span id="the-heart-module"></span><h2>The <a class="reference internal" href="#module-heart" title="heart"><code class="xref py py-mod docutils literal"><span class="pre">heart</span></code></a> Module<a class="headerlink" href="#module-heart" title="Permalink to this headline">¶</a></h2>
<p>Core module with functions to calculate Greens Functions and synthetics.
Also contains main classes for setup specific parameters.</p>
<dl class="class">
<dt id="heart.ArrivalTaper">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">ArrivalTaper</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#ArrivalTaper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.ArrivalTaper" title="Permalink to this definition">¶</a></dt>
<dd><p>Cosine arrival Taper.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="heart.Covariance">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">Covariance</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#Covariance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.Covariance" title="Permalink to this definition">¶</a></dt>
<dd><p>Covariance of an observation. Holds data and model prediction uncertainties
for one observation object.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<dl class="attribute">
<dt id="heart.Covariance.inverse">
<code class="descname">inverse</code><a class="headerlink" href="#heart.Covariance.inverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and invert ALL uncertainty covariance Matrices.</p>
</dd></dl>

<dl class="attribute">
<dt id="heart.Covariance.inverse_d">
<code class="descname">inverse_d</code><a class="headerlink" href="#heart.Covariance.inverse_d" title="Permalink to this definition">¶</a></dt>
<dd><p>Invert DATA covariance Matrix.</p>
</dd></dl>

<dl class="attribute">
<dt id="heart.Covariance.inverse_p">
<code class="descname">inverse_p</code><a class="headerlink" href="#heart.Covariance.inverse_p" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and invert different MODEL uncertainty covariance Matrices.</p>
</dd></dl>

<dl class="attribute">
<dt id="heart.Covariance.log_norm_factor">
<code class="descname">log_norm_factor</code><a class="headerlink" href="#heart.Covariance.log_norm_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the normalisation factor of the posterior pdf.
Following Duputel et al. 2014</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="heart.DiffIFG">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">DiffIFG</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#DiffIFG"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.DiffIFG" title="Permalink to this definition">¶</a></dt>
<dd><p>Differential Interferogram class as geodetic target for the calculation
of synthetics and container for SAR data.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="heart.DynamicTarget">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">DynamicTarget</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#DynamicTarget"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.DynamicTarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="heart.DynamicTarget.update_target_times">
<code class="descname">update_target_times</code><span class="sig-paren">(</span><em>source=None</em>, <em>taperer=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#DynamicTarget.update_target_times"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.DynamicTarget.update_target_times" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the target attributes tmin and tmax to do the stacking
only in this interval. Adds twice taper fade in time to each taper
side.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>source</strong> : list</p>
<blockquote>
<div><p>containing <code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Target</span></code> Objects</p>
</div></blockquote>
<p class="last"><strong>taperer</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/trace.html#pyrocko.trace.CosTaper" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.CosTaper</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="heart.FaultGeometry">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">FaultGeometry</code><span class="sig-paren">(</span><em>datatypes</em>, <em>components</em>, <em>ordering</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#FaultGeometry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.FaultGeometry" title="Permalink to this definition">¶</a></dt>
<dd><p>Object to construct complex fault-geometries with several subfaults.
Stores information for subfault geometries and
inversion variables (e.g. slip-components).
Yields patch objects for requested subfault, dataset and component.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>datatypes</strong> : list</p>
<blockquote>
<div><p>of str of potential dataset fault geometries to be stored</p>
</div></blockquote>
<p><strong>components</strong> : list</p>
<blockquote>
<div><p>of str of potential inversion variables (e.g. slip-components) to
be stored</p>
</div></blockquote>
<p><strong>ordering</strong> : <code class="xref py py-class docutils literal"><span class="pre">FaultOrdering</span></code></p>
<blockquote class="last">
<div><p>comprises patch information related to subfaults</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="heart.FaultGeometry.get_patch_indexes">
<code class="descname">get_patch_indexes</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#FaultGeometry.get_patch_indexes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.FaultGeometry.get_patch_indexes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return indexes for sub-fault patches that translate to the solution
array.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>index</strong> : int</p>
<blockquote>
<div><p>to the sub-fault</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>slice</strong> : slice</p>
<blockquote class="last">
<div><p>to the solution array that is being extracted from the related
<code class="xref py py-class docutils literal"><span class="pre">pymc3.backends.base.MultiTrace</span></code></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="heart.Filter">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">Filter</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#Filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.Filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter object defining frequency range of traces after filtering</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="heart.GPSComponent">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">GPSComponent</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#GPSComponent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.GPSComponent" title="Permalink to this definition">¶</a></dt>
<dd><p>Object holding the GPS data for a single station.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="heart.GPSCompoundComponent">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">GPSCompoundComponent</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#GPSCompoundComponent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.GPSCompoundComponent" title="Permalink to this definition">¶</a></dt>
<dd><p>Collecting many GPS components and merging them into arrays.
Make synthetics generation more efficient.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="heart.GPSDataset">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">GPSDataset</code><span class="sig-paren">(</span><em>name=None</em>, <em>stations=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#GPSDataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.GPSDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Collecting many GPS stations into one object. Easy managing and assessing
single stations and also merging all the stations components into compound
components for fast and easy modeling.</p>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="heart.GPSStation">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">GPSStation</code><span class="sig-paren">(</span><em>network=''</em>, <em>station=''</em>, <em>location=''</em>, <em>lat=0.0</em>, <em>lon=0.0</em>, <em>elevation=0.0</em>, <em>depth=0.0</em>, <em>name=''</em>, <em>channels=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#GPSStation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.GPSStation" title="Permalink to this definition">¶</a></dt>
<dd><p>GPS station object, holds the displacment components and has all pyrocko
station functionality.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="heart.GeodeticDataset">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">GeodeticDataset</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#GeodeticDataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.GeodeticDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Overall geodetic data set class</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="heart.GeodeticDataset.update_local_coords">
<code class="descname">update_local_coords</code><span class="sig-paren">(</span><em>loc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#GeodeticDataset.update_local_coords"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.GeodeticDataset.update_local_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate local coordinates with respect to given Location.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>loc</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.meta.Location" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.meta.Location</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (n_points, 3)</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="heart.GeodeticResult">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">GeodeticResult</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#GeodeticResult"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.GeodeticResult" title="Permalink to this definition">¶</a></dt>
<dd><p>Result object assembling different geodetic data.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="heart.IFG">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">IFG</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#IFG"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.IFG" title="Permalink to this definition">¶</a></dt>
<dd><p>Interferogram class as a dataset in the optimization.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="heart.IFG.update_los_vector">
<code class="descname">update_los_vector</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#IFG.update_los_vector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.IFG.update_los_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate LOS vector for given attributes incidence and heading angles.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (n_points, 3)</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="heart.Parameter">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">Parameter</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#Parameter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.Parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimization parameter determines the bounds of the search space.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="heart.Parameter.random">
<code class="descname">random</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#Parameter.random"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.Parameter.random" title="Permalink to this definition">¶</a></dt>
<dd><p>Create random samples within the parameter bounds.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> of size (n, m)</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="heart.RectangularSource">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">RectangularSource</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#RectangularSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.RectangularSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Source for rectangular fault that unifies the necessary different source
objects for teleseismic and geodetic computations.
Reference point of the depth attribute is the top-center of the fault.</p>
<p>Many of the methods of the RectangularSource have been modified from
the HalfspaceTool from GertjanVanZwieten.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="heart.RectangularSource.bottom_depth">
<code class="descname">bottom_depth</code><span class="sig-paren">(</span><em>depth</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#RectangularSource.bottom_depth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.RectangularSource.bottom_depth" title="Permalink to this definition">¶</a></dt>
<dd><p>Get bottom depth of the fault [m].
(Patches method needs input depth to be top_depth.)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>depth</strong> : scalar, float</p>
<blockquote>
<div><p>depth [m] of the center of the fault</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> with x, y, z coordinates of the central</p>
<p class="last">lower edge of the fault</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="heart.RectangularSource.center">
<code class="descname">center</code><span class="sig-paren">(</span><em>width</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#RectangularSource.center"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.RectangularSource.center" title="Permalink to this definition">¶</a></dt>
<dd><p>Get 3d fault center coordinates. Depth attribute is top depth!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>width</strong> : scalar, float</p>
<blockquote>
<div><p>width [m] of the fault (dip-direction)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> with x, y, z coordinates of the center of the</p>
<p class="last">fault</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="heart.RectangularSource.center2top_depth">
<code class="descname">center2top_depth</code><span class="sig-paren">(</span><em>center</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#RectangularSource.center2top_depth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.RectangularSource.center2top_depth" title="Permalink to this definition">¶</a></dt>
<dd><p>Get top depth of the fault [m] given a potential center point.
(Patches method needs input depth to
be top_depth.)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>center</strong> : scalar, float</p>
<blockquote>
<div><p>coordinates [m] of the center of the fault</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> with x, y, z coordinates of the central</p>
<p class="last">upper edge of the fault</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="heart.RectangularSource.dipvector">
<code class="descname">dipvector</code><a class="headerlink" href="#heart.RectangularSource.dipvector" title="Permalink to this definition">¶</a></dt>
<dd><p>Get 3 dimensional dip-vector of the planar fault.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dip</strong> : scalar, float</p>
<blockquote>
<div><p>dip-angle [deg] of the fault</p>
</div></blockquote>
<p><strong>strike</strong> : scalar, float</p>
<blockquote>
<div><p>strike-abgle [deg] of the fault</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="heart.RectangularSource.extent_source">
<code class="descname">extent_source</code><span class="sig-paren">(</span><em>extension_width</em>, <em>extension_length</em>, <em>patch_width</em>, <em>patch_length</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#RectangularSource.extent_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.RectangularSource.extent_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend fault into all directions. Rounds dimensions to have no
half-patches.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>extension_width</strong> : float</p>
<blockquote>
<div><p>factor to extend source in width (dip-direction)</p>
</div></blockquote>
<p><strong>extension_length</strong> : float</p>
<blockquote>
<div><p>factor extend source in length (strike-direction)</p>
</div></blockquote>
<p><strong>patch_width</strong> : float</p>
<blockquote>
<div><p>Width [m] of subpatch in dip-direction</p>
</div></blockquote>
<p><strong>patch_length</strong> : float</p>
<blockquote>
<div><p>Length [m] of subpatch in strike-direction</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dict with list of <code class="xref py py-class docutils literal"><span class="pre">pscmp.PsCmpRectangularSource</span></code> or</p>
<blockquote class="last">
<div><p><a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.RectangularSource" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.RectangularSource</span></code></a></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="heart.RectangularSource.patches">
<code class="descname">patches</code><span class="sig-paren">(</span><em>nl</em>, <em>nw</em>, <em>datatype</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#RectangularSource.patches"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.RectangularSource.patches" title="Permalink to this definition">¶</a></dt>
<dd><p>Cut source into n by m sub-faults and return n times m
<a class="reference internal" href="#heart.RectangularSource" title="heart.RectangularSource"><code class="xref py py-class docutils literal"><span class="pre">RectangularSource</span></code></a> Objects.
Discretization starts at shallow depth going row-wise deeper.
REQUIRES: self.depth to be TOP DEPTH!!!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>nl</strong> : int</p>
<blockquote>
<div><p>number of patches in length direction (strike)</p>
</div></blockquote>
<p><strong>nw</strong> : int</p>
<blockquote>
<div><p>number of patches in width direction (dip)</p>
</div></blockquote>
<p><strong>datatype</strong> : string</p>
<blockquote>
<div><p>&#8216;geodetic&#8217; or &#8216;seismic&#8217; determines the source to be returned</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><code class="xref py py-class docutils literal"><span class="pre">pscmp.PsCmpRectangularSource</span></code> or</p>
<p><a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.RectangularSource" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.RectangularSource</span></code></a> depending on</p>
<p class="last">datatype. Depth is being updated from top_depth to center_depth.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="heart.RectangularSource.strikevector">
<code class="descname">strikevector</code><a class="headerlink" href="#heart.RectangularSource.strikevector" title="Permalink to this definition">¶</a></dt>
<dd><p>Get 3 dimensional strike-vector of the planar fault.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>strike</strong> : scalar, float</p>
<blockquote>
<div><p>strike-abgle [deg] of the fault</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="heart.RectangularSource.trace_center">
<code class="descname">trace_center</code><span class="sig-paren">(</span><em>depth</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#RectangularSource.trace_center"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.RectangularSource.trace_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Get trace central coordinates of the fault [m] at the surface of the
halfspace.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>depth</strong> : scalar, float</p>
<blockquote>
<div><p>depth [m] of the center of the fault</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> with x, y, z coordinates of the central</p>
<p class="last">lower edge of the fault</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="heart.ReferenceLocation">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">ReferenceLocation</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#ReferenceLocation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.ReferenceLocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Reference Location for Green&#8217;s Function store calculations!</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="heart.SeismicDataset">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">SeismicDataset</code><span class="sig-paren">(</span><em>network=''</em>, <em>station='STA'</em>, <em>location=''</em>, <em>channel=''</em>, <em>tmin=0.0</em>, <em>tmax=None</em>, <em>deltat=1.0</em>, <em>ydata=None</em>, <em>mtime=None</em>, <em>meta=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#SeismicDataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.SeismicDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Extension to <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/trace.html#pyrocko.trace.Trace" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.Trace</span></code></a> to have
<a class="reference internal" href="#heart.Covariance" title="heart.Covariance"><code class="xref py py-class docutils literal"><span class="pre">Covariance</span></code></a> as an attribute.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>covariance</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="heart.SeismicResult">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">SeismicResult</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#SeismicResult"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.SeismicResult" title="Permalink to this definition">¶</a></dt>
<dd><p>Result object assembling different traces of misfit.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="heart.Trace">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">Trace</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#Trace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.Trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="function">
<dt id="heart.check_problem_stores">
<code class="descclassname">heart.</code><code class="descname">check_problem_stores</code><span class="sig-paren">(</span><em>problem</em>, <em>datatypes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#check_problem_stores"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.check_problem_stores" title="Permalink to this definition">¶</a></dt>
<dd><p>Check GF stores for empty traces.</p>
</dd></dl>

<dl class="function">
<dt id="heart.choose_backend">
<code class="descclassname">heart.</code><code class="descname">choose_backend</code><span class="sig-paren">(</span><em>fomosto_config</em>, <em>code</em>, <em>source_model</em>, <em>receiver_model</em>, <em>distances</em>, <em>gf_directory='qseis2d_green'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#choose_backend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.choose_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>Get backend related config.</p>
</dd></dl>

<dl class="function">
<dt id="heart.discretize_sources">
<code class="descclassname">heart.</code><code class="descname">discretize_sources</code><span class="sig-paren">(</span><em>sources=None, extension_width=0.1, extension_length=0.1, patch_width=5000.0, patch_length=5000.0, datatypes=['geodetic'], varnames=['']</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#discretize_sources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.discretize_sources" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend sources into all directions and discretize sources into patches.
Rounds dimensions to have no half-patches.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>sources</strong> : <a class="reference internal" href="#heart.RectangularSource" title="heart.RectangularSource"><code class="xref py py-class docutils literal"><span class="pre">RectangularSource</span></code></a></p>
<blockquote>
<div><p>Reference plane, which is being extended and</p>
</div></blockquote>
<p><strong>extension_width</strong> : float</p>
<blockquote>
<div><p>factor to extend source in width (dip-direction)</p>
</div></blockquote>
<p><strong>extension_length</strong> : float</p>
<blockquote>
<div><p>factor extend source in length (strike-direction)</p>
</div></blockquote>
<p><strong>patch_width</strong> : float</p>
<blockquote>
<div><p>Width [m] of subpatch in dip-direction</p>
</div></blockquote>
<p><strong>patch_length</strong> : float</p>
<blockquote>
<div><p>Length [m] of subpatch in strike-direction</p>
</div></blockquote>
<p><strong>varnames</strong> : list</p>
<blockquote>
<div><p>of str with variable names that are being optimized for</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dict with dict of varnames with list of:</p>
<blockquote class="last">
<div><p><code class="xref py py-class docutils literal"><span class="pre">pscmp.PsCmpRectangularSource</span></code> or
<a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.RectangularSource" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.RectangularSource</span></code></a></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.ensemble_earthmodel">
<code class="descclassname">heart.</code><code class="descname">ensemble_earthmodel</code><span class="sig-paren">(</span><em>ref_earthmod</em>, <em>num_vary=10</em>, <em>error_depth=0.1</em>, <em>error_velocities=0.1</em>, <em>depth_limit_variation=600000.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#ensemble_earthmodel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.ensemble_earthmodel" title="Permalink to this definition">¶</a></dt>
<dd><p>Create ensemble of earthmodels that vary around a given input earth model
by a Gaussian of 2 sigma (in Percent 0.1 = 10%) for the depth layers
and for the p and s wave velocities. Vp / Vs is kept unchanged</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ref_earthmod</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a></p>
<blockquote>
<div><p>Reference earthmodel defining layers, depth, velocities, densities</p>
</div></blockquote>
<p><strong>num_vary</strong> : scalar, int</p>
<blockquote>
<div><p>Number of variation realisations</p>
</div></blockquote>
<p><strong>error_depth</strong> : scalar, float</p>
<blockquote>
<div><p>3 sigma error in percent of the depth for the respective layers</p>
</div></blockquote>
<p><strong>error_velocities</strong> : scalar, float</p>
<blockquote>
<div><p>3 sigma error in percent of the velocities for the respective layers</p>
</div></blockquote>
<p><strong>depth_limit_variation</strong> : scalar, float</p>
<blockquote>
<div><p>depth threshold [m], layers with depth &gt; than this are not varied</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">List of Varied Earthmodels <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.geo_construct_gf">
<code class="descclassname">heart.</code><code class="descname">geo_construct_gf</code><span class="sig-paren">(</span><em>event</em>, <em>geodetic_config</em>, <em>crust_ind=0</em>, <em>execute=True</em>, <em>force=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#geo_construct_gf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.geo_construct_gf" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate geodetic Greens Functions (GFs) and create a fomosto &#8216;GF store&#8217;
that is being used repeatetly later on to calculate the synthetic
displacements. Enables various different source geometries.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>event</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a></p>
<blockquote>
<div><p>The event is used as a reference point for all the calculations
According to the its location the earth model is being built</p>
</div></blockquote>
<p><strong>geodetic_config</strong> : <a class="reference internal" href="#config.GeodeticConfig" title="config.GeodeticConfig"><code class="xref py py-class docutils literal"><span class="pre">config.GeodeticConfig</span></code></a></p>
<p><strong>crust_ind</strong> : int</p>
<blockquote>
<div><p>Index to set to the Greens Function store</p>
</div></blockquote>
<p><strong>execute</strong> : boolean</p>
<blockquote>
<div><p>Flag to execute the calculation, if False just setup tested</p>
</div></blockquote>
<p><strong>force</strong> : boolean</p>
<blockquote class="last">
<div><p>Flag to overwrite existing GF stores</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.geo_construct_gf_linear">
<code class="descclassname">heart.</code><code class="descname">geo_construct_gf_linear</code><span class="sig-paren">(</span><em>engine, outpath, crust_ind=0, datasets=None, targets=None, fault=None, varnames=[''], force=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#geo_construct_gf_linear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.geo_construct_gf_linear" title="Permalink to this definition">¶</a></dt>
<dd><p>Create geodetic Greens Function matrix for defined source geometry.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>engine</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.LocalEngine" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.LocalEngine</span></code></a></p>
<blockquote>
<div><p>main path to directory containing the different Greensfunction stores</p>
</div></blockquote>
<p><strong>outpath</strong> : str</p>
<blockquote>
<div><p>absolute path to the directory and filename where to store the
Green&#8217;s Functions</p>
</div></blockquote>
<p><strong>crust_ind</strong> : int</p>
<blockquote>
<div><p>of index of Greens Function store to use</p>
</div></blockquote>
<p><strong>datasets</strong> : list</p>
<blockquote>
<div><p>of <a class="reference internal" href="#heart.GeodeticDataset" title="heart.GeodeticDataset"><code class="xref py py-class docutils literal"><span class="pre">heart.GeodeticDataset</span></code></a> for which the GFs are calculated</p>
</div></blockquote>
<p><strong>targets</strong> : list</p>
<blockquote>
<div><p>of <a class="reference internal" href="#heart.GeodeticDataset" title="heart.GeodeticDataset"><code class="xref py py-class docutils literal"><span class="pre">heart.GeodeticDataset</span></code></a></p>
</div></blockquote>
<p><strong>fault</strong> : <a class="reference internal" href="#heart.FaultGeometry" title="heart.FaultGeometry"><code class="xref py py-class docutils literal"><span class="pre">FaultGeometry</span></code></a></p>
<blockquote>
<div><p>fault object that may comprise of several sub-faults. thus forming a
complex fault-geometry</p>
</div></blockquote>
<p><strong>varnames</strong> : list</p>
<blockquote>
<div><p>of str with variable names that are being optimized for</p>
</div></blockquote>
<p><strong>force</strong> : bool</p>
<blockquote class="last">
<div><p>Force to overwrite existing files.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.geo_construct_gf_psgrn">
<code class="descclassname">heart.</code><code class="descname">geo_construct_gf_psgrn</code><span class="sig-paren">(</span><em>event</em>, <em>geodetic_config</em>, <em>crust_ind=0</em>, <em>execute=True</em>, <em>force=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#geo_construct_gf_psgrn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.geo_construct_gf_psgrn" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate geodetic Greens Functions (GFs) and create a repository &#8216;store&#8217;
that is being used later on repeatetly to calculate the synthetic
displacements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>event</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a></p>
<blockquote>
<div><p>The event is used as a reference point for all the calculations
According to the its location the earth model is being built</p>
</div></blockquote>
<p><strong>geodetic_config</strong> : <a class="reference internal" href="#config.GeodeticConfig" title="config.GeodeticConfig"><code class="xref py py-class docutils literal"><span class="pre">config.GeodeticConfig</span></code></a></p>
<p><strong>crust_ind</strong> : int</p>
<blockquote>
<div><p>Index to set to the Greens Function store</p>
</div></blockquote>
<p><strong>execute</strong> : boolean</p>
<blockquote>
<div><p>Flag to execute the calculation, if False just setup tested</p>
</div></blockquote>
<p><strong>force</strong> : boolean</p>
<blockquote class="last">
<div><p>Flag to overwrite existing GF stores</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.geo_layer_synthetics_pscmp">
<code class="descclassname">heart.</code><code class="descname">geo_layer_synthetics_pscmp</code><span class="sig-paren">(</span><em>store_superdir</em>, <em>crust_ind</em>, <em>lons</em>, <em>lats</em>, <em>sources</em>, <em>keep_tmp=False</em>, <em>outmode='data'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#geo_layer_synthetics_pscmp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.geo_layer_synthetics_pscmp" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate synthetic displacements for a given Greens Function database
sources and observation points on the earths surface.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>store_superdir</strong> : str</p>
<blockquote>
<div><p>main path to directory containing the different Greensfunction stores</p>
</div></blockquote>
<p><strong>crust_ind</strong> : int</p>
<blockquote>
<div><p>index of Greens Function store to use</p>
</div></blockquote>
<p><strong>lons</strong> : List of floats</p>
<blockquote>
<div><p>Longitudes [decimal deg] of observation points</p>
</div></blockquote>
<p><strong>lats</strong> : List of floats</p>
<blockquote>
<div><p>Latitudes [decimal deg] of observation points</p>
</div></blockquote>
<p><strong>sources</strong> : List of <code class="xref py py-class docutils literal"><span class="pre">pscmp.PsCmpRectangularSource</span></code></p>
<blockquote>
<div><p>Sources to calculate synthetics for</p>
</div></blockquote>
<p><strong>keep_tmp</strong> : boolean</p>
<blockquote>
<div><p>Flag to keep directories (in &#8216;/tmp&#8217;) where calculated synthetics are
stored.</p>
</div></blockquote>
<p><strong>outmode</strong> : str</p>
<blockquote>
<div><p>determines type of output</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (n_observations; ux-North, uy-East, uz-Down)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.geo_synthetics">
<code class="descclassname">heart.</code><code class="descname">geo_synthetics</code><span class="sig-paren">(</span><em>engine</em>, <em>targets</em>, <em>sources</em>, <em>outmode='stacked_array'</em>, <em>plot=False</em>, <em>nprocs=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#geo_synthetics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.geo_synthetics" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate synthetic displacements for a given static fomosto Greens
Function database for sources and targets on the earths surface.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>engine</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.LocalEngine" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.LocalEngine</span></code></a></p>
<p><strong>sources</strong> : list</p>
<blockquote>
<div><p>containing <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.Source" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Source</span></code></a> Objects
reference source is the first in the list!!!</p>
</div></blockquote>
<p><strong>targets</strong> : list</p>
<blockquote>
<div><p>containing <code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Target</span></code> Objects</p>
</div></blockquote>
<p><strong>plot</strong> : boolean</p>
<blockquote>
<div><p>flag for looking at synthetics - not implemented yet</p>
</div></blockquote>
<p><strong>nprocs</strong> : int</p>
<blockquote>
<div><p>number of processors to use for synthetics calculation
&#8211;&gt; currently no effect !!!</p>
</div></blockquote>
<p><strong>outmode</strong> : string</p>
<blockquote>
<div><p>output format of synthetics can be: &#8216;array&#8217;, &#8216;arrays&#8217;,
&#8216;stacked_array&#8217;,&#8217;stacked_arrays&#8217;</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">depends on outmode:</p>
<p>&#8216;stacked_array&#8217;</p>
<p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (n_observations; ux-North, uy-East, uz-Down)</p>
<p>&#8216;stacked_arrays&#8217;</p>
<p>or list of</p>
<p class="last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (target.samples; ux-North, uy-East, uz-Down)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.get_fomosto_baseconfig">
<code class="descclassname">heart.</code><code class="descname">get_fomosto_baseconfig</code><span class="sig-paren">(</span><em>gfconfig</em>, <em>event</em>, <em>station</em>, <em>channels</em>, <em>crust_ind</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#get_fomosto_baseconfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.get_fomosto_baseconfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise fomosto config.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>gfconfig</strong> : <a class="reference internal" href="#config.NonlinearGFConfig" title="config.NonlinearGFConfig"><code class="xref py py-class docutils literal"><span class="pre">config.NonlinearGFConfig</span></code></a></p>
<p><strong>event</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a></p>
<blockquote>
<div><p>The event is used as a reference point for all the calculations
According to the its location the earth model is being built</p>
</div></blockquote>
<p><strong>station</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Station" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Station</span></code></a> or</p>
<blockquote>
<div><p><a class="reference internal" href="#heart.ReferenceLocation" title="heart.ReferenceLocation"><code class="xref py py-class docutils literal"><span class="pre">heart.ReferenceLocation</span></code></a></p>
</div></blockquote>
<p><strong>crust_ind</strong> : int</p>
<blockquote>
<div><p>Index to set to the Greens Function store</p>
</div></blockquote>
<p><strong>channels</strong> : List of str</p>
<blockquote class="last">
<div><dl class="docutils">
<dt>Components of the traces to be optimized for if rotated:</dt>
<dd><p class="first last">T - transversal, Z - vertical, R - radial</p>
</dd>
<dt>If not rotated:</dt>
<dd><p class="first last">E - East, N- North, U - Up (Vertical)</p>
</dd>
<dt>if empty:</dt>
<dd><p class="first last">no tabulated phases set</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.get_phase_arrival_time">
<code class="descclassname">heart.</code><code class="descname">get_phase_arrival_time</code><span class="sig-paren">(</span><em>engine</em>, <em>source</em>, <em>target</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#get_phase_arrival_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.get_phase_arrival_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Get arrival time from Greens Function store for respective
<code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Target</span></code>,
<a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.meta.Location" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.meta.Location</span></code></a> pair. The channel of the target
determines if S or P wave arrival time is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>engine</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.LocalEngine" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.LocalEngine</span></code></a></p>
<p><strong>source</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.meta.Location" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.meta.Location</span></code></a></p>
<blockquote>
<div><p>can be therefore <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.Source" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Source</span></code></a> or
<a class="reference external" href="http://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a></p>
</div></blockquote>
<p><strong>target</strong> : <code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Target</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">scalar, float of the arrival time of the wave</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.get_phase_taperer">
<code class="descclassname">heart.</code><code class="descname">get_phase_taperer</code><span class="sig-paren">(</span><em>engine</em>, <em>source</em>, <em>target</em>, <em>arrival_taper</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#get_phase_taperer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.get_phase_taperer" title="Permalink to this definition">¶</a></dt>
<dd><p>Create phase taperer according to synthetic travel times from
source- target pair and taper return <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/trace.html#pyrocko.trace.CosTaper" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.CosTaper</span></code></a>
according to defined arrival_taper times.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>engine</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.LocalEngine" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.LocalEngine</span></code></a></p>
<p><strong>source</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.meta.Location" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.meta.Location</span></code></a></p>
<blockquote>
<div><p>can be therefore <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.Source" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Source</span></code></a> or
<a class="reference external" href="http://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a></p>
</div></blockquote>
<p><strong>target</strong> : <code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Target</span></code></p>
<p><strong>arrival_taper</strong> : <a class="reference internal" href="#heart.ArrivalTaper" title="heart.ArrivalTaper"><code class="xref py py-class docutils literal"><span class="pre">ArrivalTaper</span></code></a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://pyrocko.org/v0.3/library/reference/trace.html#pyrocko.trace.CosTaper" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.CosTaper</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.get_slowness_taper">
<code class="descclassname">heart.</code><code class="descname">get_slowness_taper</code><span class="sig-paren">(</span><em>fomosto_config</em>, <em>velocity_model</em>, <em>distances</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#get_slowness_taper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.get_slowness_taper" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate slowness taper for backends that determine wavefield based
on the velociy model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fomosto_config</strong> : <code class="xref py py-class docutils literal"><span class="pre">pyrocko.meta.Config</span></code></p>
<p><strong>velocity_model</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a></p>
<p><strong>distances</strong> : tuple</p>
<blockquote>
<div><p>minimum and maximum distance [deg]</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">tuple of slownesses</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.get_velocity_model">
<code class="descclassname">heart.</code><code class="descname">get_velocity_model</code><span class="sig-paren">(</span><em>location</em>, <em>earth_model_name</em>, <em>crust_ind=0</em>, <em>gf_config=None</em>, <em>custom_velocity_model=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#get_velocity_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.get_velocity_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Get velocity model at the specified location, combines given or crustal
models with the global model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>location</strong> : <code class="xref py py-class docutils literal"><span class="pre">pyrocko.meta.Location</span></code></p>
<p><strong>earth_model_name</strong> : str</p>
<blockquote>
<div><p>Name of the base earth model to be used, check
<code class="xref py py-func docutils literal"><span class="pre">pyrocko.cake.builtin_models()</span></code> for alternatives,
default ak135 with medium resolution</p>
</div></blockquote>
<p><strong>crust_ind</strong> : int</p>
<blockquote>
<div><p>Index to set to the Greens Function store, 0 is reference store
indexes &gt; 0 use reference model and vary its parameters by a Gaussian</p>
</div></blockquote>
<p><strong>gf_config</strong> : <code class="xref py py-class docutils literal"><span class="pre">beat.config.GFConfig</span></code></p>
<p><strong>custom_velocity_model</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://pyrocko.org/v0.3/library/reference/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.init_geodetic_targets">
<code class="descclassname">heart.</code><code class="descname">init_geodetic_targets</code><span class="sig-paren">(</span><em>datasets, earth_model_name='ak135-f-average.m', interpolation='nearest_neighbor', crust_inds=[0], sample_rate=0.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#init_geodetic_targets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.init_geodetic_targets" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiate a list of Static target objects given a list of indexes to the
respective GF store velocity model variation index (crust_inds).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>datasets</strong> : list</p>
<blockquote>
<div><p>of <a class="reference internal" href="#heart.GeodeticDataset" title="heart.GeodeticDataset"><code class="xref py py-class docutils literal"><span class="pre">heart.GeodeticDataset</span></code></a> for which the targets are being
initialised</p>
</div></blockquote>
<p><strong>earth_model_name = str</strong></p>
<blockquote>
<div><p>Name of the earth model that has been used for GF calculation.</p>
</div></blockquote>
<p><strong>sample_rate</strong> : scalar, float</p>
<blockquote>
<div><p>sample rate [Hz] of the Greens Functions to use</p>
</div></blockquote>
<p><strong>crust_inds</strong> : List of int</p>
<blockquote>
<div><p>Indexes of different velocity model realisations, 0 - reference model</p>
</div></blockquote>
<p><strong>interpolation</strong> : str</p>
<blockquote>
<div><p>Method of interpolation for the Greens Functions, can be &#8216;multilinear&#8217;
or &#8216;nearest_neighbor&#8217;</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">List of <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.targets.StaticTarget" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.targets.StaticTarget</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.init_seismic_targets">
<code class="descclassname">heart.</code><code class="descname">init_seismic_targets</code><span class="sig-paren">(</span><em>stations, earth_model_name='ak135-f-average.m', channels=['T', 'Z'], sample_rate=1.0, crust_inds=[0], interpolation='multilinear', reference_location=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#init_seismic_targets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.init_seismic_targets" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiate a list of target objects given a list of indexes to the
respective GF store velocity model variation index (crust_inds).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>stations</strong> : List of <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Station" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Station</span></code></a></p>
<blockquote>
<div><p>List of station objects for which the targets are being initialised</p>
</div></blockquote>
<p><strong>earth_model_name = str</strong></p>
<blockquote>
<div><p>Name of the earth model that has been used for GF calculation.</p>
</div></blockquote>
<p><strong>channels</strong> : List of str</p>
<blockquote>
<div><p>Components of the traces to be optimized for if rotated:
T - transversal, Z - vertical, R - radial
If not rotated:
E - East, N- North, U - Up (Vertical)</p>
</div></blockquote>
<p><strong>sample_rate</strong> : scalar, float</p>
<blockquote>
<div><p>sample rate [Hz] of the Greens Functions to use</p>
</div></blockquote>
<p><strong>crust_inds</strong> : List of int</p>
<blockquote>
<div><p>Indexes of different velocity model realisations, 0 - reference model</p>
</div></blockquote>
<p><strong>interpolation</strong> : str</p>
<blockquote>
<div><p>Method of interpolation for the Greens Functions, can be &#8216;multilinear&#8217;
or &#8216;nearest_neighbor&#8217;</p>
</div></blockquote>
<p><strong>reference_location</strong> : <a class="reference internal" href="#heart.ReferenceLocation" title="heart.ReferenceLocation"><code class="xref py py-class docutils literal"><span class="pre">ReferenceLocation</span></code></a> or</p>
<blockquote>
<div><p><a class="reference external" href="http://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Station" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Station</span></code></a>
if given, targets are initialised with this reference location</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">List of <a class="reference internal" href="#heart.DynamicTarget" title="heart.DynamicTarget"><code class="xref py py-class docutils literal"><span class="pre">DynamicTarget</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.log_determinant">
<code class="descclassname">heart.</code><code class="descname">log_determinant</code><span class="sig-paren">(</span><em>A</em>, <em>inverse=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#log_determinant"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.log_determinant" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the natural logarithm of a determinant of the given matrix &#8216;
according to the properties of a triangular matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>A</strong> : n x n <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<p><strong>inverse</strong> : boolean</p>
<blockquote>
<div><p>If true calculates the log determinant of the inverse of the colesky
decomposition, which is equvalent to taking the determinant of the
inverse of the matrix.</p>
<p>L.T* L = R           inverse=False
L-1*(L-1)T = R-1     inverse=True</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">float logarithm of the determinant of the input Matrix A</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.seis_construct_gf">
<code class="descclassname">heart.</code><code class="descname">seis_construct_gf</code><span class="sig-paren">(</span><em>stations</em>, <em>event</em>, <em>seismic_config</em>, <em>crust_ind=0</em>, <em>execute=False</em>, <em>force=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#seis_construct_gf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.seis_construct_gf" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate seismic Greens Functions (GFs) and create a repository &#8216;store&#8217;
that is being used later on repeatetly to calculate the synthetic
waveforms.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>stations</strong> : list</p>
<blockquote>
<div><p>of <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Station" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Station</span></code></a>
Station object that defines the distance from the event for which the
GFs are being calculated</p>
</div></blockquote>
<p><strong>event</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a></p>
<blockquote>
<div><p>The event is used as a reference point for all the calculations
According to the its location the earth model is being built</p>
</div></blockquote>
<p><strong>seismic_config</strong> : <a class="reference internal" href="#config.SeismicConfig" title="config.SeismicConfig"><code class="xref py py-class docutils literal"><span class="pre">config.SeismicConfig</span></code></a></p>
<p><strong>crust_ind</strong> : int</p>
<blockquote>
<div><p>Index to set to the Greens Function store, 0 is reference store
indexes &gt; 0 use reference model and vary its parameters by a Gaussian</p>
</div></blockquote>
<p><strong>execute</strong> : boolean</p>
<blockquote>
<div><p>Flag to execute the calculation, if False just setup tested</p>
</div></blockquote>
<p><strong>force</strong> : boolean</p>
<blockquote class="last">
<div><p>Flag to overwrite existing GF stores</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.seis_synthetics">
<code class="descclassname">heart.</code><code class="descname">seis_synthetics</code><span class="sig-paren">(</span><em>engine</em>, <em>sources</em>, <em>targets</em>, <em>arrival_taper=None</em>, <em>filterer=None</em>, <em>reference_taperer=None</em>, <em>plot=False</em>, <em>nprocs=1</em>, <em>outmode='array'</em>, <em>pre_stack_cut=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#seis_synthetics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.seis_synthetics" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate synthetic seismograms of combination of targets and sources,
filtering and tapering afterwards (filterer)
tapering according to arrival_taper around P -or S wave.
If reference_taper the given taper is always used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>engine</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.LocalEngine" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.LocalEngine</span></code></a></p>
<p><strong>sources</strong> : list</p>
<blockquote>
<div><p>containing <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.Source" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Source</span></code></a> Objects
reference source is the first in the list!!!</p>
</div></blockquote>
<p><strong>targets</strong> : list</p>
<blockquote>
<div><p>containing <code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Target</span></code> Objects</p>
</div></blockquote>
<p><strong>arrival_taper</strong> : <a class="reference internal" href="#heart.ArrivalTaper" title="heart.ArrivalTaper"><code class="xref py py-class docutils literal"><span class="pre">ArrivalTaper</span></code></a></p>
<p><strong>filterer</strong> : <code class="xref py py-class docutils literal"><span class="pre">Filterer</span></code></p>
<p><strong>reference_taperer</strong> : <a class="reference internal" href="#heart.ArrivalTaper" title="heart.ArrivalTaper"><code class="xref py py-class docutils literal"><span class="pre">ArrivalTaper</span></code></a></p>
<blockquote>
<div><p>if set all the traces are tapered with the specifications of this Taper</p>
</div></blockquote>
<p><strong>plot</strong> : boolean</p>
<blockquote>
<div><p>flag for looking at traces</p>
</div></blockquote>
<p><strong>nprocs</strong> : int</p>
<blockquote>
<div><p>number of processors to use for synthetics calculation
&#8211;&gt; currently no effect !!!</p>
</div></blockquote>
<p><strong>outmode</strong> : string</p>
<blockquote>
<div><p>output format of synthetics can be &#8216;array&#8217;, &#8216;stacked_traces&#8217;,
&#8216;full&#8217; returns traces unstacked including post-processing</p>
</div></blockquote>
<p><strong>pre_stack_cut</strong> : boolean</p>
<blockquote>
<div><p>flag to decide wheather prior to stacking the GreensFunction traces
should be cutted according to the phase arival time and the defined
taper</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> or List of <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/trace.html#pyrocko.trace.Trace" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.Trace</span></code></a></p>
<blockquote class="last">
<div><p>with data each row-one target</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.taper_filter_traces">
<code class="descclassname">heart.</code><code class="descname">taper_filter_traces</code><span class="sig-paren">(</span><em>data_traces</em>, <em>arrival_taper=None</em>, <em>filterer=None</em>, <em>tmins=None</em>, <em>plot=False</em>, <em>outmode='array'</em>, <em>chop=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#taper_filter_traces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.taper_filter_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Taper and filter data_traces according to given taper and filterers.
Tapering will start at the given tmin.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data_traces</strong> : List</p>
<blockquote>
<div><p>containing <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/trace.html#pyrocko.trace.Trace" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.Trace</span></code></a> objects</p>
</div></blockquote>
<p><strong>arrival_taper</strong> : <a class="reference internal" href="#heart.ArrivalTaper" title="heart.ArrivalTaper"><code class="xref py py-class docutils literal"><span class="pre">ArrivalTaper</span></code></a></p>
<p><strong>filterer</strong> : <code class="xref py py-class docutils literal"><span class="pre">Filterer</span></code></p>
<p><strong>tmins</strong> : list or:class:<cite>numpy.ndarray</cite></p>
<blockquote>
<div><p>containing the start times [s] since 1st.January 1970 to start
tapering</p>
</div></blockquote>
<p><strong>outmode</strong> : str</p>
<blockquote>
<div><p>defines the output structure, options: &#8220;traces&#8221;, &#8220;array&#8221;</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote class="last">
<div><p>with tapered and filtered data traces, rows different traces,
columns temporal values</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.vary_model">
<code class="descclassname">heart.</code><code class="descname">vary_model</code><span class="sig-paren">(</span><em>earthmod</em>, <em>error_depth=0.1</em>, <em>error_velocities=0.1</em>, <em>depth_limit_variation=600000.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#vary_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.vary_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Vary depths and velocities in the given source model by Gaussians with
given 2-sigma errors [percent]. Ensures increasing velocity with depth.
Stops variating the input model at the given depth_limit_variation [m].
Mantle discontinuity uncertainties are hardcoded based on
Mooney et al. 1981 and Woodward et al.1991</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>earthmod</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a></p>
<blockquote>
<div><p>Earthmodel defining layers, depth, velocities, densities</p>
</div></blockquote>
<p><strong>error_depth</strong> : scalar, float</p>
<blockquote>
<div><p>2 sigma error in percent of the depth for the respective layers</p>
</div></blockquote>
<p><strong>error_velocities</strong> : scalar, float</p>
<blockquote>
<div><p>2 sigma error in percent of the velocities for the respective layers</p>
</div></blockquote>
<p><strong>depth_limit_variations</strong> : scalar, float</p>
<blockquote>
<div><p>depth threshold [m], layers with depth &gt; than this are not varied</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>Varied Earthmodel</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a></p>
<p><strong>Cost</strong> : int</p>
<blockquote class="last">
<div><p>Counts repetitions of cycles to ensure increasing layer velocity,
unlikely velocities have high Cost
Cost of up to 20 are ok for crustal profiles.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-config">
<span id="the-config-module"></span><h2>The <a class="reference internal" href="#module-config" title="config"><code class="xref py py-mod docutils literal"><span class="pre">config</span></code></a> Module<a class="headerlink" href="#module-config" title="Permalink to this headline">¶</a></h2>
<p>The config module contains the classes to build the configuration files that
are being read by the beat executable.</p>
<p>So far there are configuration files for the three main optimization problems
implemented. Solving the fault geometry, the static distributed slip and the
kinematic distributed slip.</p>
<dl class="class">
<dt id="config.BEATconfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">BEATconfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#BEATconfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.BEATconfig" title="Permalink to this definition">¶</a></dt>
<dd><p>BEATconfig is the overarching configuration class, providing all the
sub-configurations classes for the problem setup, Greens Function
generation, optimization algorithm and the data being used.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="config.BEATconfig.update_hypers">
<code class="descname">update_hypers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#BEATconfig.update_hypers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.BEATconfig.update_hypers" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the whole config and initialise necessary hyperparameters.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="config.GFConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">GFConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#GFConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.GFConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Base config for GreensFunction calculation parameters.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="config.GeodeticConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">GeodeticConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#GeodeticConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.GeodeticConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Config for geodetic data optimization related parameters.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="config.GeodeticGFConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">GeodeticGFConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#GeodeticGFConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.GeodeticGFConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Geodetic GF parameters for Layered Halfspace.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="config.LinearGFConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">LinearGFConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#LinearGFConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.LinearGFConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Config for linear GreensFunction calculation parameters.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="config.MetropolisConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">MetropolisConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#MetropolisConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.MetropolisConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Config for optimization parameters of the Adaptive Metropolis algorithm.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="config.NonlinearGFConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">NonlinearGFConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#NonlinearGFConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.NonlinearGFConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Config for non-linear GreensFunction calculation parameters.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="config.ProblemConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">ProblemConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#ProblemConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.ProblemConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Config for optimization problem to setup.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="config.ProblemConfig.init_vars">
<code class="descname">init_vars</code><span class="sig-paren">(</span><em>variables=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#ProblemConfig.init_vars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.ProblemConfig.init_vars" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiate priors based on the problem mode and datatypes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>variables</strong> : list</p>
<blockquote class="last">
<div><p>of str of variable names to initialise</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="config.ProblemConfig.select_variables">
<code class="descname">select_variables</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#ProblemConfig.select_variables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.ProblemConfig.select_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Return model variables depending on problem config.</p>
</dd></dl>

<dl class="method">
<dt id="config.ProblemConfig.set_decimation_factor">
<code class="descname">set_decimation_factor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#ProblemConfig.set_decimation_factor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.ProblemConfig.set_decimation_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the reduction of discretization of an extended source.
Influences yet only the RectangularSource.</p>
</dd></dl>

<dl class="method">
<dt id="config.ProblemConfig.validate_hypers">
<code class="descname">validate_hypers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#ProblemConfig.validate_hypers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.ProblemConfig.validate_hypers" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if hyperparameters and their test values do not contradict!</p>
</dd></dl>

<dl class="method">
<dt id="config.ProblemConfig.validate_priors">
<code class="descname">validate_priors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#ProblemConfig.validate_priors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.ProblemConfig.validate_priors" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if priors and their test values do not contradict!</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="config.SMCConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">SMCConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#SMCConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.SMCConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Config for optimization parameters of the SMC algorithm.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="config.SamplerConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">SamplerConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#SamplerConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.SamplerConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Config for the sampler specific parameters.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="config.SamplerParameters">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">SamplerParameters</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#SamplerParameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.SamplerParameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="config.SeismicConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">SeismicConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#SeismicConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.SeismicConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Config for seismic data optimization related parameters.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="config.SeismicGFConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">SeismicGFConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#SeismicGFConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.SeismicGFConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Seismic GF parameters for Layered Halfspace.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="function">
<dt id="config.dump_config">
<code class="descclassname">config.</code><code class="descname">dump_config</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#dump_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.dump_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Load configuration file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>config</strong> : <code class="xref py py-class docutils literal"><span class="pre">BEATConfig</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="config.init_config">
<code class="descclassname">config.</code><code class="descname">init_config</code><span class="sig-paren">(</span><em>name, date=None, min_magnitude=6.0, main_path='./', datatypes=['geodetic'], mode='geometry', source_type='RectangularSource', n_sources=1, sampler='SMC', hyper_sampler='Metropolis', use_custom=False, individual_gfs=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#init_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.init_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise BEATconfig File and write it main_path/name .
Fine parameters have to be edited in the config file .yaml manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>name</strong> : str</p>
<blockquote>
<div><p>Name of the event</p>
</div></blockquote>
<p><strong>date</strong> : str</p>
<blockquote>
<div><p>&#8216;YYYY-MM-DD&#8217;, date of the event</p>
</div></blockquote>
<p><strong>min_magnitude</strong> : scalar, float</p>
<blockquote>
<div><p>approximate minimum Mw of the event</p>
</div></blockquote>
<p><strong>datatypes</strong> : List of strings</p>
<blockquote>
<div><p>data sets to include in the optimization: either &#8216;geodetic&#8217; and/or
&#8216;seismic&#8217;</p>
</div></blockquote>
<p><strong>mode</strong> : str</p>
<blockquote>
<div><p>type of optimization problem: &#8216;Geometry&#8217; / &#8216;Static&#8217;/ &#8216;Kinematic&#8217;</p>
</div></blockquote>
<p><strong>n_sources</strong> : int</p>
<blockquote>
<div><p>number of sources to solve for / discretize depending on mode parameter</p>
</div></blockquote>
<p><strong>sampler</strong> : str</p>
<blockquote>
<div><p>Optimization algorithm to use to sample the solution space
Options: &#8216;SMC&#8217;, &#8216;Metropolis&#8217;</p>
</div></blockquote>
<p><strong>use_custom</strong> : boolean</p>
<blockquote>
<div><p>Flag to setup manually a custom velocity model.</p>
</div></blockquote>
<p><strong>individual_gfs</strong> : boolean</p>
<blockquote>
<div><p>Flag to use individual Green&#8217;s Functions for each specific station.
If false a reference location will be initialised in the config file.
If true the reference locations will be taken from the imported station
objects.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#config.BEATconfig" title="config.BEATconfig"><code class="xref py py-class docutils literal"><span class="pre">BEATconfig</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="config.load_config">
<code class="descclassname">config.</code><code class="descname">load_config</code><span class="sig-paren">(</span><em>project_dir</em>, <em>mode</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#load_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.load_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Load configuration file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>project_dir</strong> : str</p>
<blockquote>
<div><p>path to the directory of the configuration file</p>
</div></blockquote>
<p><strong>mode</strong> : str</p>
<blockquote>
<div><p>type of optimization problem: &#8216;geometry&#8217; / &#8216;static&#8217;/ &#8216;kinematic&#8217;</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#config.BEATconfig" title="config.BEATconfig"><code class="xref py py-class docutils literal"><span class="pre">BEATconfig</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-smc">
<span id="the-smc-module"></span><h2>The <a class="reference internal" href="#module-smc" title="smc"><code class="xref py py-mod docutils literal"><span class="pre">smc</span></code></a> Module<a class="headerlink" href="#module-smc" title="Permalink to this headline">¶</a></h2>
<p>Sequential Monte Carlo Sampler module;
in geosciences also known as
Adaptive Transitional Marcov Chain Monte Carlo sampler module.</p>
<p>Runs on any pymc3 model.</p>
<p>Created on March, 2016</p>
<p>Various significant updates July, August 2016</p>
<p>&#64;author: Hannes Vasyura-Bathke</p>
<dl class="class">
<dt id="smc.SMC">
<em class="property">class </em><code class="descclassname">smc.</code><code class="descname">SMC</code><span class="sig-paren">(</span><em>vars=None</em>, <em>out_vars=None</em>, <em>covariance=None</em>, <em>scale=1.0</em>, <em>n_chains=100</em>, <em>tune=True</em>, <em>tune_interval=100</em>, <em>model=None</em>, <em>check_bound=True</em>, <em>likelihood_name='like'</em>, <em>proposal_name='MultivariateNormal'</em>, <em>coef_variation=1.0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smc.html#SMC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#smc.SMC" title="Permalink to this definition">¶</a></dt>
<dd><p>Adaptive Transitional Markov-Chain Monte-Carlo sampler class.</p>
<p>Creates initial samples and framework around the (C)ATMIP parameters</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>vars</strong> : list</p>
<blockquote>
<div><p>List of variables for sampler</p>
</div></blockquote>
<p><strong>out_vars</strong> : list</p>
<blockquote>
<div><p>List of output variables for trace recording. If empty unobserved_RVs
are taken.</p>
</div></blockquote>
<p><strong>n_chains</strong> : int</p>
<blockquote>
<div><p>Number of chains per stage has to be a large number
of number of n_jobs (processors to be used) on the machine.</p>
</div></blockquote>
<p><strong>scaling</strong> : float</p>
<blockquote>
<div><p>Factor applied to the proposal distribution i.e. the step size of the
Markov Chain</p>
</div></blockquote>
<p><strong>covariance</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>(n_chains x n_chains) for MutlivariateNormal, otherwise (n_chains)
Initial Covariance matrix for proposal distribution,
if None - identity matrix taken</p>
</div></blockquote>
<p><strong>likelihood_name</strong> : string</p>
<blockquote>
<div><p>name of the <code class="xref py py-class docutils literal"><span class="pre">pymc3.determinsitic</span></code> variable that contains the
model likelihood - defaults to &#8216;like&#8217;</p>
</div></blockquote>
<p><strong>proposal_dist :</strong></p>
<blockquote>
<div><p><code class="xref py py-class docutils literal"><span class="pre">pymc3.metropolis.Proposal</span></code>
Type of proposal distribution, see
<a href="#id1"><span class="problematic" id="id2">:module:`pymc3.step_methods.metropolis`</span></a> for options</p>
</div></blockquote>
<p><strong>tune</strong> : boolean</p>
<blockquote>
<div><p>Flag for adaptive scaling based on the acceptance rate</p>
</div></blockquote>
<p><strong>coef_variation</strong> : scalar, float</p>
<blockquote>
<div><p>Coefficient of variation, determines the change of beta
from stage to stage, i.e.indirectly the number of stages,
low coef_variation &#8211;&gt; slow beta change,
results in many stages and vice verca (default: 1.)</p>
</div></blockquote>
<p><strong>check_bound</strong> : boolean</p>
<blockquote>
<div><p>Check if current sample lies outside of variable definition
speeds up computation as the forward model wont be executed
default: True</p>
</div></blockquote>
<p><strong>model</strong> : <code class="xref py py-class docutils literal"><span class="pre">pymc3.Model</span></code></p>
<blockquote class="last">
<div><p>Optional model for sampling step.
Defaults to None (taken from context).</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="ching2007" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[Ching2007]</a></td><td>Ching, J. and Chen, Y. (2007).
Transitional Markov Chain Monte Carlo Method for Bayesian Model
Updating, Model Class Selection, and Model Averaging.
J. Eng. Mech., 10.1061/(ASCE)0733-9399(2007)133:7(816), 816-832.
<a class="reference external" href="http://ascelibrary.org/doi/abs/10.1061/%28ASCE%290733-9399%282007%29133:7%28816%29">link</a></td></tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="smc.SMC.calc_beta">
<code class="descname">calc_beta</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/smc.html#SMC.calc_beta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#smc.SMC.calc_beta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate next tempering beta and importance weights based on
current beta and sample likelihoods.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>beta(m+1)</strong> : scalar, float</p>
<blockquote>
<div><p>tempering parameter of the next stage</p>
</div></blockquote>
<p><strong>beta(m)</strong> : scalar, float</p>
<blockquote>
<div><p>tempering parameter of the current stage</p>
</div></blockquote>
<p><strong>weights</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Importance weights (floats)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="smc.SMC.calc_covariance">
<code class="descname">calc_covariance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/smc.html#SMC.calc_covariance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#smc.SMC.calc_covariance" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate trace covariance matrix based on importance weights.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>cov</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote class="last">
<div><p>weighted covariances (NumPy &gt; 1.10. required)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="smc.SMC.get_chain_previous_lpoint">
<code class="descname">get_chain_previous_lpoint</code><span class="sig-paren">(</span><em>mtrace</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smc.html#SMC.get_chain_previous_lpoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#smc.SMC.get_chain_previous_lpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Read trace results and take end points for each chain and set as
previous chain result for comparison of metropolis select.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mtrace</strong> : <code class="xref py py-class docutils literal"><span class="pre">pymc3.backend.base.MultiTrace</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>chain_previous_lpoint</strong> : list</p>
<blockquote class="last">
<div><p>all unobservedRV values, including dataset likelihoods</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="smc.SMC.mean_end_points">
<code class="descname">mean_end_points</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/smc.html#SMC.mean_end_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#smc.SMC.mean_end_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate mean of the end-points and return point.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary of trace variables</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="smc.SMC.resample">
<code class="descname">resample</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/smc.html#SMC.resample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#smc.SMC.resample" title="Permalink to this definition">¶</a></dt>
<dd><p>Resample pdf based on importance weights.
based on Kitagawas deterministic resampling algorithm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>outindex</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Array of resampled trace indexes</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="smc.SMC.select_end_points">
<code class="descname">select_end_points</code><span class="sig-paren">(</span><em>mtrace</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smc.html#SMC.select_end_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#smc.SMC.select_end_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Read trace results (variables and model likelihood) and take end points
for each chain and set as start population for the next stage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mtrace</strong> : <code class="xref py py-class docutils literal"><span class="pre">pymc3.backend.base.MultiTrace</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>population</strong> : list</p>
<blockquote>
<div><p>of <code class="xref py py-func docutils literal"><span class="pre">pymc3.Point()</span></code> dictionaries</p>
</div></blockquote>
<p><strong>array_population</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>Array of trace end-points</p>
</div></blockquote>
<p><strong>likelihoods</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Array of likelihoods of the trace end-points</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="smc.ATMIP_sample">
<code class="descclassname">smc.</code><code class="descname">ATMIP_sample</code><span class="sig-paren">(</span><em>n_steps</em>, <em>step=None</em>, <em>start=None</em>, <em>homepath=None</em>, <em>chain=0</em>, <em>stage=None</em>, <em>n_jobs=1</em>, <em>tune=None</em>, <em>progressbar=False</em>, <em>model=None</em>, <em>update=None</em>, <em>random_seed=None</em>, <em>rm_flag=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smc.html#ATMIP_sample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#smc.ATMIP_sample" title="Permalink to this definition">¶</a></dt>
<dd><p>(C)ATMIP sampling algorithm
(Cascading - (C) not always relevant)</p>
<p>Samples the solution space with n_chains of Metropolis chains, where each
chain has n_steps iterations. Once finished, the sampled traces are
evaluated:</p>
<ol class="arabic simple">
<li>Based on the likelihoods of the final samples, chains are weighted</li>
<li>the weighted covariance of the ensemble is calculated and set as new
proposal distribution</li>
<li>the variation in the ensemble is calculated and the next tempering
parameter (beta) calculated</li>
<li>New n_chains Metropolis chains are seeded on the traces with high
weight for n_steps iterations</li>
<li>Repeat until beta &gt; 1.</li>
</ol>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>n_steps</strong> : int</p>
<blockquote>
<div><p>The number of samples to draw for each Markov-chain per stage</p>
</div></blockquote>
<p><strong>step</strong> : <a class="reference internal" href="#smc.SMC" title="smc.SMC"><code class="xref py py-class docutils literal"><span class="pre">SMC</span></code></a></p>
<blockquote>
<div><p>SMC initialisation object</p>
</div></blockquote>
<p><strong>start</strong> : List of dictionaries</p>
<blockquote>
<div><p>with length of (n_chains)
Starting points in parameter space (or partial point)
Defaults to random draws from variables (defaults to empty dict)</p>
</div></blockquote>
<p><strong>chain</strong> : int</p>
<blockquote>
<div><p>Chain number used to store sample in backend. If <cite>n_jobs</cite> is
greater than one, chain numbers will start here.</p>
</div></blockquote>
<p><strong>stage</strong> : str</p>
<blockquote>
<div><p>Stage where to start or continue the calculation. It is possible to
continue after completed stages (stage should be the number of the
completed stage + 1). If None the start will be at stage = 0.</p>
</div></blockquote>
<p><strong>n_jobs</strong> : int</p>
<blockquote>
<div><p>The number of cores to be used in parallel. Be aware that theano has
internal parallelisation. Sometimes this is more efficient especially
for simple models.
step.n_chains / n_jobs has to be an integer number!</p>
</div></blockquote>
<p><strong>tune</strong> : int</p>
<blockquote>
<div><p>Number of iterations to tune, if applicable (defaults to None)</p>
</div></blockquote>
<p><strong>homepath</strong> : string</p>
<blockquote>
<div><p>Result_folder for storing stages, will be created if not existing.</p>
</div></blockquote>
<p><strong>progressbar</strong> : bool</p>
<blockquote>
<div><p>Flag for displaying a progress bar</p>
</div></blockquote>
<p><strong>model</strong> : <code class="xref py py-class docutils literal"><span class="pre">pymc3.Model</span></code></p>
<blockquote>
<div><p>(optional if in <cite>with</cite> context) has to contain deterministic
variable name defined under step.likelihood_name&#8217; that contains the
model likelihood</p>
</div></blockquote>
<p><strong>update</strong> : <code class="xref py py-class docutils literal"><span class="pre">models.Problem</span></code></p>
<blockquote>
<div><p>Problem object that contains all the observed data and (if applicable)
covariances to be updated each transition step.</p>
</div></blockquote>
<p><strong>rm_flag</strong> : bool</p>
<blockquote class="last">
<div><p>If True existing stage result folders are being deleted prior to
sampling.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="minson2013" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[Minson2013]</a></td><td>Minson, S. E. and Simons, M. and Beck, J. L., (2013),
Bayesian inversion for finite fault earthquake source models
I- Theory and algorithm. Geophysical Journal International, 2013,
194(3), pp.1701-1726,
<a class="reference external" href="https://gji.oxfordjournals.org/content/194/3/1701.full">link</a></td></tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="smc.update_last_samples">
<code class="descclassname">smc.</code><code class="descname">update_last_samples</code><span class="sig-paren">(</span><em>homepath</em>, <em>step</em>, <em>progressbar=False</em>, <em>model=None</em>, <em>n_jobs=1</em>, <em>rm_flag=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smc.html#update_last_samples"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#smc.update_last_samples" title="Permalink to this definition">¶</a></dt>
<dd><p>Resampling the last stage samples with the updated covariances and
accept the new sample.</p>
</dd></dl>

<dl class="function">
<dt id="smc.init_stage">
<code class="descclassname">smc.</code><code class="descname">init_stage</code><span class="sig-paren">(</span><em>homepath</em>, <em>step</em>, <em>stage</em>, <em>model</em>, <em>n_jobs=1</em>, <em>progressbar=False</em>, <em>update=None</em>, <em>rm_flag=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smc.html#init_stage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#smc.init_stage" title="Permalink to this definition">¶</a></dt>
<dd><p>Examine starting point of sampling, reload stages and initialise steps.</p>
</dd></dl>

<dl class="function">
<dt id="smc.logp_forw">
<code class="descclassname">smc.</code><code class="descname">logp_forw</code><span class="sig-paren">(</span><em>out_vars</em>, <em>vars</em>, <em>shared</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/smc.html#logp_forw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#smc.logp_forw" title="Permalink to this definition">¶</a></dt>
<dd><p>Compile Theano function of the model and the input and output variables.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>out_vars</strong> : List</p>
<blockquote>
<div><p>containing <code class="xref py py-class docutils literal"><span class="pre">pymc3.Distribution</span></code> for the output variables</p>
</div></blockquote>
<p><strong>vars</strong> : List</p>
<blockquote>
<div><p>containing <code class="xref py py-class docutils literal"><span class="pre">pymc3.Distribution</span></code> for the input variables</p>
</div></blockquote>
<p><strong>shared</strong> : List</p>
<blockquote class="last">
<div><p>containing <code class="xref py py-class docutils literal"><span class="pre">theano.tensor.Tensor</span></code> for dependend shared data</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-backend">
<span id="the-backend-module"></span><h2>The <a class="reference internal" href="#module-backend" title="backend"><code class="xref py py-mod docutils literal"><span class="pre">backend</span></code></a> Module<a class="headerlink" href="#module-backend" title="Permalink to this headline">¶</a></h2>
<p>Text file trace backend modified from pymc3 to work efficiently with
SMC</p>
<p>Store sampling values as CSV files.</p>
<div class="section" id="file-format">
<h3>File format<a class="headerlink" href="#file-format" title="Permalink to this headline">¶</a></h3>
<p>Sampling values for each chain are saved in a separate file (under a
directory specified by the <cite>name</cite> argument).  The rows correspond to
sampling iterations.  The column names consist of variable names and
index labels.  For example, the heading</p>
<blockquote>
<div>x,y__0_0,y__0_1,y__1_0,y__1_1,y__2_0,y__2_1</div></blockquote>
<p>represents two variables, x and y, where x is a scalar and y has a
shape of (3, 2).</p>
<dl class="class">
<dt id="backend.ArrayStepSharedLLK">
<em class="property">class </em><code class="descclassname">backend.</code><code class="descname">ArrayStepSharedLLK</code><span class="sig-paren">(</span><em>vars</em>, <em>out_vars</em>, <em>shared</em>, <em>blocked=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#ArrayStepSharedLLK"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.ArrayStepSharedLLK" title="Permalink to this definition">¶</a></dt>
<dd><p>Modified ArrayStepShared To handle returned larger point including the
likelihood values.
Takes additionally a list of output vars including the likelihoods.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>vars</strong> : list</p>
<blockquote>
<div><p>variables to be sampled</p>
</div></blockquote>
<p><strong>out_vars</strong> : list</p>
<blockquote>
<div><p>variables to be stored in the traces</p>
</div></blockquote>
<p><strong>shared</strong> : dict</p>
<blockquote>
<div><p>theano variable -&gt; shared variables</p>
</div></blockquote>
<p><strong>blocked</strong> : boolen</p>
<blockquote class="last">
<div><p>(default True)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="backend.BaseSMCTrace">
<em class="property">class </em><code class="descclassname">backend.</code><code class="descname">BaseSMCTrace</code><span class="sig-paren">(</span><em>name</em>, <em>model=None</em>, <em>vars=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#BaseSMCTrace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.BaseSMCTrace" title="Permalink to this definition">¶</a></dt>
<dd><p>Base SMC trace object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>name</strong> : str</p>
<blockquote>
<div><p>Name of backend</p>
</div></blockquote>
<p><strong>model</strong> : Model</p>
<blockquote>
<div><p>If None, the model is taken from the <cite>with</cite> context.</p>
</div></blockquote>
<p><strong>vars</strong> : list of variables</p>
<blockquote class="last">
<div><p>Sampling values will be stored for these variables. If None,
<cite>model.unobserved_RVs</cite> is used.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="backend.Text">
<em class="property">class </em><code class="descclassname">backend.</code><code class="descname">Text</code><span class="sig-paren">(</span><em>name</em>, <em>model=None</em>, <em>vars=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#Text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.Text" title="Permalink to this definition">¶</a></dt>
<dd><p>Text trace object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>name</strong> : str</p>
<blockquote>
<div><p>Name of directory to store text files</p>
</div></blockquote>
<p><strong>model</strong> : Model</p>
<blockquote>
<div><p>If None, the model is taken from the <cite>with</cite> context.</p>
</div></blockquote>
<p><strong>vars</strong> : list of variables</p>
<blockquote class="last">
<div><p>Sampling values will be stored for these variables. If None,
<cite>model.unobserved_RVs</cite> is used.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="backend.Text.get_values">
<code class="descname">get_values</code><span class="sig-paren">(</span><em>varname</em>, <em>burn=0</em>, <em>thin=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#Text.get_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.Text.get_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Get values from trace.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>varname</strong> : str</p>
<blockquote>
<div><p>Variable name for which values are to be retrieved.</p>
</div></blockquote>
<p><strong>burn</strong> : int</p>
<blockquote>
<div><p>Burn-in samples from trace. This is the number of samples to be
thrown out from the start of the trace</p>
</div></blockquote>
<p><strong>thin</strong> : int</p>
<blockquote>
<div><p>Nuber of thinning samples. Throw out every &#8216;thin&#8217; sample of the
trace.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">numpy.array</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="backend.Text.point">
<code class="descname">point</code><span class="sig-paren">(</span><em>idx</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#Text.point"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.Text.point" title="Permalink to this definition">¶</a></dt>
<dd><p>Get point of current chain with variables names as keys.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>idx</strong> : int</p>
<blockquote>
<div><p>Index of the nth step of the chain</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dictionary of point values</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="backend.Text.record">
<code class="descname">record</code><span class="sig-paren">(</span><em>lpoint</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#Text.record"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.Text.record" title="Permalink to this definition">¶</a></dt>
<dd><p>Record results of a sampling iteration.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>lpoint</strong> : List of variable values</p>
<blockquote class="last">
<div><p>Values mapped to variable names</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="backend.Text.setup">
<code class="descname">setup</code><span class="sig-paren">(</span><em>draws</em>, <em>chain</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#Text.setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.Text.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform chain-specific setup.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>draws</strong> : int</p>
<blockquote>
<div><p>Expected number of draws</p>
</div></blockquote>
<p><strong>chain</strong> : int</p>
<blockquote class="last">
<div><p>Chain number</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="backend.check_multitrace">
<code class="descclassname">backend.</code><code class="descname">check_multitrace</code><span class="sig-paren">(</span><em>mtrace</em>, <em>draws</em>, <em>n_chains</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#check_multitrace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.check_multitrace" title="Permalink to this definition">¶</a></dt>
<dd><p>Check multitrace for incomplete sampling and return indexes from chains
that need to be resampled.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mtrace</strong> : <code class="xref py py-class docutils literal"><span class="pre">pymc3.backend.base.MultiTrace</span></code></p>
<blockquote>
<div><p>Mutlitrace object containing the sampling traces</p>
</div></blockquote>
<p><strong>draws</strong> : int</p>
<blockquote>
<div><p>Number of steps (i.e. chain length for each Marcov Chain)</p>
</div></blockquote>
<p><strong>n_chains</strong> : int</p>
<blockquote>
<div><p>Number of Marcov Chains</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">list of indexes for chains that need to be resampled</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="backend.concatenate_traces">
<code class="descclassname">backend.</code><code class="descname">concatenate_traces</code><span class="sig-paren">(</span><em>mtraces</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#concatenate_traces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.concatenate_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Concatenate a List of MultiTraces with same chain indexes.</p>
</dd></dl>

<dl class="function">
<dt id="backend.dump">
<code class="descclassname">backend.</code><code class="descname">dump</code><span class="sig-paren">(</span><em>name</em>, <em>trace</em>, <em>chains=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#dump"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Store values from NDArray trace as CSV files.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>name</strong> : str</p>
<blockquote>
<div><p>Name of directory to store CSV files in</p>
</div></blockquote>
<p><strong>trace</strong> : <code class="xref py py-class docutils literal"><span class="pre">pymc3.backend.base.MultiTrace</span></code> of NDArray traces</p>
<blockquote>
<div><p>Result of MCMC run with default NDArray backend</p>
</div></blockquote>
<p><strong>chains</strong> : list</p>
<blockquote class="last">
<div><p>Chains to dump. If None, all chains are dumped.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="backend.get_highest_sampled_stage">
<code class="descclassname">backend.</code><code class="descname">get_highest_sampled_stage</code><span class="sig-paren">(</span><em>homedir</em>, <em>return_final=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#get_highest_sampled_stage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.get_highest_sampled_stage" title="Permalink to this definition">¶</a></dt>
<dd><p>Return stage number of stage that has been sampled before the final stage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>stage number</strong> : int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="backend.load">
<code class="descclassname">backend.</code><code class="descname">load</code><span class="sig-paren">(</span><em>name</em>, <em>model=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load Text database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>name</strong> : str</p>
<blockquote>
<div><p>Name of directory with files (one per chain)</p>
</div></blockquote>
<p><strong>model</strong> : Model</p>
<blockquote>
<div><p>If None, the model is taken from the <cite>with</cite> context.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A <code class="xref py py-class docutils literal"><span class="pre">pymc3.backend.base.MultiTrace</span></code> instance</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="backend.load_sampler_params">
<code class="descclassname">backend.</code><code class="descname">load_sampler_params</code><span class="sig-paren">(</span><em>project_dir</em>, <em>stage_number</em>, <em>mode</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#load_sampler_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.load_sampler_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Load saved parameters from given ATMIP stage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>project_dir</strong> : str</p>
<blockquote>
<div><p>absolute path to directory of BEAT project</p>
</div></blockquote>
<p><strong>stage number</strong> : string</p>
<blockquote>
<div><p>of stage number or &#8216;final&#8217; for last stage</p>
</div></blockquote>
<p><strong>mode</strong> : str</p>
<blockquote class="last">
<div><p>problem mode that has been solved (&#8216;geometry&#8217;, &#8216;static&#8217;, &#8216;kinematic&#8217;)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="the-metropolis-module">
<h2>The <a class="reference internal" href="#module-metropolis" title="metropolis"><code class="xref py py-mod docutils literal"><span class="pre">metropolis</span></code></a> Module<a class="headerlink" href="#the-metropolis-module" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-metropolis"></span><p>Metropolis algorithm module, wrapping the pymc3 implementation.
Provides the possibility to update the involved covariance matrixes within
the course of sampling the chain.</p>
<dl class="function">
<dt id="metropolis.Metropolis_sample">
<code class="descclassname">metropolis.</code><code class="descname">Metropolis_sample</code><span class="sig-paren">(</span><em>n_stages=10</em>, <em>n_steps=10000</em>, <em>trace=None</em>, <em>start=None</em>, <em>progressbar=False</em>, <em>stage=None</em>, <em>rm_flag=False</em>, <em>step=None</em>, <em>model=None</em>, <em>n_jobs=1</em>, <em>update=None</em>, <em>burn=0.5</em>, <em>thin=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/metropolis.html#Metropolis_sample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#metropolis.Metropolis_sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute Metropolis algorithm repeatedly depending on the number of stages.
The start point of each stage set to the end point of the previous stage.
Update covariances if given.</p>
</dd></dl>

<dl class="function">
<dt id="metropolis.get_trace_stats">
<code class="descclassname">metropolis.</code><code class="descname">get_trace_stats</code><span class="sig-paren">(</span><em>mtrace</em>, <em>step</em>, <em>burn=0.5</em>, <em>thin=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/metropolis.html#get_trace_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#metropolis.get_trace_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Get mean value of trace variables and return point.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mtrace</strong> : <code class="xref py py-class docutils literal"><span class="pre">pymc3.backends.base.MultiTrace</span></code></p>
<blockquote>
<div><p>Multitrace sampling result</p>
</div></blockquote>
<p><strong>step</strong> : initialised <a class="reference internal" href="#smc.SMC" title="smc.SMC"><code class="xref py py-class docutils literal"><span class="pre">smc.SMC</span></code></a> sampler object</p>
<p><strong>burn</strong> : float</p>
<blockquote>
<div><p>Burn-in parameter to throw out samples from the beginning of the trace</p>
</div></blockquote>
<p><strong>thin</strong> : int</p>
<blockquote>
<div><p>Thinning of samples in the trace</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dict with points, covariance matrix</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="metropolis.get_final_stage">
<code class="descclassname">metropolis.</code><code class="descname">get_final_stage</code><span class="sig-paren">(</span><em>homepath</em>, <em>n_stages</em>, <em>model</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/metropolis.html#get_final_stage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#metropolis.get_final_stage" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine Metropolis results into final stage to get one single chain for
plotting results.</p>
</dd></dl>

</div>
<div class="section" id="module-models">
<span id="the-models-module"></span><h2>The <a class="reference internal" href="#module-models" title="models"><code class="xref py py-mod docutils literal"><span class="pre">models</span></code></a> Module<a class="headerlink" href="#module-models" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="models.GeometryOptimizer">
<em class="property">class </em><code class="descclassname">models.</code><code class="descname">GeometryOptimizer</code><span class="sig-paren">(</span><em>config</em>, <em>hypers=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models.html#GeometryOptimizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.GeometryOptimizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the model setup to solve for the non-linear fault geometry.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>config</strong> : :class:&#8217;config.BEATconfig&#8217;</p>
<blockquote class="last">
<div><p>Contains all the information about the model setup and optimization
boundaries, as well as the sampler parameters.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>event</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>model</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="models.DistributionOptimizer">
<em class="property">class </em><code class="descclassname">models.</code><code class="descname">DistributionOptimizer</code><span class="sig-paren">(</span><em>config</em>, <em>hypers=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models.html#DistributionOptimizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.DistributionOptimizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the model setup to solve the linear slip-distribution and
returns the model object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>config</strong> : :class:&#8217;config.BEATconfig&#8217;</p>
<blockquote class="last">
<div><p>Contains all the information about the model setup and optimization
boundaries, as well as the sampler parameters.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>event</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>model</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="function">
<dt id="models.sample">
<code class="descclassname">models.</code><code class="descname">sample</code><span class="sig-paren">(</span><em>step</em>, <em>problem</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models.html#sample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample solution space with the previously initalised algorithm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>step</strong> : <code class="xref py py-class docutils literal"><span class="pre">SMC</span></code> or <code class="xref py py-class docutils literal"><span class="pre">pymc3.metropolis.Metropolis</span></code></p>
<blockquote>
<div><p>from problem.init_sampler()</p>
</div></blockquote>
<p class="last"><strong>problem</strong> : <code class="xref py py-class docutils literal"><span class="pre">Problem</span></code> with characteristics of problem to solve</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="models.load_model">
<code class="descclassname">models.</code><code class="descname">load_model</code><span class="sig-paren">(</span><em>project_dir</em>, <em>mode</em>, <em>hypers=False</em>, <em>nobuild=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models.html#load_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.load_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Load config from project directory and return BEAT problem including model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>project_dir</strong> : string</p>
<blockquote>
<div><p>path to beat model directory</p>
</div></blockquote>
<p><strong>mode</strong> : string</p>
<blockquote>
<div><p>problem name to be loaded</p>
</div></blockquote>
<p><strong>hypers</strong> : boolean</p>
<blockquote>
<div><p>flag to return hyper parameter estimation model instead of main model.</p>
</div></blockquote>
<p><strong>built</strong> : boolean</p>
<blockquote>
<div><p>flag to do not build models</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>problem</strong> : <code class="xref py py-class docutils literal"><span class="pre">Problem</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="models.load_stage">
<code class="descclassname">models.</code><code class="descname">load_stage</code><span class="sig-paren">(</span><em>problem</em>, <em>stage_number=None</em>, <em>load='trace'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models.html#load_stage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.load_stage" title="Permalink to this definition">¶</a></dt>
<dd><p>Load stage results from sampling.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>problem</strong> : <code class="xref py py-class docutils literal"><span class="pre">Problem</span></code></p>
<p><strong>stage_number</strong> : str</p>
<blockquote>
<div><p>Number of stage to load</p>
</div></blockquote>
<p><strong>load</strong> : str</p>
<blockquote>
<div><p>what to load and return &#8216;full&#8217;, &#8216;trace&#8217;, &#8216;params&#8217;</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-psgrn">
<span id="the-psgrn-module"></span><h2>The <a class="reference internal" href="#module-psgrn" title="psgrn"><code class="xref py py-mod docutils literal"><span class="pre">psgrn</span></code></a> Module<a class="headerlink" href="#module-psgrn" title="Permalink to this headline">¶</a></h2>
<p>This module got merged with the pscmp module and is now part of the pyrocko
library and may be removed from the beat repository in the future.</p>
<dl class="class">
<dt id="psgrn.PsGrnConfig">
<em class="property">class </em><code class="descclassname">psgrn.</code><code class="descname">PsGrnConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/psgrn.html#PsGrnConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#psgrn.PsGrnConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="psgrn.PsGrnConfigFull">
<em class="property">class </em><code class="descclassname">psgrn.</code><code class="descname">PsGrnConfigFull</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/psgrn.html#PsGrnConfigFull"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#psgrn.PsGrnConfigFull" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="psgrn.PsGrnSpatialSampling">
<em class="property">class </em><code class="descclassname">psgrn.</code><code class="descname">PsGrnSpatialSampling</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/psgrn.html#PsGrnSpatialSampling"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#psgrn.PsGrnSpatialSampling" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

</div>
<div class="section" id="the-pscmp-module">
<h2>The <code class="xref py py-mod docutils literal"><span class="pre">pscmp</span></code> Module<a class="headerlink" href="#the-pscmp-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-interseismic">
<span id="the-interseismic-module"></span><h2>The <a class="reference internal" href="#module-interseismic" title="interseismic"><code class="xref py py-mod docutils literal"><span class="pre">interseismic</span></code></a> Module<a class="headerlink" href="#module-interseismic" title="Permalink to this headline">¶</a></h2>
<p>Module for interseismic models.</p>
<div class="section" id="block-backslip-model">
<h3>Block-backslip model<a class="headerlink" href="#block-backslip-model" title="Permalink to this headline">¶</a></h3>
<p>The fault is assumed to be locked above a certain depth &#8220;locking_depth&#8221; and
it is creeping with the rate of the defined plate- which is handled as a
rigid block.</p>
<p>STILL EXPERIMENTAL!</p>
<div class="section" id="references">
<h4>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h4>
<p>Savage &amp; Prescott 1978
Metzger et al. 2011</p>
<dl class="function">
<dt id="interseismic.geo_backslip_synthetics">
<code class="descclassname">interseismic.</code><code class="descname">geo_backslip_synthetics</code><span class="sig-paren">(</span><em>engine</em>, <em>sources</em>, <em>targets</em>, <em>lons</em>, <em>lats</em>, <em>reference</em>, <em>amplitude</em>, <em>azimuth</em>, <em>locking_depth</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/interseismic.html#geo_backslip_synthetics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#interseismic.geo_backslip_synthetics" title="Permalink to this definition">¶</a></dt>
<dd><p>Interseismic backslip model: forward model for synthetic
displacements(n,e,d) [m] caused by a rigid moving block defined by the
bounding geometry of rectangular faults. The reference location determines
the stable regions. The amplitude and azimuth determines the amount and
direction of the moving block.
Based on this block-movement the upper part of the crust that is not locked
is assumed to slip back. Thus the final synthetics are the superposition
of the block-movement and the backslip.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>engine</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.LocalEngine" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.LocalEngine</span></code></a></p>
<p><strong>sources</strong> : list</p>
<blockquote>
<div><p>of <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.RectangularSource" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.RectangularSource</span></code></a>
Sources to calculate synthetics for</p>
</div></blockquote>
<p><strong>targets</strong> : list</p>
<blockquote>
<div><p>of <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.targets.StaticTarget" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.targets.StaticTarget</span></code></a></p>
</div></blockquote>
<p><strong>lons</strong> : list of floats, or <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>longitudes [deg] of observation points</p>
</div></blockquote>
<p><strong>lats</strong> : list of floats, or <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>latitudes [deg] of observation points</p>
</div></blockquote>
<p><strong>amplitude</strong> : float</p>
<blockquote>
<div><p>slip [m] of the moving block</p>
</div></blockquote>
<p><strong>azimuth</strong> : float</p>
<blockquote>
<div><p>azimuth-angle[deg] ergo direction of moving block towards North</p>
</div></blockquote>
<p><strong>locking_depth</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>locking_depth [km] of the fault(s) below there is no movement</p>
</div></blockquote>
<p><strong>reference</strong> : <a class="reference internal" href="#heart.ReferenceLocation" title="heart.ReferenceLocation"><code class="xref py py-class docutils literal"><span class="pre">heart.ReferenceLocation</span></code></a></p>
<blockquote>
<div><p>reference location that determines the stable block</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote class="last">
<div><p>(n x 3) [North, East, Down] displacements [m]</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
</div>
<div class="section" id="module-covariance">
<span id="the-covariance-module"></span><h2>The <a class="reference internal" href="#module-covariance" title="covariance"><code class="xref py py-mod docutils literal"><span class="pre">covariance</span></code></a> Module<a class="headerlink" href="#module-covariance" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="covariance.geo_cov_velocity_models">
<code class="descclassname">covariance.</code><code class="descname">geo_cov_velocity_models</code><span class="sig-paren">(</span><em>engine</em>, <em>sources</em>, <em>targets</em>, <em>dataset</em>, <em>plot=False</em>, <em>n_jobs=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covariance.html#geo_cov_velocity_models"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#covariance.geo_cov_velocity_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate model prediction uncertainty matrix with respect to uncertainties
in the velocity model for geodetic targets using fomosto GF stores.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>engine</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.LocalEngine" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.LocalEngine</span></code></a></p>
<blockquote>
<div><p>contains synthetics generation machine</p>
</div></blockquote>
<p><strong>target</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.targets.StaticTarget" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.targets.StaticTarget</span></code></a></p>
<blockquote>
<div><p>dataset and observation points to calculate covariance for</p>
</div></blockquote>
<p><strong>sources</strong> : list</p>
<blockquote>
<div><p>of <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.Source" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Source</span></code></a> determines the covariance
matrix</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> with Covariance due to velocity model uncertainties</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="covariance.geo_cov_velocity_models_pscmp">
<code class="descclassname">covariance.</code><code class="descname">geo_cov_velocity_models_pscmp</code><span class="sig-paren">(</span><em>store_superdir</em>, <em>crust_inds</em>, <em>target</em>, <em>sources</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covariance.html#geo_cov_velocity_models_pscmp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#covariance.geo_cov_velocity_models_pscmp" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate model prediction uncertainty matrix with respect to uncertainties
in the velocity model for geodetic targets based on pscmp.
Deprecated!!!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>store_superdir</strong> : str</p>
<blockquote>
<div><p>Absolute path to the geodetic GreensFunction directory</p>
</div></blockquote>
<p><strong>crust_inds</strong> : list</p>
<blockquote>
<div><p>of int of indices for respective GreensFunction store indexes</p>
</div></blockquote>
<p><strong>target</strong> : <a class="reference internal" href="#heart.GeodeticDataset" title="heart.GeodeticDataset"><code class="xref py py-class docutils literal"><span class="pre">heart.GeodeticDataset</span></code></a></p>
<blockquote>
<div><p>dataset and observation points to calculate covariance for</p>
</div></blockquote>
<p><strong>sources</strong> : list</p>
<blockquote>
<div><p>of <code class="xref py py-class docutils literal"><span class="pre">pscmp.PsCmpRectangularSource</span></code> determines the covariance
matrix</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> with Covariance due to velocity model uncertainties</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="covariance.seis_cov_velocity_models">
<code class="descclassname">covariance.</code><code class="descname">seis_cov_velocity_models</code><span class="sig-paren">(</span><em>engine</em>, <em>sources</em>, <em>targets</em>, <em>arrival_taper</em>, <em>filterer</em>, <em>plot=False</em>, <em>n_jobs=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covariance.html#seis_cov_velocity_models"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#covariance.seis_cov_velocity_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate model prediction uncertainty matrix with respect to uncertainties
in the velocity model for station and channel.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>engine</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.LocalEngine" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.LocalEngine</span></code></a></p>
<blockquote>
<div><p>contains synthetics generation machine</p>
</div></blockquote>
<p><strong>sources</strong> : list</p>
<blockquote>
<div><p>of <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.Source" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Source</span></code></a></p>
</div></blockquote>
<p><strong>targets</strong> : list</p>
<blockquote>
<div><p>of <code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Targets</span></code></p>
</div></blockquote>
<p><strong>arrival_taper</strong> : :class: <cite>heart.ArrivalTaper</cite></p>
<blockquote>
<div><p>determines tapering around phase Arrival</p>
</div></blockquote>
<p><strong>filterer</strong> : <a class="reference internal" href="#heart.Filter" title="heart.Filter"><code class="xref py py-class docutils literal"><span class="pre">heart.Filter</span></code></a></p>
<blockquote>
<div><p>determines the bandpass-filtering corner frequencies</p>
</div></blockquote>
<p><strong>plot</strong> : boolean</p>
<blockquote>
<div><p>open snuffler and browse traces if True</p>
</div></blockquote>
<p><strong>n_jobs</strong> : int</p>
<blockquote>
<div><p>number of processors to be used for calculation</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> with Covariance due to velocity model uncertainties</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="covariance.seis_data_covariance">
<code class="descclassname">covariance.</code><code class="descname">seis_data_covariance</code><span class="sig-paren">(</span><em>data_traces</em>, <em>engine</em>, <em>filterer</em>, <em>sample_rate</em>, <em>arrival_taper</em>, <em>event</em>, <em>targets</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covariance.html#seis_data_covariance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#covariance.seis_data_covariance" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate SubCovariance Matrix of trace object following
Duputel et al. 2012 GJI
&#8220;Uncertainty estimations for seismic source inversions&#8221; p. 5</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data_traces</strong> : list</p>
<blockquote>
<div><p>of <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/trace.html#pyrocko.trace.Trace" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.Trace</span></code></a> containing observed data</p>
</div></blockquote>
<p><strong>engine</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.LocalEngine" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.LocalEngine</span></code></a></p>
<blockquote>
<div><p>processing object for synthetics calculation</p>
</div></blockquote>
<p><strong>filterer</strong> : <a class="reference internal" href="#heart.Filter" title="heart.Filter"><code class="xref py py-class docutils literal"><span class="pre">heart.Filter</span></code></a></p>
<blockquote>
<div><p>determines the bandpass-filtering corner frequencies</p>
</div></blockquote>
<p><strong>sample_rate</strong> : float</p>
<blockquote>
<div><p>sampling rate of data_traces and GreensFunction stores</p>
</div></blockquote>
<p><strong>arrival_taper</strong> : :class: <cite>heart.ArrivalTaper</cite></p>
<blockquote>
<div><p>determines tapering around phase Arrival</p>
</div></blockquote>
<p><strong>event</strong> : <code class="xref py py-class docutils literal"><span class="pre">pyrocko.meta.Event</span></code></p>
<blockquote>
<div><p>reference event from catalog</p>
</div></blockquote>
<p><strong>targets</strong> : list</p>
<blockquote>
<div><p>of <code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Targets</span></code></p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<dl class="docutils">
<dt>Cd(i,j) = (Variance of trace)*exp(-abs(ti-tj)/</dt>
<dd><blockquote class="first">
<div>(shortest period T0 of waves))</div></blockquote>
<p class="last">i,j are samples of the seismic trace</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-theanof">
<span id="the-theanof-module"></span><h2>The <a class="reference internal" href="#module-theanof" title="theanof"><code class="xref py py-mod docutils literal"><span class="pre">theanof</span></code></a> Module<a class="headerlink" href="#module-theanof" title="Permalink to this headline">¶</a></h2>
<p>Package for wrapping various functions into Theano-Ops to be able to include
them into theano graphs as is needed by the pymc3 models.</p>
<dl class="docutils">
<dt>Far future:</dt>
<dd>include a &#8216;def grad:&#8217; -method to each Op in order to enable the use of
gradient based optimization algorithms</dd>
</dl>
<dl class="class">
<dt id="theanof.GeoInterseismicSynthesizer">
<em class="property">class </em><code class="descclassname">theanof.</code><code class="descname">GeoInterseismicSynthesizer</code><span class="sig-paren">(</span><em>lats</em>, <em>lons</em>, <em>engine</em>, <em>targets</em>, <em>sources</em>, <em>reference</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#GeoInterseismicSynthesizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.GeoInterseismicSynthesizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Theano wrapper to transform the parameters of block model to
parameters of a fault.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="58%" />
<col width="42%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>default_output</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="theanof.GeoInterseismicSynthesizer.make_node">
<code class="descname">make_node</code><span class="sig-paren">(</span><em>inputs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#GeoInterseismicSynthesizer.make_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.GeoInterseismicSynthesizer.make_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms theano tensors to node and allocates variables accordingly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>inputs</strong> : dict</p>
<blockquote class="last">
<div><p>keys being strings of source attributes of the
<a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.RectangularSource" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.RectangularSource</span></code></a> that was used
to initialise the Operator.
values are <code class="xref py py-class docutils literal"><span class="pre">theano.tensor.Tensor</span></code></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="theanof.GeoInterseismicSynthesizer.perform">
<code class="descname">perform</code><span class="sig-paren">(</span><em>node</em>, <em>inputs</em>, <em>output</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#GeoInterseismicSynthesizer.perform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.GeoInterseismicSynthesizer.perform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform method of the Operator to calculate synthetic displacements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>inputs</strong> : list</p>
<blockquote>
<div><p>of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
</div></blockquote>
<p><strong>output</strong> : list</p>
<blockquote class="last">
<div><p>of synthetic displacements of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (n x 3)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="theanof.GeoLayerSynthesizerPsCmp">
<em class="property">class </em><code class="descclassname">theanof.</code><code class="descname">GeoLayerSynthesizerPsCmp</code><span class="sig-paren">(</span><em>lats</em>, <em>lons</em>, <em>store_superdir</em>, <em>crust_ind</em>, <em>sources</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#GeoLayerSynthesizerPsCmp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.GeoLayerSynthesizerPsCmp" title="Permalink to this definition">¶</a></dt>
<dd><p>Theano wrapper for a geodetic forward model for static observation
points. Direct call to PsCmp, needs PsGrn Greens Function store!
Deprecated, currently not used in composites.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>lats</strong> : n x 1 <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>with latitudes of observation points</p>
</div></blockquote>
<p><strong>lons</strong> : n x 1 <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>with longitudes of observation points</p>
</div></blockquote>
<p><strong>store_superdir</strong> : str</p>
<blockquote>
<div><p>with absolute path to the GF store super directory</p>
</div></blockquote>
<p><strong>crust_ind</strong> : int</p>
<blockquote>
<div><p>with the index to the GF store</p>
</div></blockquote>
<p><strong>sources</strong> : <code class="xref py py-class docutils literal"><span class="pre">pscmp.RectangularSource</span></code></p>
<blockquote class="last">
<div><p>to be used in generating the synthetic displacements</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="58%" />
<col width="42%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>default_output</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="theanof.GeoLayerSynthesizerPsCmp.make_node">
<code class="descname">make_node</code><span class="sig-paren">(</span><em>inputs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#GeoLayerSynthesizerPsCmp.make_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.GeoLayerSynthesizerPsCmp.make_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms theano tensors to node and allocates variables accordingly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>inputs</strong> : dict</p>
<blockquote class="last">
<div><p>keys being strings of source attributes of the
<code class="xref py py-class docutils literal"><span class="pre">pscmp.RectangularSource</span></code> that was used to initialise
the Operator
values are <code class="xref py py-class docutils literal"><span class="pre">theano.tensor.Tensor</span></code></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="theanof.GeoLayerSynthesizerPsCmp.perform">
<code class="descname">perform</code><span class="sig-paren">(</span><em>node</em>, <em>inputs</em>, <em>output</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#GeoLayerSynthesizerPsCmp.perform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.GeoLayerSynthesizerPsCmp.perform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform method of the Operator to calculate synthetic displacements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>inputs</strong> : list</p>
<blockquote>
<div><p>of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
</div></blockquote>
<p><strong>output</strong> : list</p>
<blockquote class="last">
<div><p>of synthetic displacements of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (n x 1)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="theanof.GeoSynthesizer">
<em class="property">class </em><code class="descclassname">theanof.</code><code class="descname">GeoSynthesizer</code><span class="sig-paren">(</span><em>engine</em>, <em>sources</em>, <em>targets</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#GeoSynthesizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.GeoSynthesizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Theano wrapper for a geodetic forward model with synthetic displacements.
Uses pyrocko engine and fomosto GF stores.
Input order does not matter anymore! Did in previous version.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>engine</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.LocalEngine" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.LocalEngine</span></code></a></p>
<p><strong>sources</strong> : List</p>
<blockquote>
<div><p>containing <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.Source" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Source</span></code></a> Objects</p>
</div></blockquote>
<p><strong>targets</strong> : List</p>
<blockquote class="last">
<div><p>containing <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.targets.StaticTarget" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.targets.StaticTarget</span></code></a> Objects</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="58%" />
<col width="42%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>default_output</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="theanof.GeoSynthesizer.make_node">
<code class="descname">make_node</code><span class="sig-paren">(</span><em>inputs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#GeoSynthesizer.make_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.GeoSynthesizer.make_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms theano tensors to node and allocates variables accordingly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>inputs</strong> : dict</p>
<blockquote class="last">
<div><p>keys being strings of source attributes of the
<code class="xref py py-class docutils literal"><span class="pre">pscmp.RectangularSource</span></code> that was used to initialise
the Operator
values are <code class="xref py py-class docutils literal"><span class="pre">theano.tensor.Tensor</span></code></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="theanof.GeoSynthesizer.perform">
<code class="descname">perform</code><span class="sig-paren">(</span><em>node</em>, <em>inputs</em>, <em>output</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#GeoSynthesizer.perform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.GeoSynthesizer.perform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform method of the Operator to calculate synthetic displacements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>inputs</strong> : list</p>
<blockquote>
<div><p>of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
</div></blockquote>
<p><strong>output</strong> : list</p>
<blockquote class="last">
<div><ol class="arabic simple">
<li>of synthetic waveforms of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>
(n x nsamples)</li>
<li>of start times of the first waveform samples
<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (n x 1)</li>
</ol>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="theanof.SeisSynthesizer">
<em class="property">class </em><code class="descclassname">theanof.</code><code class="descname">SeisSynthesizer</code><span class="sig-paren">(</span><em>engine</em>, <em>sources</em>, <em>targets</em>, <em>event</em>, <em>arrival_taper</em>, <em>filterer</em>, <em>pre_stack_cut</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#SeisSynthesizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.SeisSynthesizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Theano wrapper for a seismic forward model with synthetic waveforms.
Input order does not matter anymore! Did in previous version.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>engine</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.LocalEngine" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.LocalEngine</span></code></a></p>
<p><strong>sources</strong> : List</p>
<blockquote>
<div><p>containing <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.Source" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Source</span></code></a> Objects</p>
</div></blockquote>
<p><strong>targets</strong> : List</p>
<blockquote>
<div><p>containing <code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Target</span></code> Objects</p>
</div></blockquote>
<p><strong>arrival_taper</strong> : <a class="reference internal" href="#heart.ArrivalTaper" title="heart.ArrivalTaper"><code class="xref py py-class docutils literal"><span class="pre">heart.ArrivalTaper</span></code></a></p>
<p class="last"><strong>filterer</strong> : <code class="xref py py-class docutils literal"><span class="pre">heart.Filterer</span></code></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="58%" />
<col width="42%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>default_output</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="theanof.SeisSynthesizer.make_node">
<code class="descname">make_node</code><span class="sig-paren">(</span><em>inputs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#SeisSynthesizer.make_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.SeisSynthesizer.make_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms theano tensors to node and allocates variables accordingly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>inputs</strong> : dict</p>
<blockquote class="last">
<div><p>keys being strings of source attributes of the
<code class="xref py py-class docutils literal"><span class="pre">pscmp.RectangularSource</span></code> that was used to initialise
the Operator
values are <code class="xref py py-class docutils literal"><span class="pre">theano.tensor.Tensor</span></code></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="theanof.SeisSynthesizer.perform">
<code class="descname">perform</code><span class="sig-paren">(</span><em>node</em>, <em>inputs</em>, <em>output</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#SeisSynthesizer.perform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.SeisSynthesizer.perform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform method of the Operator to calculate synthetic displacements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>inputs</strong> : list</p>
<blockquote>
<div><p>of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
</div></blockquote>
<p><strong>output</strong> : list</p>
<blockquote class="last">
<div><ol class="arabic simple">
<li>of synthetic waveforms of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>
(n x nsamples)</li>
<li>of start times of the first waveform samples
<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (n x 1)</li>
</ol>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="theanof.Sweeper">
<em class="property">class </em><code class="descclassname">theanof.</code><code class="descname">Sweeper</code><span class="sig-paren">(</span><em>patch_size</em>, <em>n_patch_strike</em>, <em>n_patch_dip</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#Sweeper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.Sweeper" title="Permalink to this definition">¶</a></dt>
<dd><p>Theano Op for C implementation of the fast sweep algorithm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>patch_size</strong> : float</p>
<blockquote>
<div><p>size of fault patches [km]</p>
</div></blockquote>
<p><strong>n_patch_strike</strong> : int</p>
<blockquote>
<div><p>number of patches in strike direction</p>
</div></blockquote>
<p><strong>n_patch_dip</strong> : int</p>
<blockquote class="last">
<div><p>number of patches in dip-direction</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="58%" />
<col width="42%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>default_output</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

</div>
<div class="section" id="module-utility">
<span id="the-utility-module"></span><h2>The <a class="reference internal" href="#module-utility" title="utility"><code class="xref py py-mod docutils literal"><span class="pre">utility</span></code></a> Module<a class="headerlink" href="#module-utility" title="Permalink to this headline">¶</a></h2>
<p>This module provides a namespace for various functions:
coordinate transformations,
loading and storing objects,
book-keeping of indexes in arrays that relate to defined variable names,
manipulation of various pyrocko objects
and many more ...</p>
<dl class="class">
<dt id="utility.DataMap">
<em class="property">class </em><code class="descclassname">utility.</code><code class="descname">DataMap</code><a class="headerlink" href="#utility.DataMap" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">Attributes</p>
<p class="rubric">Methods</p>
<dl class="attribute">
<dt id="utility.DataMap.dtype">
<code class="descname">dtype</code><a class="headerlink" href="#utility.DataMap.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="attribute">
<dt id="utility.DataMap.list_ind">
<code class="descname">list_ind</code><a class="headerlink" href="#utility.DataMap.list_ind" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="attribute">
<dt id="utility.DataMap.shp">
<code class="descname">shp</code><a class="headerlink" href="#utility.DataMap.shp" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="attribute">
<dt id="utility.DataMap.slc">
<code class="descname">slc</code><a class="headerlink" href="#utility.DataMap.slc" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="utility.FaultOrdering">
<em class="property">class </em><code class="descclassname">utility.</code><code class="descname">FaultOrdering</code><span class="sig-paren">(</span><em>npls</em>, <em>npws</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#FaultOrdering"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.FaultOrdering" title="Permalink to this definition">¶</a></dt>
<dd><p>A mapping of source patches to the arrays of optimization results.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>npls</strong> : list</p>
<blockquote>
<div><p>of number of patches in strike-direction</p>
</div></blockquote>
<p><strong>npws</strong> : list</p>
<blockquote class="last">
<div><p>of number of patches in dip-direction</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="utility.ListArrayOrdering">
<em class="property">class </em><code class="descclassname">utility.</code><code class="descname">ListArrayOrdering</code><span class="sig-paren">(</span><em>list_arrays</em>, <em>intype='numpy'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#ListArrayOrdering"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.ListArrayOrdering" title="Permalink to this definition">¶</a></dt>
<dd><p>An ordering for a list to an array space. Takes also non theano.tensors.
Modified from pymc3 blocking.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>list_arrays</strong> : list</p>
<blockquote>
<div><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> or <code class="xref py py-class docutils literal"><span class="pre">theano.tensor.Tensor</span></code></p>
</div></blockquote>
<p><strong>intype</strong> : str</p>
<blockquote class="last">
<div><p>defining the input type &#8216;tensor&#8217; or &#8216;numpy&#8217;</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="utility.ListToArrayBijection">
<em class="property">class </em><code class="descclassname">utility.</code><code class="descname">ListToArrayBijection</code><span class="sig-paren">(</span><em>ordering</em>, <em>list_arrays</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#ListToArrayBijection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.ListToArrayBijection" title="Permalink to this definition">¶</a></dt>
<dd><p>A mapping between a List of arrays and an array space</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ordering</strong> : <a class="reference internal" href="#utility.ListArrayOrdering" title="utility.ListArrayOrdering"><code class="xref py py-class docutils literal"><span class="pre">ListArrayOrdering</span></code></a></p>
<p><strong>list_arrays</strong> : list</p>
<blockquote class="last">
<div><p>of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="utility.ListToArrayBijection.f3map">
<code class="descname">f3map</code><span class="sig-paren">(</span><em>list_arrays</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#ListToArrayBijection.f3map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.ListToArrayBijection.f3map" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps values from List space to array space with 3 columns</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>list_arrays</strong> : list</p>
<blockquote>
<div><p>of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> with size: n x 3</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>array</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote class="last">
<div><p>single array comprising all the input arrays</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="utility.ListToArrayBijection.fmap">
<code class="descname">fmap</code><span class="sig-paren">(</span><em>list_arrays</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#ListToArrayBijection.fmap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.ListToArrayBijection.fmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps values from List space to array space</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>list_arrays</strong> : list</p>
<blockquote>
<div><p>of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>array</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote class="last">
<div><p>single array comprising all the input arrays</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="utility.ListToArrayBijection.rmap">
<code class="descname">rmap</code><span class="sig-paren">(</span><em>array</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#ListToArrayBijection.rmap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.ListToArrayBijection.rmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps value from array space to List space
Inverse operation of fmap.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>array</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>a_list</strong> : list</p>
<blockquote class="last">
<div><p>of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="utility.ListToArrayBijection.srmap">
<code class="descname">srmap</code><span class="sig-paren">(</span><em>tarray</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#ListToArrayBijection.srmap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.ListToArrayBijection.srmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps value from symbolic variable array space to List space</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>tarray</strong> : <code class="xref py py-class docutils literal"><span class="pre">theano.tensor.Tensor</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>a_list</strong> : list</p>
<blockquote class="last">
<div><p>of <code class="xref py py-class docutils literal"><span class="pre">theano.tensor.Tensor</span></code></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="utility.PatchMap">
<em class="property">class </em><code class="descclassname">utility.</code><code class="descname">PatchMap</code><a class="headerlink" href="#utility.PatchMap" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">Attributes</p>
<p class="rubric">Methods</p>
<dl class="attribute">
<dt id="utility.PatchMap.count">
<code class="descname">count</code><a class="headerlink" href="#utility.PatchMap.count" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="attribute">
<dt id="utility.PatchMap.npatches">
<code class="descname">npatches</code><a class="headerlink" href="#utility.PatchMap.npatches" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="attribute">
<dt id="utility.PatchMap.shp">
<code class="descname">shp</code><a class="headerlink" href="#utility.PatchMap.shp" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="attribute">
<dt id="utility.PatchMap.slc">
<code class="descname">slc</code><a class="headerlink" href="#utility.PatchMap.slc" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="utility.PsGrnArray2LayeredModel">
<code class="descclassname">utility.</code><code class="descname">PsGrnArray2LayeredModel</code><span class="sig-paren">(</span><em>psgrn_input_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#PsGrnArray2LayeredModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.PsGrnArray2LayeredModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Read PsGrn Input file and return velocity model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>psgrn_input_path</strong> : str</p>
<blockquote>
<div><p>Absolute path to the psgrn input file.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">LayeredModel</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.RS_center">
<code class="descclassname">utility.</code><code class="descname">RS_center</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#RS_center"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.RS_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Get 3d fault center coordinates. Depth attribute is top depth!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>source</strong> : RedctangularSource</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> with x, y, z coordinates of the center of the</p>
<p class="last">fault</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.RS_dipvector">
<code class="descclassname">utility.</code><code class="descname">RS_dipvector</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#RS_dipvector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.RS_dipvector" title="Permalink to this definition">¶</a></dt>
<dd><p>Get 3 dimensional dip-vector of a planar fault.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>source</strong> : RectangularSource</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.RS_strikevector">
<code class="descclassname">utility.</code><code class="descname">RS_strikevector</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#RS_strikevector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.RS_strikevector" title="Permalink to this definition">¶</a></dt>
<dd><p>Get 3 dimensional strike-vector of a planar fault.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>source</strong> : RedctangularSource</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.adjust_fault_reference">
<code class="descclassname">utility.</code><code class="descname">adjust_fault_reference</code><span class="sig-paren">(</span><em>source</em>, <em>input_depth='top'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#adjust_fault_reference"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.adjust_fault_reference" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjusts source depth and east/north-shifts variables of fault according to
input_depth mode &#8216;top/center&#8217;.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>source</strong> : <code class="xref py py-class docutils literal"><span class="pre">RectangularSource</span></code> or <code class="xref py py-class docutils literal"><span class="pre">pscmp.RectangularSource</span></code> or</p>
<blockquote>
<div><p><a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.RectangularSource" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.RectangularSource</span></code></a></p>
</div></blockquote>
<p><strong>input_depth</strong> : string</p>
<blockquote>
<div><p>if &#8216;top&#8217; the depth in the source is interpreted as top depth
if &#8216;center&#8217; the depth in the source is interpreted as center depth</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Updated input source object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.adjust_point_units">
<code class="descclassname">utility.</code><code class="descname">adjust_point_units</code><span class="sig-paren">(</span><em>point</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#adjust_point_units"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.adjust_point_units" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform variables with [km] units to [m]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>point</strong> : dict</p>
<blockquote>
<div><p><code class="xref py py-func docutils literal"><span class="pre">pymc3.model.Point()</span></code> of model parameter units as keys</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>mpoint</strong> : dict</p>
<blockquote class="last">
<div><p><code class="xref py py-func docutils literal"><span class="pre">pymc3.model.Point()</span></code></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.apply_station_blacklist">
<code class="descclassname">utility.</code><code class="descname">apply_station_blacklist</code><span class="sig-paren">(</span><em>stations</em>, <em>blacklist</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#apply_station_blacklist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.apply_station_blacklist" title="Permalink to this definition">¶</a></dt>
<dd><p>Weed stations listed in the blacklist.
Modifies input list!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>stations</strong> : list</p>
<blockquote>
<div><p><a class="reference external" href="http://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Station" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Station</span></code></a></p>
</div></blockquote>
<p><strong>blacklist</strong> : list</p>
<blockquote>
<div><p>strings of station names</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>stations</strong> : list of <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Station" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Station</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.biggest_common_divisor">
<code class="descclassname">utility.</code><code class="descname">biggest_common_divisor</code><span class="sig-paren">(</span><em>a</em>, <em>b</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#biggest_common_divisor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.biggest_common_divisor" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the biggest common divisor of two float numbers a and b.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>a, b: float</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.check_hyper_flag">
<code class="descclassname">utility.</code><code class="descname">check_hyper_flag</code><span class="sig-paren">(</span><em>problem</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#check_hyper_flag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.check_hyper_flag" title="Permalink to this definition">¶</a></dt>
<dd><p>Check problem setup for type of model standard/hyperparameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>:class:`models.Problem`</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>flag</strong> : boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.downsample_traces">
<code class="descclassname">utility.</code><code class="descname">downsample_traces</code><span class="sig-paren">(</span><em>data_traces</em>, <em>deltat=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#downsample_traces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.downsample_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Downsample data_traces to given sampling interval &#8216;deltat&#8217;.
Modifies input <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/trace.html#pyrocko.trace.Trace" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.Trace</span></code></a> Objects!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data_traces</strong> : list</p>
<blockquote>
<div><p>of <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/trace.html#pyrocko.trace.Trace" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.Trace</span></code></a></p>
</div></blockquote>
<p class="last"><strong>deltat</strong> : sampling interval [s] to which traces should be downsampled</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.dump_objects">
<code class="descclassname">utility.</code><code class="descname">dump_objects</code><span class="sig-paren">(</span><em>outpath</em>, <em>outlist</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#dump_objects"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.dump_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Dump objects in outlist into pickle file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>outpath</strong> : str</p>
<blockquote>
<div><p>absolute path and file name for the file to be stored</p>
</div></blockquote>
<p><strong>outlist</strong> : list</p>
<blockquote class="last">
<div><p>of objects to save pickle</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.ensure_cov_psd">
<code class="descclassname">utility.</code><code class="descname">ensure_cov_psd</code><span class="sig-paren">(</span><em>cov</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#ensure_cov_psd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.ensure_cov_psd" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure that the input covariance matrix is positive definite.
If not, find the nearest positive semi-definite matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>cov</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>symmetric covariance matrix</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>cov</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote class="last">
<div><p>positive definite covariance matrix</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.gather">
<code class="descclassname">utility.</code><code class="descname">gather</code><span class="sig-paren">(</span><em>l</em>, <em>key</em>, <em>sort=None</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#gather"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.gather" title="Permalink to this definition">¶</a></dt>
<dd><p>Return dictionary of input l grouped by key.</p>
</dd></dl>

<dl class="function">
<dt id="utility.get_fit_indexes">
<code class="descclassname">utility.</code><code class="descname">get_fit_indexes</code><span class="sig-paren">(</span><em>llk</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#get_fit_indexes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.get_fit_indexes" title="Permalink to this definition">¶</a></dt>
<dd><p>Find indexes of various likelihoods in a likelihood distribution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>llk</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">dict with array indexes</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.get_rotation_matrix">
<code class="descclassname">utility.</code><code class="descname">get_rotation_matrix</code><span class="sig-paren">(</span><em>axis</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#get_rotation_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.get_rotation_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a function for 3-d rotation matrix for a specified axis.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>axis</strong> : str or list of str</p>
<blockquote>
<div><p>x, y or z for the axis</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">func that takes an angle</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.join_models">
<code class="descclassname">utility.</code><code class="descname">join_models</code><span class="sig-paren">(</span><em>global_model</em>, <em>crustal_model</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#join_models"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.join_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace the part of the &#8216;global model&#8217; that is covered by &#8216;crustal_model&#8217;.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>global_model</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a></p>
<p><strong>crustal_model</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>joined_model</strong> : cake.LayeredModel</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.line_intersect">
<code class="descclassname">utility.</code><code class="descname">line_intersect</code><span class="sig-paren">(</span><em>e1</em>, <em>e2</em>, <em>n1</em>, <em>n2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#line_intersect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.line_intersect" title="Permalink to this definition">¶</a></dt>
<dd><p>Get intersection point of n-lines.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>end points of each line in (n x 2) arrays</strong></p>
<p><strong>e1</strong> : <code class="xref py py-class docutils literal"><span class="pre">numpy.array</span></code> (n x 2)</p>
<blockquote>
<div><p>east coordinates of first line</p>
</div></blockquote>
<p><strong>e2</strong> : <code class="xref py py-class docutils literal"><span class="pre">numpy.array</span></code> (n x 2)</p>
<blockquote>
<div><p>east coordinates of second line</p>
</div></blockquote>
<p><strong>n1</strong> : <code class="xref py py-class docutils literal"><span class="pre">numpy.array</span></code> (n x 2)</p>
<blockquote>
<div><p>north coordinates of first line</p>
</div></blockquote>
<p><strong>n2</strong> : <code class="xref py py-class docutils literal"><span class="pre">numpy.array</span></code> (n x 2)</p>
<blockquote>
<div><p>east coordinates of second line</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">numpy.array</span></code> (n x 2) of intersection points (easts, norths)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.list_to_str">
<code class="descclassname">utility.</code><code class="descname">list_to_str</code><span class="sig-paren">(</span><em>l</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#list_to_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.list_to_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform entries of a list or 1-d array to one single string.</p>
</dd></dl>

<dl class="function">
<dt id="utility.load_objects">
<code class="descclassname">utility.</code><code class="descname">load_objects</code><span class="sig-paren">(</span><em>loadpath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#load_objects"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.load_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Load (unpickle) saved (pickled) objects from specified loadpath.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>loadpath</strong> : absolute path and file name to the file to be loaded</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>objects</strong> : list</p>
<blockquote class="last">
<div><p>of saved objects</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.lonlat_to_utm">
<code class="descclassname">utility.</code><code class="descname">lonlat_to_utm</code><span class="sig-paren">(</span><em>lon</em>, <em>lat</em>, <em>zone</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#lonlat_to_utm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.lonlat_to_utm" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert UTM[m] to local coordinates with reference to the
<a class="reference external" href="http://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>utmx</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>with UTM easting</p>
</div></blockquote>
<p><strong>utmy</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>with UTM northing</p>
</div></blockquote>
<p><strong>zone</strong> : int</p>
<blockquote>
<div><p>number with utm zone</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>utme</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>Local coordinates [m] for x direction (East)</p>
</div></blockquote>
<p><strong>utmn</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Local coordinates [m] for y direction (North)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.mod_i">
<code class="descclassname">utility.</code><code class="descname">mod_i</code><span class="sig-paren">(</span><em>i</em>, <em>cycle</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#mod_i"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.mod_i" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates modulus of a function and returns number of full cycles and the
rest.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>i</strong> : int or float</p>
<blockquote>
<div><p>Number to be cycled over</p>
</div></blockquote>
<p><strong>cycle</strong> : int o float</p>
<blockquote>
<div><p>Cycle length</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fullc</strong> : int or float depending on input</p>
<p class="last"><strong>rest</strong> : int or float depending on input</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.near_psd">
<code class="descclassname">utility.</code><code class="descname">near_psd</code><span class="sig-paren">(</span><em>x</em>, <em>epsilon=2.2204460492503131e-16</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#near_psd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.near_psd" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the nearest postive semi-definite matrix for a correlation/
covariance matrix</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>Covariance/correlation matrix</p>
</div></blockquote>
<p><strong>epsilon</strong> : float</p>
<blockquote>
<div><p>Eigenvalue limit
here set to accuracy of numbers in numpy, otherwise the resulting
matrix, likely is still not going to be positive definite</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>near_cov</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote class="last">
<div><p>closest positive definite covariance/correlation matrix</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Numpy number precission not high enough to resolve this for low valued
covariance matrixes! The result will have very small negative eigvals!!!</p>
<p>See repair_covariance below for a simpler implementation that can resolve
the numbers!</p>
<p>Algorithm after Rebonato &amp; Jaekel 1999</p>
</dd></dl>

<dl class="function">
<dt id="utility.repair_covariance">
<code class="descclassname">utility.</code><code class="descname">repair_covariance</code><span class="sig-paren">(</span><em>x</em>, <em>epsilon=2.2204460492503131e-16</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#repair_covariance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.repair_covariance" title="Permalink to this definition">¶</a></dt>
<dd><p>Make covariance input matrix A positive definite.
Setting eigenvalues that are lower than the precission of numpy floats to
at least that precision and backtransform.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>Covariance/correlation matrix</p>
</div></blockquote>
<p><strong>epsilon</strong> : float</p>
<blockquote>
<div><p>Eigenvalue limit
here set to accuracy of numbers in numpy, otherwise the resulting
matrix, likely is still not going to be positive definite</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>near_cov</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote class="last">
<div><p>closest positive definite covariance/correlation matrix</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Algorithm after Gilbert Strange, &#8216;Introduction to linear Algebra&#8217;</p>
</dd></dl>

<dl class="function">
<dt id="utility.search_catalog">
<code class="descclassname">utility.</code><code class="descname">search_catalog</code><span class="sig-paren">(</span><em>date</em>, <em>min_magnitude</em>, <em>dayrange=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#search_catalog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.search_catalog" title="Permalink to this definition">¶</a></dt>
<dd><p>Search the gcmt catalog for the specified date (+- 1 day), filtering the
events with given magnitude threshold.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>date</strong> : str</p>
<blockquote>
<div><p>&#8216;YYYY-MM-DD&#8217;, date of the event</p>
</div></blockquote>
<p><strong>min_magnitude</strong> : float</p>
<blockquote>
<div><p>approximate minimum Mw of the event</p>
</div></blockquote>
<p><strong>dayrange</strong> : float</p>
<blockquote>
<div><p>temporal search interval [days] around date</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>event</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.setup_logging">
<code class="descclassname">utility.</code><code class="descname">setup_logging</code><span class="sig-paren">(</span><em>project_dir</em>, <em>levelname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#setup_logging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.setup_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup function for handling BEAT logging. The logfile &#8216;BEAT_log.txt&#8217; is
saved in the &#8216;project_dir&#8217;.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>project_dir</strong> : str</p>
<blockquote>
<div><p>absolute path to the output directory for the Log file</p>
</div></blockquote>
<p><strong>levelname</strong> : str</p>
<blockquote class="last">
<div><p>defining the level of logging</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.split_off_list">
<code class="descclassname">utility.</code><code class="descname">split_off_list</code><span class="sig-paren">(</span><em>l</em>, <em>off_length</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#split_off_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.split_off_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Split a list with length &#8216;off_length&#8217; from the beginning of an input
list l.
Modifies input list!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>l</strong> : list</p>
<blockquote>
<div><p>of objects to be seperated</p>
</div></blockquote>
<p><strong>off_length</strong> : int</p>
<blockquote>
<div><p>number of elements from l to be split off</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.split_point">
<code class="descclassname">utility.</code><code class="descname">split_point</code><span class="sig-paren">(</span><em>point</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#split_point"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.split_point" title="Permalink to this definition">¶</a></dt>
<dd><p>Split point in solution space into List of dictionaries with source
parameters for each source.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>point</strong> : dict</p>
<blockquote>
<div><p><code class="xref py py-func docutils literal"><span class="pre">pymc3.model.Point()</span></code></p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>source_points</strong> : list</p>
<blockquote class="last">
<div><p>of <code class="xref py py-func docutils literal"><span class="pre">pymc3.model.Point()</span></code></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.swap_columns">
<code class="descclassname">utility.</code><code class="descname">swap_columns</code><span class="sig-paren">(</span><em>array</em>, <em>index1</em>, <em>index2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#swap_columns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.swap_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Swaps the column of the input array based on the given indexes.</p>
</dd></dl>

<dl class="function">
<dt id="utility.transform_sources">
<code class="descclassname">utility.</code><code class="descname">transform_sources</code><span class="sig-paren">(</span><em>sources</em>, <em>datatypes</em>, <em>decimation_factors=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#transform_sources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.transform_sources" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms a list of <a class="reference internal" href="#heart.RectangularSource" title="heart.RectangularSource"><code class="xref py py-class docutils literal"><span class="pre">heart.RectangularSource</span></code></a> to a dictionary of
sources <code class="xref py py-class docutils literal"><span class="pre">pscmp.PsCmpRectangularSource</span></code> for geodetic data and
<a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.RectangularSource" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.RectangularSource</span></code></a> for seismic data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>sources</strong> : list</p>
<blockquote>
<div><p><a class="reference internal" href="#heart.RectangularSource" title="heart.RectangularSource"><code class="xref py py-class docutils literal"><span class="pre">heart.RectangularSource</span></code></a></p>
</div></blockquote>
<p><strong>datatypes</strong> : list</p>
<blockquote>
<div><p>of strings with the datatypes to be included &#8216;geodetic&#8217; or &#8216;seismic&#8217;</p>
</div></blockquote>
<p><strong>decimation_factors</strong> : dict</p>
<blockquote>
<div><p>of datatypes and their respective decimation factor</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>d</strong> : dict</p>
<blockquote class="last">
<div><p>of transformed sources with datatypes as keys</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.unique_list">
<code class="descclassname">utility.</code><code class="descname">unique_list</code><span class="sig-paren">(</span><em>l</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#unique_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.unique_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Find unique entries in list and return them in a list.
Keeps variable order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>l</strong> : list</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list with only unique elements</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.update_source">
<code class="descclassname">utility.</code><code class="descname">update_source</code><span class="sig-paren">(</span><em>source</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#update_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.update_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Update source keeping stf and source params seperate.
Modifies input source Object!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>source</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.Source" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Source</span></code></a></p>
<p><strong>point</strong> : dict</p>
<blockquote class="last">
<div><p><code class="xref py py-func docutils literal"><span class="pre">pymc3.model.Point()</span></code></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.utm_to_loc">
<code class="descclassname">utility.</code><code class="descname">utm_to_loc</code><span class="sig-paren">(</span><em>utmx</em>, <em>utmy</em>, <em>zone</em>, <em>event</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#utm_to_loc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.utm_to_loc" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert UTM[m] to local coordinates with reference to the
<a class="reference external" href="http://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>utmx</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>with UTM easting</p>
</div></blockquote>
<p><strong>utmy</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>with UTM northing</p>
</div></blockquote>
<p><strong>zone</strong> : int</p>
<blockquote>
<div><p>number with utm zone</p>
</div></blockquote>
<p><strong>event</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>locx</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>Local coordinates [m] for x direction (East)</p>
</div></blockquote>
<p><strong>locy</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Local coordinates [m] for y direction (North)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.utm_to_lonlat">
<code class="descclassname">utility.</code><code class="descname">utm_to_lonlat</code><span class="sig-paren">(</span><em>utmx</em>, <em>utmy</em>, <em>zone</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#utm_to_lonlat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.utm_to_lonlat" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert UTM[m] to Latitude and Longitude coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>utmx</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>with UTM easting</p>
</div></blockquote>
<p><strong>utmy</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>with UTM northing</p>
</div></blockquote>
<p><strong>zone</strong> : int</p>
<blockquote>
<div><p>number with utm zone</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>lon</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> Longitude [decimal deg]</p>
<p class="last"><strong>lat</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.12)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> Latitude [decimal deg]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.weed_data_traces">
<code class="descclassname">utility.</code><code class="descname">weed_data_traces</code><span class="sig-paren">(</span><em>data_traces</em>, <em>stations</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#weed_data_traces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.weed_data_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Throw out data traces belonging to stations that are not in the
stations list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data_traces</strong> : list</p>
<blockquote>
<div><p>of <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/trace.html#pyrocko.trace.Trace" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.Trace</span></code></a></p>
</div></blockquote>
<p><strong>stations</strong> : list</p>
<blockquote>
<div><p>of <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Station" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Station</span></code></a></p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>weeded_data_traces</strong> : list</p>
<blockquote class="last">
<div><p>of <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/trace.html#pyrocko.trace.Trace" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.Trace</span></code></a></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.weed_input_rvs">
<code class="descclassname">utility.</code><code class="descname">weed_input_rvs</code><span class="sig-paren">(</span><em>input_rvs</em>, <em>mode</em>, <em>datatype</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#weed_input_rvs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.weed_input_rvs" title="Permalink to this definition">¶</a></dt>
<dd><p>Throw out random variables (RV)s from input list that are not included by
the respective synthetics generating functions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>input_rvs</strong> : dict</p>
<blockquote>
<div><p>of <code class="xref py py-class docutils literal"><span class="pre">pymc3.Distribution</span></code>
or set</p>
<blockquote>
<div><p>of variable names</p>
</div></blockquote>
</div></blockquote>
<p><strong>mode</strong> : str</p>
<blockquote>
<div><p>&#8216;geometry&#8217;, &#8216;static, &#8216;kinematic&#8217;, &#8216;interseismic&#8217; determining the
discarded RVs</p>
</div></blockquote>
<p><strong>datatype</strong> : str</p>
<blockquote>
<div><p>&#8216;seismic&#8217; or &#8216;geodetic&#8217; determining the discarded RVs</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>weeded_input_rvs</strong> : dict</p>
<blockquote class="last">
<div><p>of <code class="xref py py-class docutils literal"><span class="pre">pymc3.Distribution</span></code></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.weed_stations">
<code class="descclassname">utility.</code><code class="descname">weed_stations</code><span class="sig-paren">(</span><em>stations</em>, <em>event</em>, <em>distances=(30.0</em>, <em>90.0)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#weed_stations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.weed_stations" title="Permalink to this definition">¶</a></dt>
<dd><p>Weed stations, that are not within the given distance range(min, max) to
a reference event.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>stations</strong> : list</p>
<blockquote>
<div><p>of <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Station" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Station</span></code></a></p>
</div></blockquote>
<p><strong>event</strong></p>
<blockquote>
<div><p><a class="reference external" href="http://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a></p>
</div></blockquote>
<p><strong>distances</strong> : tuple</p>
<blockquote>
<div><p>of minimum and maximum distance [deg] for station-event pairs</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>weeded_stations</strong> : list</p>
<blockquote class="last">
<div><p>of <a class="reference external" href="http://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Station" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Station</span></code></a></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-plotting">
<span id="the-plotting-module"></span><h2>The <a class="reference internal" href="#module-plotting" title="plotting"><code class="xref py py-mod docutils literal"><span class="pre">plotting</span></code></a> Module<a class="headerlink" href="#module-plotting" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="plotting.PlotOptions">
<em class="property">class </em><code class="descclassname">plotting.</code><code class="descname">PlotOptions</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotting.html#PlotOptions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plotting.PlotOptions" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="function">
<dt id="plotting.correlation_plot">
<code class="descclassname">plotting.</code><code class="descname">correlation_plot</code><span class="sig-paren">(</span><em>mtrace</em>, <em>varnames=None</em>, <em>transform=&lt;function &lt;lambda&gt; at 0xca68b90&gt;</em>, <em>figsize=None</em>, <em>cmap=None</em>, <em>grid=200</em>, <em>point=None</em>, <em>point_style='.'</em>, <em>point_color='white'</em>, <em>point_size='8'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotting.html#correlation_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plotting.correlation_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot 2d marginals (with kernel density estimation) showing the correlations
of the model parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mtrace</strong> : <code class="xref py py-class docutils literal"><span class="pre">pymc3.base.MutliTrace</span></code></p>
<blockquote>
<div><p>Mutlitrace instance containing the sampling results</p>
</div></blockquote>
<p><strong>varnames</strong> : list of variable names</p>
<blockquote>
<div><p>Variables to be plotted, if None all variable are plotted</p>
</div></blockquote>
<p><strong>transform</strong> : callable</p>
<blockquote>
<div><p>Function to transform data (defaults to identity)</p>
</div></blockquote>
<p><strong>figsize</strong> : figure size tuple</p>
<blockquote>
<div><p>If None, size is (12, num of variables * 2) inch</p>
</div></blockquote>
<p><strong>cmap</strong> : matplotlib colormap</p>
<p><strong>grid</strong> : resolution of kernel density estimation</p>
<p><strong>point</strong> : dict</p>
<blockquote>
<div><p>Dictionary of variable name / value  to be overplotted as marker
to the posteriors e.g. mean of posteriors, true values of a simulation</p>
</div></blockquote>
<p><strong>point_style</strong> : str</p>
<blockquote>
<div><p>style of marker according to matplotlib conventions</p>
</div></blockquote>
<p><strong>point_color</strong> : str or tuple of 3</p>
<blockquote>
<div><p>color according to matplotlib convention</p>
</div></blockquote>
<p><strong>point_size</strong> : str</p>
<blockquote>
<div><p>marker size according to matplotlib conventions</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fig</strong> : figure object</p>
<p class="last"><strong>axs</strong> : subplot axis handles</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="plotting.correlation_plot_hist">
<code class="descclassname">plotting.</code><code class="descname">correlation_plot_hist</code><span class="sig-paren">(</span><em>mtrace</em>, <em>varnames=None</em>, <em>transform=&lt;function &lt;lambda&gt; at 0xca68c80&gt;</em>, <em>figsize=None</em>, <em>hist_color='orange'</em>, <em>cmap=None</em>, <em>grid=50</em>, <em>chains=None</em>, <em>ntickmarks=2</em>, <em>point=None</em>, <em>point_style='.'</em>, <em>point_color='red'</em>, <em>point_size='6'</em>, <em>alpha=0.35</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotting.html#correlation_plot_hist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plotting.correlation_plot_hist" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot 2d marginals (with kernel density estimation) showing the correlations
of the model parameters. In the main diagonal is shown the parameter
histograms.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mtrace</strong> : <code class="xref py py-class docutils literal"><span class="pre">pymc3.base.MutliTrace</span></code></p>
<blockquote>
<div><p>Mutlitrace instance containing the sampling results</p>
</div></blockquote>
<p><strong>varnames</strong> : list of variable names</p>
<blockquote>
<div><p>Variables to be plotted, if None all variable are plotted</p>
</div></blockquote>
<p><strong>transform</strong> : callable</p>
<blockquote>
<div><p>Function to transform data (defaults to identity)</p>
</div></blockquote>
<p><strong>figsize</strong> : figure size tuple</p>
<blockquote>
<div><p>If None, size is (12, num of variables * 2) inch</p>
</div></blockquote>
<p><strong>cmap</strong> : matplotlib colormap</p>
<p><strong>hist_color</strong> : str or tuple of 3</p>
<blockquote>
<div><p>color according to matplotlib convention</p>
</div></blockquote>
<p><strong>grid</strong> : resolution of kernel density estimation</p>
<p><strong>chains</strong> : int or list of ints</p>
<blockquote>
<div><p>chain indexes to select from the trace</p>
</div></blockquote>
<p><strong>ntickmarks</strong> : int</p>
<blockquote>
<div><p>number of ticks at the axis labels</p>
</div></blockquote>
<p><strong>point</strong> : dict</p>
<blockquote>
<div><p>Dictionary of variable name / value  to be overplotted as marker
to the posteriors e.g. mean of posteriors, true values of a simulation</p>
</div></blockquote>
<p><strong>point_style</strong> : str</p>
<blockquote>
<div><p>style of marker according to matplotlib conventions</p>
</div></blockquote>
<p><strong>point_color</strong> : str or tuple of 3</p>
<blockquote>
<div><p>color according to matplotlib convention</p>
</div></blockquote>
<p><strong>point_size</strong> : str</p>
<blockquote>
<div><p>marker size according to matplotlib conventions</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fig</strong> : figure object</p>
<p class="last"><strong>axs</strong> : subplot axis handles</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="plotting.get_result_point">
<code class="descclassname">plotting.</code><code class="descname">get_result_point</code><span class="sig-paren">(</span><em>stage</em>, <em>config</em>, <em>point_llk='max'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotting.html#get_result_point"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plotting.get_result_point" title="Permalink to this definition">¶</a></dt>
<dd><p>Return point of a given stage result.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>stage</strong> : <code class="xref py py-class docutils literal"><span class="pre">models.Stage</span></code></p>
<p><strong>config</strong> : <code class="xref py py-class docutils literal"><span class="pre">config.BEATConfig</span></code></p>
<p><strong>point_llk</strong> : str</p>
<blockquote>
<div><p>with specified llk(max, mean, min).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="plotting.seismic_fits">
<code class="descclassname">plotting.</code><code class="descname">seismic_fits</code><span class="sig-paren">(</span><em>problem</em>, <em>stage</em>, <em>plot_options</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotting.html#seismic_fits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plotting.seismic_fits" title="Permalink to this definition">¶</a></dt>
<dd><p>Modified from grond. Plot synthetic and data waveforms and the misfit for
the selected posterior model.</p>
</dd></dl>

<dl class="function">
<dt id="plotting.geodetic_fits">
<code class="descclassname">plotting.</code><code class="descname">geodetic_fits</code><span class="sig-paren">(</span><em>problem</em>, <em>stage</em>, <em>plot_options</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotting.html#geodetic_fits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plotting.geodetic_fits" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot geodetic data, synthetics and residuals.</p>
</dd></dl>

<dl class="function">
<dt id="plotting.traceplot">
<code class="descclassname">plotting.</code><code class="descname">traceplot</code><span class="sig-paren">(</span><em>trace</em>, <em>varnames=None</em>, <em>transform=&lt;function &lt;lambda&gt; at 0xca64410&gt;</em>, <em>figsize=None</em>, <em>lines=None</em>, <em>chains=None</em>, <em>combined=False</em>, <em>grid=False</em>, <em>varbins=None</em>, <em>nbins=40</em>, <em>color=None</em>, <em>alpha=0.35</em>, <em>priors=None</em>, <em>prior_alpha=1</em>, <em>prior_style='--'</em>, <em>axs=None</em>, <em>posterior=None</em>, <em>fig=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotting.html#traceplot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plotting.traceplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots posterior pdfs as histograms from multiple mtrace objects.</p>
<p>Modified from pymc3.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>trace</strong> : result of MCMC run</p>
<p><strong>varnames</strong> : list of variable names</p>
<blockquote>
<div><p>Variables to be plotted, if None all variable are plotted</p>
</div></blockquote>
<p><strong>transform</strong> : callable</p>
<blockquote>
<div><p>Function to transform data (defaults to identity)</p>
</div></blockquote>
<p><strong>posterior</strong> : str</p>
<blockquote>
<div><p>To mark posterior value in distribution &#8216;max&#8217;, &#8216;min&#8217;, &#8216;mean&#8217;, &#8216;all&#8217;</p>
</div></blockquote>
<p><strong>figsize</strong> : figure size tuple</p>
<blockquote>
<div><p>If None, size is (12, num of variables * 2) inch</p>
</div></blockquote>
<p><strong>lines</strong> : dict</p>
<blockquote>
<div><p>Dictionary of variable name / value  to be overplotted as vertical
lines to the posteriors and horizontal lines on sample values
e.g. mean of posteriors, true values of a simulation</p>
</div></blockquote>
<p><strong>chains</strong> : int or list of ints</p>
<blockquote>
<div><p>chain indexes to select from the trace</p>
</div></blockquote>
<p><strong>combined</strong> : bool</p>
<blockquote>
<div><p>Flag for combining multiple chains into a single chain. If False
(default), chains will be plotted separately.</p>
</div></blockquote>
<p><strong>grid</strong> : bool</p>
<blockquote>
<div><p>Flag for adding gridlines to histogram. Defaults to True.</p>
</div></blockquote>
<p><strong>varbins</strong> : list of arrays</p>
<blockquote>
<div><p>List containing the binning arrays for the variables, if None they will
be created.</p>
</div></blockquote>
<p><strong>nbins</strong> : int</p>
<blockquote>
<div><p>Number of bins for each histogram</p>
</div></blockquote>
<p><strong>color</strong> : tuple</p>
<blockquote>
<div><p>mpl color tuple</p>
</div></blockquote>
<p><strong>alpha</strong> : float</p>
<blockquote>
<div><p>Alpha value for plot line. Defaults to 0.35.</p>
</div></blockquote>
<p><strong>axs</strong> : axes</p>
<blockquote>
<div><p>Matplotlib axes. Defaults to None.</p>
</div></blockquote>
<p><strong>fig</strong> : figure</p>
<blockquote>
<div><p>Matplotlib figure. Defaults to None.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>ax</strong> : matplotlib axes</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="plotting.select_transform">
<code class="descclassname">plotting.</code><code class="descname">select_transform</code><span class="sig-paren">(</span><em>sc</em>, <em>n_steps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotting.html#select_transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plotting.select_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Select transform function to be applied after loading the sampling results.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>sc</strong> : <a class="reference internal" href="#config.SamplerConfig" title="config.SamplerConfig"><code class="xref py py-class docutils literal"><span class="pre">config.SamplerConfig</span></code></a></p>
<blockquote>
<div><p>Name of the sampler that has been used in sampling the posterior pdf</p>
</div></blockquote>
<p><strong>n_steps</strong> : int</p>
<blockquote>
<div><p>Number of chains to select last samples of each trace.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>func</strong> : instance</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-inputf">
<span id="the-inputf-module"></span><h2>The <a class="reference internal" href="#module-inputf" title="inputf"><code class="xref py py-mod docutils literal"><span class="pre">inputf</span></code></a> Module<a class="headerlink" href="#module-inputf" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="inputf.load_SAR_data">
<code class="descclassname">inputf.</code><code class="descname">load_SAR_data</code><span class="sig-paren">(</span><em>datadir</em>, <em>names</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputf.html#load_SAR_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#inputf.load_SAR_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Load SAR data in given directory and filenames.
Returns Diff_IFG objects.</p>
</dd></dl>

<dl class="function">
<dt id="inputf.load_and_blacklist_GPS">
<code class="descclassname">inputf.</code><code class="descname">load_and_blacklist_GPS</code><span class="sig-paren">(</span><em>datadir</em>, <em>filename</em>, <em>blacklist</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputf.html#load_and_blacklist_GPS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#inputf.load_and_blacklist_GPS" title="Permalink to this definition">¶</a></dt>
<dd><p>Load ascii GPS data, apply blacklist and initialise targets.</p>
</dd></dl>

<dl class="function">
<dt id="inputf.load_and_blacklist_stations">
<code class="descclassname">inputf.</code><code class="descname">load_and_blacklist_stations</code><span class="sig-paren">(</span><em>datadir</em>, <em>blacklist</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputf.html#load_and_blacklist_stations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#inputf.load_and_blacklist_stations" title="Permalink to this definition">¶</a></dt>
<dd><p>Load stations from autokiwi output and apply blacklist</p>
</dd></dl>

<dl class="function">
<dt id="inputf.load_ascii_gps">
<code class="descclassname">inputf.</code><code class="descname">load_ascii_gps</code><span class="sig-paren">(</span><em>filedir</em>, <em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputf.html#load_ascii_gps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#inputf.load_ascii_gps" title="Permalink to this definition">¶</a></dt>
<dd><p>Load ascii file columns containing:
station name, Lon, Lat, ve, vn, vu, sigma_ve, sigma_vn, sigma_vu
location [decimal deg]
measurement unit [mm/yr]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference internal" href="#heart.GPSDataset" title="heart.GPSDataset"><code class="xref py py-class docutils literal"><span class="pre">heart.GPSDataset</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="inputf.load_data_traces">
<code class="descclassname">inputf.</code><code class="descname">load_data_traces</code><span class="sig-paren">(</span><em>datadir</em>, <em>stations</em>, <em>channels</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputf.html#load_data_traces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#inputf.load_data_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Load data traces for the given stations and channels.</p>
</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="installation.html" class="btn btn-neutral" title="Detailed Installation instructions" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Hannes Vasyura-Bathke.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0beta',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>