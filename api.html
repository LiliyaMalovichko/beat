

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>API Reference &mdash; beat 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="beat 0.1 documentation" href="index.html"/>
        <link rel="prev" title="Installation instructions" href="installation.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> beat
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation instructions</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-heart">The <code class="docutils literal"><span class="pre">heart</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-config">The <code class="docutils literal"><span class="pre">config</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-atmcmc">The <code class="docutils literal"><span class="pre">atmcmc</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-backend">The <code class="docutils literal"><span class="pre">backend</span></code> Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#file-format">File format</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-models">The <code class="docutils literal"><span class="pre">models</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-psgrn">The <code class="docutils literal"><span class="pre">psgrn</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-pscmp">The <code class="docutils literal"><span class="pre">pscmp</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-covariance">The <code class="docutils literal"><span class="pre">covariance</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-theanof">The <code class="docutils literal"><span class="pre">theanof</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utility">The <code class="docutils literal"><span class="pre">utility</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-plotting">The <code class="docutils literal"><span class="pre">plotting</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-inputf">The <code class="docutils literal"><span class="pre">inputf</span></code> Module</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">beat</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>API Reference</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/api.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="api-reference">
<h1>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-heart">
<span id="the-heart-module"></span><h2>The <a class="reference internal" href="#module-heart" title="heart"><code class="xref py py-mod docutils literal"><span class="pre">heart</span></code></a> Module<a class="headerlink" href="#module-heart" title="Permalink to this headline">¶</a></h2>
<p>Core module with functions to calculate Greens Functions and synthetics.
Also contains main classes for setup specific parameters.</p>
<dl class="class">
<dt id="heart.ArrivalTaper">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">ArrivalTaper</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#ArrivalTaper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.ArrivalTaper" title="Permalink to this definition">¶</a></dt>
<dd><p>Cosine arrival Taper.</p>
<dl class="attribute">
<dt id="heart.ArrivalTaper.a">
<code class="descname">a</code><a class="headerlink" href="#heart.ArrivalTaper.a" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">15.0</span></code>, start of fading in; [s] w.r.t. phase arrival</p>
</dd></dl>

<dl class="attribute">
<dt id="heart.ArrivalTaper.b">
<code class="descname">b</code><a class="headerlink" href="#heart.ArrivalTaper.b" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">10.0</span></code>, end of fading in; [s] w.r.t. phase arrival</p>
</dd></dl>

<dl class="attribute">
<dt id="heart.ArrivalTaper.c">
<code class="descname">c</code><a class="headerlink" href="#heart.ArrivalTaper.c" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">50.0</span></code>, start of fading in; [s] w.r.t. phase arrival</p>
</dd></dl>

<dl class="attribute">
<dt id="heart.ArrivalTaper.d">
<code class="descname">d</code><a class="headerlink" href="#heart.ArrivalTaper.d" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">55.0</span></code>, end of fading in; [s] w.r.t phase arrival</p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="heart.Covariance">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">Covariance</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#Covariance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.Covariance" title="Permalink to this definition">¶</a></dt>
<dd><p>Covariance of an observation. Holds data and model prediction uncertainties
for one observation object.</p>
<dl class="attribute">
<dt id="heart.Covariance.data">
<code class="descname">data</code><a class="headerlink" href="#heart.Covariance.data" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>, <em>optional</em>, Data covariance matrix</p>
</dd></dl>

<dl class="attribute">
<dt id="heart.Covariance.pred_g">
<code class="descname">pred_g</code><a class="headerlink" href="#heart.Covariance.pred_g" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>, <em>optional</em>, Model prediction covariance matrix, fault geometry</p>
</dd></dl>

<dl class="attribute">
<dt id="heart.Covariance.pred_v">
<code class="descname">pred_v</code><a class="headerlink" href="#heart.Covariance.pred_v" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>, <em>optional</em>, Model prediction covariance matrix, velocity model</p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="heart.Covariance.get_inverse">
<code class="descname">get_inverse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#Covariance.get_inverse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.Covariance.get_inverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and invert ALL uncertainty covariance Matrices.</p>
</dd></dl>

<dl class="method">
<dt id="heart.Covariance.get_inverse_d">
<code class="descname">get_inverse_d</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#Covariance.get_inverse_d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.Covariance.get_inverse_d" title="Permalink to this definition">¶</a></dt>
<dd><p>Invert DATA covariance Matrix.</p>
</dd></dl>

<dl class="method">
<dt id="heart.Covariance.get_inverse_p">
<code class="descname">get_inverse_p</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#Covariance.get_inverse_p"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.Covariance.get_inverse_p" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and invert different MODEL uncertainty covariance Matrices.</p>
</dd></dl>

<dl class="attribute">
<dt id="heart.Covariance.log_norm_factor">
<code class="descname">log_norm_factor</code><a class="headerlink" href="#heart.Covariance.log_norm_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the normalisation factor of the posterior pdf.
Following Duputel et al. 2014</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="heart.DiffIFG">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">DiffIFG</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#DiffIFG"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.DiffIFG" title="Permalink to this definition">¶</a></dt>
<dd><p>Differential Interferogram class as geodetic target for the calculation
of synthetics and container for SAR data.</p>
<dl class="attribute">
<dt id="heart.DiffIFG.unwrapped_phase">
<code class="descname">unwrapped_phase</code><a class="headerlink" href="#heart.DiffIFG.unwrapped_phase" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>, <em>optional</em></p>
</dd></dl>

<dl class="attribute">
<dt id="heart.DiffIFG.coherence">
<code class="descname">coherence</code><a class="headerlink" href="#heart.DiffIFG.coherence" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>, <em>optional</em></p>
</dd></dl>

<dl class="attribute">
<dt id="heart.DiffIFG.reference_point">
<code class="descname">reference_point</code><a class="headerlink" href="#heart.DiffIFG.reference_point" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">tuple</span></code> of 2 <code class="docutils literal"><span class="pre">float</span></code> objects, <em>optional</em></p>
</dd></dl>

<dl class="attribute">
<dt id="heart.DiffIFG.reference_value">
<code class="descname">reference_value</code><a class="headerlink" href="#heart.DiffIFG.reference_value" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>optional</em>, <em>default:</em> <code class="docutils literal"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="heart.DiffIFG.displacement">
<code class="descname">displacement</code><a class="headerlink" href="#heart.DiffIFG.displacement" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>, <em>optional</em></p>
</dd></dl>

<dl class="attribute">
<dt id="heart.DiffIFG.covariance">
<code class="descname">covariance</code><a class="headerlink" href="#heart.DiffIFG.covariance" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#heart.Covariance" title="heart.Covariance"><code class="xref py py-class docutils literal"><span class="pre">heart.Covariance</span></code></a>, <em>optional</em>, <a class="reference internal" href="#heart.Covariance" title="heart.Covariance"><code class="xref py py-class docutils literal"><span class="pre">Covariance</span></code></a> that holds dataand model prediction covariance matrixes</p>
</dd></dl>

<dl class="attribute">
<dt id="heart.DiffIFG.odw">
<code class="descname">odw</code><a class="headerlink" href="#heart.DiffIFG.odw" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>, <em>optional</em>, Overlapping data weights, additional weight factor to thedataset for overlaps with other datasets</p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="heart.Filter">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">Filter</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#Filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.Filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter object defining frequency range of traces after filtering</p>
<dl class="attribute">
<dt id="heart.Filter.lower_corner">
<code class="descname">lower_corner</code><a class="headerlink" href="#heart.Filter.lower_corner" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.001</span></code>, Lower corner frequency</p>
</dd></dl>

<dl class="attribute">
<dt id="heart.Filter.upper_corner">
<code class="descname">upper_corner</code><a class="headerlink" href="#heart.Filter.upper_corner" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.1</span></code>, Upper corner frequency</p>
</dd></dl>

<dl class="attribute">
<dt id="heart.Filter.order">
<code class="descname">order</code><a class="headerlink" href="#heart.Filter.order" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">4</span></code>, order of filter, the higher the steeper</p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="heart.GeodeticTarget">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">GeodeticTarget</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#GeodeticTarget"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.GeodeticTarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Overall geodetic data set class</p>
<dl class="attribute">
<dt id="heart.GeodeticTarget.typ">
<code class="descname">typ</code><a class="headerlink" href="#heart.GeodeticTarget.typ" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'SAR'</span></code></p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="heart.IFG">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">IFG</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#IFG"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.IFG" title="Permalink to this definition">¶</a></dt>
<dd><p>Interferogram class as a dataset in the optimization.</p>
<dl class="attribute">
<dt id="heart.IFG.track">
<code class="descname">track</code><a class="headerlink" href="#heart.IFG.track" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'A'</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="heart.IFG.master">
<code class="descname">master</code><a class="headerlink" href="#heart.IFG.master" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>optional</em>, Acquisition time of master image YYYY-MM-DD</p>
</dd></dl>

<dl class="attribute">
<dt id="heart.IFG.slave">
<code class="descname">slave</code><a class="headerlink" href="#heart.IFG.slave" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>optional</em>, Acquisition time of slave image YYYY-MM-DD</p>
</dd></dl>

<dl class="attribute">
<dt id="heart.IFG.amplitude">
<code class="descname">amplitude</code><a class="headerlink" href="#heart.IFG.amplitude" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>, <em>optional</em></p>
</dd></dl>

<dl class="attribute">
<dt id="heart.IFG.wrapped_phase">
<code class="descname">wrapped_phase</code><a class="headerlink" href="#heart.IFG.wrapped_phase" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>, <em>optional</em></p>
</dd></dl>

<dl class="attribute">
<dt id="heart.IFG.incidence">
<code class="descname">incidence</code><a class="headerlink" href="#heart.IFG.incidence" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>, <em>optional</em></p>
</dd></dl>

<dl class="attribute">
<dt id="heart.IFG.heading">
<code class="descname">heading</code><a class="headerlink" href="#heart.IFG.heading" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>, <em>optional</em></p>
</dd></dl>

<dl class="attribute">
<dt id="heart.IFG.los_vector">
<code class="descname">los_vector</code><a class="headerlink" href="#heart.IFG.los_vector" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>, <em>optional</em></p>
</dd></dl>

<dl class="attribute">
<dt id="heart.IFG.utmn">
<code class="descname">utmn</code><a class="headerlink" href="#heart.IFG.utmn" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>, <em>optional</em></p>
</dd></dl>

<dl class="attribute">
<dt id="heart.IFG.utme">
<code class="descname">utme</code><a class="headerlink" href="#heart.IFG.utme" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>, <em>optional</em></p>
</dd></dl>

<dl class="attribute">
<dt id="heart.IFG.lats">
<code class="descname">lats</code><a class="headerlink" href="#heart.IFG.lats" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>, <em>optional</em></p>
</dd></dl>

<dl class="attribute">
<dt id="heart.IFG.lons">
<code class="descname">lons</code><a class="headerlink" href="#heart.IFG.lons" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>, <em>optional</em></p>
</dd></dl>

<dl class="attribute">
<dt id="heart.IFG.satellite">
<code class="descname">satellite</code><a class="headerlink" href="#heart.IFG.satellite" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'Envisat'</span></code></p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="heart.IFG.update_los_vector">
<code class="descname">update_los_vector</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#IFG.update_los_vector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.IFG.update_los_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate LOS vector for given attributes incidence and heading angles.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (n_points, 3)</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="heart.Parameter">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">Parameter</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#Parameter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.Parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimization parameter determines the bounds of the search space.</p>
<dl class="attribute">
<dt id="heart.Parameter.name">
<code class="descname">name</code><a class="headerlink" href="#heart.Parameter.name" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'lon'</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="heart.Parameter.form">
<code class="descname">form</code><a class="headerlink" href="#heart.Parameter.form" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'Uniform'</span></code>, Type of prior distribution to use. Options: &#8220;Uniform&#8221;, ...</p>
</dd></dl>

<dl class="attribute">
<dt id="heart.Parameter.lower">
<code class="descname">lower</code><a class="headerlink" href="#heart.Parameter.lower" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>, <em>default:</em> <code class="docutils literal"><span class="pre">array([</span> <span class="pre">0.,</span>&#160; <span class="pre">0.])</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="heart.Parameter.upper">
<code class="descname">upper</code><a class="headerlink" href="#heart.Parameter.upper" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>, <em>default:</em> <code class="docutils literal"><span class="pre">array([</span> <span class="pre">1.,</span>&#160; <span class="pre">1.])</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="heart.Parameter.testvalue">
<code class="descname">testvalue</code><a class="headerlink" href="#heart.Parameter.testvalue" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>, <em>default:</em> <code class="docutils literal"><span class="pre">array([</span> <span class="pre">0.5,</span>&#160; <span class="pre">0.5])</span></code></p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="heart.PickleableTrace">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">PickleableTrace</code><span class="sig-paren">(</span><em>network=''</em>, <em>station='STA'</em>, <em>location=''</em>, <em>channel=''</em>, <em>tmin=0.0</em>, <em>tmax=None</em>, <em>deltat=1.0</em>, <em>ydata=None</em>, <em>mtime=None</em>, <em>meta=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#PickleableTrace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.PickleableTrace" title="Permalink to this definition">¶</a></dt>
<dd><p>Class build on top of <a class="reference external" href="http://pyrocko.org/v0.3/trace.html#pyrocko.trace.Trace" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.Trace</span></code></a> to make them pickleable.
Obsolete as this has been implemented in pyrocko.</p>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="heart.RectangularSource">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">RectangularSource</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#RectangularSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.RectangularSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Source for rectangular fault that unifies the necessary different source
objects for teleseismic and geodetic computations.
Reference point of the depth attribute is the top-center of the fault.</p>
<dl class="attribute">
<dt id="heart.RectangularSource.width">
<code class="descname">width</code><a class="headerlink" href="#heart.RectangularSource.width" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1000.0</span></code>, width of the fault [m]</p>
</dd></dl>

<dl class="attribute">
<dt id="heart.RectangularSource.length">
<code class="descname">length</code><a class="headerlink" href="#heart.RectangularSource.length" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1000.0</span></code>, length of the fault [m]</p>
</dd></dl>

<dl class="attribute">
<dt id="heart.RectangularSource.slip">
<code class="descname">slip</code><a class="headerlink" href="#heart.RectangularSource.slip" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1.0</span></code>, slip of the fault [m]</p>
</dd></dl>

<dl class="attribute">
<dt id="heart.RectangularSource.opening">
<code class="descname">opening</code><a class="headerlink" href="#heart.RectangularSource.opening" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.0</span></code>, opening of the fault [m]</p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<dl class="staticmethod">
<dt id="heart.RectangularSource.center">
<em class="property">static </em><code class="descname">center</code><span class="sig-paren">(</span><em>top_depth</em>, <em>width</em>, <em>dipvector</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#RectangularSource.center"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.RectangularSource.center" title="Permalink to this definition">¶</a></dt>
<dd><p>Get 3d fault center coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>top_depth</strong> : scalar, float</p>
<blockquote>
<div><p>central, top depth [m] of the upper edge of the fault</p>
</div></blockquote>
<p><strong>width</strong> : scalar, float</p>
<blockquote>
<div><p>width [m] of the fault (dip-direction)</p>
</div></blockquote>
<p><strong>dipvector</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>3d dip-vector of the fault, see also dipvector method</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> with x, y, z coordinates of the center of the</p>
<p class="last">fault</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="heart.RectangularSource.dipvector">
<em class="property">static </em><code class="descname">dipvector</code><span class="sig-paren">(</span><em>dip</em>, <em>strike</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#RectangularSource.dipvector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.RectangularSource.dipvector" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate 3 dimensional dip-vector of a planar fault.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dip</strong> : scalar, float</p>
<blockquote>
<div><p>dip-angle [deg] of the fault</p>
</div></blockquote>
<p><strong>strike</strong> : scalar, float</p>
<blockquote>
<div><p>strike-abgle [deg] of the fault</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="heart.RectangularSource.patches">
<code class="descname">patches</code><span class="sig-paren">(</span><em>n</em>, <em>m</em>, <em>datatype</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#RectangularSource.patches"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.RectangularSource.patches" title="Permalink to this definition">¶</a></dt>
<dd><p>Cut source into n by m sub-faults and return n times m
<a class="reference internal" href="#heart.RectangularSource" title="heart.RectangularSource"><code class="xref py py-class docutils literal"><span class="pre">RectangularSource</span></code></a> Objects.
Discretization starts at shallow depth going row-wise deeper.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>n</strong> : int</p>
<blockquote>
<div><p>number of patches in length direction (strike)</p>
</div></blockquote>
<p><strong>m</strong> : int</p>
<blockquote>
<div><p>number of patches in width direction (dip)</p>
</div></blockquote>
<p><strong>datatype</strong> : string</p>
<blockquote>
<div><p>&#8216;geodetic&#8217; or &#8216;seismic&#8217; determines the source to be returned</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a class="reference internal" href="#pscmp.PsCmpRectangularSource" title="pscmp.PsCmpRectangularSource"><code class="xref py py-class docutils literal"><span class="pre">pscmp.PsCmpRectangularSource</span></code></a> or</p>
<p><a class="reference external" href="http://pyrocko.org/v0.3/gf.html#pyrocko.gf.seismosizer.RectangularSource" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.RectangularSource</span></code></a> depending on datatype</p>
<p class="last">depth is being updated from top_depth to center_depth.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="heart.RectangularSource.strikevector">
<em class="property">static </em><code class="descname">strikevector</code><span class="sig-paren">(</span><em>strike</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#RectangularSource.strikevector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.RectangularSource.strikevector" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate 3 dimensional strike-vector of a planar fault.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>strike</strong> : scalar, float</p>
<blockquote>
<div><p>strike-abgle [deg] of the fault</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="heart.RectangularSource.top_depth">
<em class="property">static </em><code class="descname">top_depth</code><span class="sig-paren">(</span><em>depth</em>, <em>width</em>, <em>dipvector</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#RectangularSource.top_depth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.RectangularSource.top_depth" title="Permalink to this definition">¶</a></dt>
<dd><p>Get top depth of the fault [m]. (Patches method needs input depth to
be top_depth.)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>depth</strong> : scalar, float</p>
<blockquote>
<div><p>depth [m] of the center of the fault</p>
</div></blockquote>
<p><strong>width</strong> : scalar, float</p>
<blockquote>
<div><p>width [m] of the fault (dip-direction)</p>
</div></blockquote>
<p><strong>dipvector</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>3d dip-vector of the fault, see also dipvector method</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> with x, y, z coordinates of the upper edge of</p>
<p class="last">the fault</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="heart.TeleseismicTarget">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">TeleseismicTarget</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#TeleseismicTarget"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.TeleseismicTarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Extension to <code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismpsizer.Target</span></code> to have
<a class="reference internal" href="#heart.Covariance" title="heart.Covariance"><code class="xref py py-class docutils literal"><span class="pre">Covariance</span></code></a> as an attribute.</p>
<dl class="attribute">
<dt id="heart.TeleseismicTarget.covariance">
<code class="descname">covariance</code><a class="headerlink" href="#heart.TeleseismicTarget.covariance" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#heart.Covariance" title="heart.Covariance"><code class="xref py py-class docutils literal"><span class="pre">heart.Covariance</span></code></a>, <em>optional</em>, <em>default:</em> <code class="docutils literal"><span class="pre">&lt;heart.Covariance</span> <span class="pre">object</span> <span class="pre">at</span> <span class="pre">0x4dd00d0&gt;</span></code>, <a class="reference internal" href="#heart.Covariance" title="heart.Covariance"><code class="xref py py-class docutils literal"><span class="pre">Covariance</span></code></a> that holds dataand model prediction covariance matrixes</p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="function">
<dt id="heart.adjust_fault_reference">
<code class="descclassname">heart.</code><code class="descname">adjust_fault_reference</code><span class="sig-paren">(</span><em>source</em>, <em>input_depth='top'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#adjust_fault_reference"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.adjust_fault_reference" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjusts source depth and east/north-shifts variables of fault according to
input_depth mode &#8216;top/center&#8217;.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>source</strong> : <a class="reference internal" href="#heart.RectangularSource" title="heart.RectangularSource"><code class="xref py py-class docutils literal"><span class="pre">RectangularSource</span></code></a> or <code class="xref py py-class docutils literal"><span class="pre">pscmp.RectangularSource</span></code> or</p>
<blockquote>
<div><p><a class="reference external" href="http://pyrocko.org/v0.3/gf.html#pyrocko.gf.seismosizer.RectangularSource" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.RectangularSource</span></code></a></p>
</div></blockquote>
<p><strong>input_depth</strong> : string</p>
<blockquote>
<div><p>if &#8216;top&#8217; the depth in the source is interpreted as top depth
if &#8216;center&#8217; the depth in the source is interpreted as center depth</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Updated input source object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.ensemble_earthmodel">
<code class="descclassname">heart.</code><code class="descname">ensemble_earthmodel</code><span class="sig-paren">(</span><em>ref_earthmod</em>, <em>num_vary=10</em>, <em>err_depth=0.1</em>, <em>err_velocities=0.1</em>, <em>depth_limit_variation=600000.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#ensemble_earthmodel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.ensemble_earthmodel" title="Permalink to this definition">¶</a></dt>
<dd><p>Create ensemble of earthmodels that vary around a given input earth model
by a Gaussian of 2 sigma (in Percent 0.1 = 10%) for the depth layers
and for the p and s wave velocities. Vp / Vs is kept unchanged</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ref_earthmod</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a></p>
<blockquote>
<div><p>Reference earthmodel defining layers, depth, velocities, densities</p>
</div></blockquote>
<p><strong>num_vary</strong> : scalar, int</p>
<blockquote>
<div><p>Number of variation realisations</p>
</div></blockquote>
<p><strong>err_depth</strong> : scalar, float</p>
<blockquote>
<div><p>2 sigma error in percent of the depth for the respective layers</p>
</div></blockquote>
<p><strong>err_velocities</strong> : scalar, float</p>
<blockquote>
<div><p>2 sigma error in percent of the velocities for the respective layers</p>
</div></blockquote>
<p><strong>depth_limit_variations</strong> : scalar, float</p>
<blockquote>
<div><p>depth threshold [m], layers with depth &gt; than this are not varied</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">List of Varied Earthmodels <a class="reference external" href="http://pyrocko.org/v0.3/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.geo_construct_gf">
<code class="descclassname">heart.</code><code class="descname">geo_construct_gf</code><span class="sig-paren">(</span><em>event</em>, <em>store_superdir</em>, <em>source_distance_min=0.0</em>, <em>source_distance_max=100.0</em>, <em>source_depth_min=0.0</em>, <em>source_depth_max=40.0</em>, <em>source_distance_spacing=5.0</em>, <em>source_depth_spacing=0.5</em>, <em>sampling_interval=1.0</em>, <em>earth_model='ak135-f-average.m'</em>, <em>crust_ind=0</em>, <em>replace_water=True</em>, <em>use_crust2=True</em>, <em>custom_velocity_model=None</em>, <em>execute=True</em>, <em>force=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#geo_construct_gf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.geo_construct_gf" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate geodetic Greens Functions (GFs) and create a repository &#8216;store&#8217;
that is being used later on repeatetly to calculate the synthetic
displacements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>event</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a></p>
<blockquote>
<div><p>The event is used as a reference point for all the calculations
According to the its location the earth model is being built</p>
</div></blockquote>
<p><strong>store_superdir</strong> : str</p>
<blockquote>
<div><p>Path to the main directory where all the GF stores are stored</p>
</div></blockquote>
<p><strong>source_distance_min</strong> : scalar, float</p>
<blockquote>
<div><p>Lower bound [km] for the source-distance grid of GFs to calculate</p>
</div></blockquote>
<p><strong>source_distance_max</strong> : scalar, float</p>
<blockquote>
<div><p>Upper bound [km] for the source-distance grid of GFs to calculate</p>
</div></blockquote>
<p><strong>source_distance_spacing</strong> : scalar, float</p>
<blockquote>
<div><p>Spacing [km] for the source-distance grid of GFs to calculate</p>
</div></blockquote>
<p><strong>source_depth_min</strong> : scalar, float</p>
<blockquote>
<div><p>Lower bound [km] for the source-depth grid of GFs to calculate</p>
</div></blockquote>
<p><strong>source_depth_max</strong> : scalar, float</p>
<blockquote>
<div><p>Upper bound [km] for the source-depth grid of GFs to calculate</p>
</div></blockquote>
<p><strong>source_depth_spacing</strong> : scalar, float</p>
<blockquote>
<div><p>Spacing [km] for the source-depth grid of GFs to calculate</p>
</div></blockquote>
<p><strong>sampling_interval</strong> : scalar, float &gt;= 1.</p>
<blockquote>
<div><p>Source-distance dependend sampling density of grid points, if == 1
linear distance sampling, if &gt; 1. exponentially decreasing sampling
with increasing distance</p>
</div></blockquote>
<p><strong>earth_model</strong> : str</p>
<blockquote>
<div><p>Name of the base earth model to be used, check
<code class="xref py py-func docutils literal"><span class="pre">pyrocko.cake.builtin_models()</span></code> for alternatives,
default ak135 with medium resolution</p>
</div></blockquote>
<p><strong>crust_ind</strong> : int</p>
<blockquote>
<div><p>Index to set to the Greens Function store</p>
</div></blockquote>
<p><strong>replace_water</strong> : boolean</p>
<blockquote>
<div><p>Flag to remove water layers from the crust2.0 profile</p>
</div></blockquote>
<p><strong>use_crust2</strong> : boolean</p>
<blockquote>
<div><p>Flag to use the crust2.0 model for the crustal earth model</p>
</div></blockquote>
<p><strong>custom_velocity_model</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a></p>
<blockquote>
<div><p>If the implemented velocity models should not be used, a custom
velocity model can be given here</p>
</div></blockquote>
<p><strong>execute</strong> : boolean</p>
<blockquote>
<div><p>Flag to execute the calculation, if False just setup tested</p>
</div></blockquote>
<p><strong>force</strong> : boolean</p>
<blockquote class="last">
<div><p>Flag to overwrite existing GF stores</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.geo_layer_synthetics">
<code class="descclassname">heart.</code><code class="descname">geo_layer_synthetics</code><span class="sig-paren">(</span><em>store_superdir</em>, <em>crust_ind</em>, <em>lons</em>, <em>lats</em>, <em>sources</em>, <em>keep_tmp=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#geo_layer_synthetics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.geo_layer_synthetics" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate synthetic displacements for a given Greens Function database
sources and observation points on the earths surface.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>store_superdir</strong> : str</p>
<blockquote>
<div><p>main path to directory containing the different Greensfunction stores</p>
</div></blockquote>
<p><strong>crust_ind</strong> : int</p>
<blockquote>
<div><p>index of Greens Function store to use</p>
</div></blockquote>
<p><strong>lons</strong> : List of floats</p>
<blockquote>
<div><p>Longitudes [decimal deg] of observation points</p>
</div></blockquote>
<p><strong>lats</strong> : List of floats</p>
<blockquote>
<div><p>Latitudes [decimal deg] of observation points</p>
</div></blockquote>
<p><strong>sources</strong> : List of <a class="reference internal" href="#pscmp.PsCmpRectangularSource" title="pscmp.PsCmpRectangularSource"><code class="xref py py-class docutils literal"><span class="pre">pscmp.PsCmpRectangularSource</span></code></a></p>
<blockquote>
<div><p>Sources i.e. faults to calculate synthetics for</p>
</div></blockquote>
<p><strong>keep_tmp</strong> : boolean</p>
<blockquote>
<div><p>Flag to keep directories (in &#8216;/tmp&#8217;) where calculated synthetics are
stored.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (n_observations; ux, uy, uz)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.get_phase_arrival_time">
<code class="descclassname">heart.</code><code class="descname">get_phase_arrival_time</code><span class="sig-paren">(</span><em>engine</em>, <em>source</em>, <em>target</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#get_phase_arrival_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.get_phase_arrival_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Get arrival time from Greens Function store for respective
<a class="reference external" href="http://pyrocko.org/v0.3/gf.html#pyrocko.gf.seismosizer.Target" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Target</span></code></a>,
<a class="reference external" href="http://pyrocko.org/v0.3/gf.html#pyrocko.gf.meta.Location" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.meta.Location</span></code></a> pair. The channel of the target
determines if S or P wave arrival time is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>engine</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/gf.html#pyrocko.gf.seismosizer.LocalEngine" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.LocalEngine</span></code></a></p>
<p><strong>source</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/gf.html#pyrocko.gf.meta.Location" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.meta.Location</span></code></a></p>
<blockquote>
<div><p>can be therefore <a class="reference external" href="http://pyrocko.org/v0.3/gf.html#pyrocko.gf.seismosizer.Source" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Source</span></code></a> or
<a class="reference external" href="http://pyrocko.org/v0.3/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a></p>
</div></blockquote>
<p><strong>target</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/gf.html#pyrocko.gf.seismosizer.Target" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Target</span></code></a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">scalar, float of the arrival time of the wave</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.get_phase_taperer">
<code class="descclassname">heart.</code><code class="descname">get_phase_taperer</code><span class="sig-paren">(</span><em>engine</em>, <em>source</em>, <em>target</em>, <em>arrival_taper</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#get_phase_taperer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.get_phase_taperer" title="Permalink to this definition">¶</a></dt>
<dd><p>Create phase taperer according to synthetic travel times from
source- target pair and taper return <a class="reference external" href="http://pyrocko.org/v0.3/trace.html#pyrocko.trace.CosTaper" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.CosTaper</span></code></a>
according to defined arrival_taper times.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>engine</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/gf.html#pyrocko.gf.seismosizer.LocalEngine" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.LocalEngine</span></code></a></p>
<p><strong>source</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/gf.html#pyrocko.gf.meta.Location" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.meta.Location</span></code></a></p>
<blockquote>
<div><p>can be therefore <a class="reference external" href="http://pyrocko.org/v0.3/gf.html#pyrocko.gf.seismosizer.Source" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Source</span></code></a> or
<a class="reference external" href="http://pyrocko.org/v0.3/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a></p>
</div></blockquote>
<p><strong>target</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/gf.html#pyrocko.gf.seismosizer.Target" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Target</span></code></a></p>
<p><strong>arrival_taper</strong> : <a class="reference internal" href="#heart.ArrivalTaper" title="heart.ArrivalTaper"><code class="xref py py-class docutils literal"><span class="pre">ArrivalTaper</span></code></a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://pyrocko.org/v0.3/trace.html#pyrocko.trace.CosTaper" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.CosTaper</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.init_targets">
<code class="descclassname">heart.</code><code class="descname">init_targets</code><span class="sig-paren">(</span><em>stations, channels=['T', 'Z'], sample_rate=1.0, crust_inds=[0], interpolation='multilinear'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#init_targets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.init_targets" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiate a list of target objects given a list of indexes to the
respective GF store velocity model variation index (crust_inds).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>stations</strong> : List of <a class="reference external" href="http://pyrocko.org/v0.3/model.html#pyrocko.model.Station" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Station</span></code></a></p>
<blockquote>
<div><p>List of station objects for which the targets are being initialised</p>
</div></blockquote>
<p><strong>channels</strong> : List of str</p>
<blockquote>
<div><p>Components of the traces to be optimized for if rotated:
T - transversal, Z - vertical, R - radial
If not rotated:
E - East, N- North, U - Up (Vertical)</p>
</div></blockquote>
<p><strong>sample_rate</strong> : scalar, float</p>
<blockquote>
<div><p>sample rate [Hz] of the Greens Functions to use</p>
</div></blockquote>
<p><strong>crust_inds</strong> : List of int</p>
<blockquote>
<div><p>Indexes of different velocity model realisations, 0 - reference model</p>
</div></blockquote>
<p><strong>interpolation</strong> : str</p>
<blockquote>
<div><p>Method of interpolation for the Greens Functions, can be &#8216;multilinear&#8217;
or &#8216;nearest_neighbor&#8217;</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">List of <a class="reference external" href="http://pyrocko.org/v0.3/gf.html#pyrocko.gf.seismosizer.Target" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Target</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.log_determinant">
<code class="descclassname">heart.</code><code class="descname">log_determinant</code><span class="sig-paren">(</span><em>A</em>, <em>inverse=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#log_determinant"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.log_determinant" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the natural logarithm of a determinant of the given matrix &#8216;
according to the properties of a triangular matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>A</strong> : n x n <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<p><strong>inverse</strong> : boolean</p>
<blockquote>
<div><p>If true calculates the log determinant of the inverse of the colesky
decomposition, which is equvalent to taking the determinant of the
inverse of the matrix.</p>
<p>L.T* L = R           inverse=False
L-1*(L-1)T = R-1     inverse=True</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">float logarithm of the determinant of the input Matrix A</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.seis_construct_gf">
<code class="descclassname">heart.</code><code class="descname">seis_construct_gf</code><span class="sig-paren">(</span><em>station</em>, <em>event</em>, <em>store_superdir</em>, <em>code='qssp'</em>, <em>source_depth_min=0.0</em>, <em>source_depth_max=10.0</em>, <em>source_depth_spacing=1.0</em>, <em>source_distance_radius=10.0</em>, <em>source_distance_spacing=1.0</em>, <em>sample_rate=2.0</em>, <em>depth_limit_variation=600</em>, <em>earth_model='ak135-f-average.m'</em>, <em>crust_ind=0</em>, <em>execute=False</em>, <em>rm_gfs=True</em>, <em>nworkers=1</em>, <em>use_crust2=True</em>, <em>replace_water=True</em>, <em>custom_velocity_model=None</em>, <em>force=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#seis_construct_gf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.seis_construct_gf" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate seismic Greens Functions (GFs) and create a repository &#8216;store&#8217;
that is being used later on repeatetly to calculate the synthetic
waveforms.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>station</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/model.html#pyrocko.model.Station" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Station</span></code></a></p>
<blockquote>
<div><p>Station object that defines the distance from the event for which the
GFs are being calculated</p>
</div></blockquote>
<p><strong>event</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a></p>
<blockquote>
<div><p>The event is used as a reference point for all the calculations
According to the its location the earth model is being built</p>
</div></blockquote>
<p><strong>store_superdir</strong> : str</p>
<blockquote>
<div><p>Path to the main directory where all the GF stores are stored</p>
</div></blockquote>
<p><strong>code</strong> : str</p>
<blockquote>
<div><p>Modeling code to use for the calculation of waveforms.
implemented so far: <cite>qseis</cite>, <cite>qssp</cite>, coming soon <cite>qseis2d</cite>
QSSP does calculations on a circle thus it is recommended to use it for
teleseismic distances. QSEIS does calculations on a cylinder and is
more accurate for near-field seismic waveforms, QSEIS2d is a
significantly, computationally more efficient version of QSEIS, outputs
are almost identical</p>
</div></blockquote>
<p><strong>source_distance_min</strong> : scalar, float</p>
<blockquote>
<div><p>Lower bound [km] for the source-distance grid of GFs to calculate</p>
</div></blockquote>
<p><strong>source_distance_max</strong> : scalar, float</p>
<blockquote>
<div><p>Upper bound [km] for the source-distance grid of GFs to calculate</p>
</div></blockquote>
<p><strong>source_distance_spacing</strong> : scalar, float</p>
<blockquote>
<div><p>Spacing [km] for the source-distance grid of GFs to calculate</p>
</div></blockquote>
<p><strong>source_depth_min</strong> : scalar, float</p>
<blockquote>
<div><p>Lower bound [km] for the source-depth grid of GFs to calculate</p>
</div></blockquote>
<p><strong>source_depth_max</strong> : scalar, float</p>
<blockquote>
<div><p>Upper bound [km] for the source-depth grid of GFs to calculate</p>
</div></blockquote>
<p><strong>source_depth_spacing</strong> : scalar, float</p>
<blockquote>
<div><p>Spacing [km] for the source-depth grid of GFs to calculate</p>
</div></blockquote>
<p><strong>sample_rate</strong> : scalar, float</p>
<blockquote>
<div><p>Temporal sampling rate [Hz] of seismic waveforms</p>
</div></blockquote>
<p><strong>crust_ind</strong> : int</p>
<blockquote>
<div><p>Index to set to the Greens Function store, 0 is reference store
indexes &gt; 0 use reference model and vary its parameters by a Gaussian</p>
</div></blockquote>
<p><strong>depth_limit_variation</strong> : scalar, float</p>
<blockquote>
<div><p>depth threshold [m], layers with depth &gt; than this limit are not varied</p>
</div></blockquote>
<p><strong>earth_model</strong> : str</p>
<blockquote>
<div><p>Name of the base earth model to be used, check
<code class="xref py py-func docutils literal"><span class="pre">pyrocko.cake.builtin_models()</span></code> for alternatives,
default ak135 with medium resolution</p>
</div></blockquote>
<p><strong>nworkers</strong> : int</p>
<blockquote>
<div><p>Number of processors to use for computations</p>
</div></blockquote>
<p><strong>rm_gfs</strong> : boolean</p>
<blockquote>
<div><p>Valid if qssp or qseis2d are being used, remove the intermediate
files after finishing the computation</p>
</div></blockquote>
<p><strong>replace_water</strong> : boolean</p>
<blockquote>
<div><p>Flag to remove water layers from the crust2.0 profile</p>
</div></blockquote>
<p><strong>use_crust2</strong> : boolean</p>
<blockquote>
<div><p>Flag to use the crust2.0 model for the crustal earth model</p>
</div></blockquote>
<p><strong>custom_velocity_model</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a></p>
<blockquote>
<div><p>If the implemented velocity models should not be used, a custom
velocity model can be given here</p>
</div></blockquote>
<p><strong>execute</strong> : boolean</p>
<blockquote>
<div><p>Flag to execute the calculation, if False just setup tested</p>
</div></blockquote>
<p><strong>force</strong> : boolean</p>
<blockquote class="last">
<div><p>Flag to overwrite existing GF stores</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.seis_synthetics">
<code class="descclassname">heart.</code><code class="descname">seis_synthetics</code><span class="sig-paren">(</span><em>engine</em>, <em>sources</em>, <em>targets</em>, <em>arrival_taper=None</em>, <em>filterer=None</em>, <em>reference_taperer=None</em>, <em>plot=False</em>, <em>nprocs=1</em>, <em>outmode='array'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#seis_synthetics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.seis_synthetics" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate synthetic seismograms of combination of targets and sources,
filtering and tapering afterwards (filterer)
tapering according to arrival_taper around P -or S wave.
If reference_taper the given taper is always used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>engine</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/gf.html#pyrocko.gf.seismosizer.LocalEngine" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.LocalEngine</span></code></a></p>
<p><strong>sources</strong> : List</p>
<blockquote>
<div><p>containing <a class="reference external" href="http://pyrocko.org/v0.3/gf.html#pyrocko.gf.seismosizer.Source" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Source</span></code></a> Objects</p>
</div></blockquote>
<p><strong>targets</strong> : List</p>
<blockquote>
<div><p>containing <a class="reference external" href="http://pyrocko.org/v0.3/gf.html#pyrocko.gf.seismosizer.Target" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Target</span></code></a> Objects</p>
</div></blockquote>
<p><strong>arrival_taper</strong> : <a class="reference internal" href="#heart.ArrivalTaper" title="heart.ArrivalTaper"><code class="xref py py-class docutils literal"><span class="pre">ArrivalTaper</span></code></a></p>
<p><strong>filterer</strong> : <code class="xref py py-class docutils literal"><span class="pre">Filterer</span></code></p>
<p><strong>reference_taperer</strong> : <a class="reference internal" href="#heart.ArrivalTaper" title="heart.ArrivalTaper"><code class="xref py py-class docutils literal"><span class="pre">ArrivalTaper</span></code></a></p>
<blockquote>
<div><p>if set all the traces are tapered with the specifications of this Taper</p>
</div></blockquote>
<p><strong>plot</strong> : boolean</p>
<blockquote>
<div><p>flag for looking at traces</p>
</div></blockquote>
<p><strong>nprocs</strong> : int</p>
<blockquote>
<div><p>number of processors to use for synthetics calculation</p>
</div></blockquote>
<p><strong>outmode</strong> : string</p>
<blockquote>
<div><p>output format of synthetics can be &#8216;array&#8217;, &#8216;traces&#8217;,
&#8216;data&#8217; returns traces unstacked including post-processing</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> or List of <a class="reference external" href="http://pyrocko.org/v0.3/trace.html#pyrocko.trace.Trace" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.Trace</span></code></a></p>
<blockquote class="last">
<div><p>with data each row-one target</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.taper_filter_traces">
<code class="descclassname">heart.</code><code class="descname">taper_filter_traces</code><span class="sig-paren">(</span><em>data_traces</em>, <em>arrival_taper</em>, <em>filterer</em>, <em>tmins</em>, <em>plot=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#taper_filter_traces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.taper_filter_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Taper and filter data_traces according to given taper and filterers.
Tapering will start at the given tmin.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data_traces</strong> : List</p>
<blockquote>
<div><p>containing <a class="reference external" href="http://pyrocko.org/v0.3/trace.html#pyrocko.trace.Trace" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.Trace</span></code></a> objects</p>
</div></blockquote>
<p><strong>arrival_taper</strong> : <a class="reference internal" href="#heart.ArrivalTaper" title="heart.ArrivalTaper"><code class="xref py py-class docutils literal"><span class="pre">ArrivalTaper</span></code></a></p>
<p><strong>filterer</strong> : <code class="xref py py-class docutils literal"><span class="pre">Filterer</span></code></p>
<p><strong>tmins</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>Array containing the start times [s] since 1st.January 1970 to start
tapering</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote class="last">
<div><p>with tapered and filtered data traces, rows different traces,
columns temporal values</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.vary_model">
<code class="descclassname">heart.</code><code class="descname">vary_model</code><span class="sig-paren">(</span><em>earthmod</em>, <em>err_depth=0.1</em>, <em>err_velocities=0.1</em>, <em>depth_limit_variation=600000.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#vary_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.vary_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Vary depths and velocities in the given source model by Gaussians with
given 2-sigma errors [percent]. Ensures increasing velocity with depth.
Stops variating the input model at the given depth_limit_variation [m].
Mantle discontinuity uncertainties are hardcoded based on
Mooney et al. 1981 and Woodward et al.1991</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>earthmod</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a></p>
<blockquote>
<div><p>Earthmodel defining layers, depth, velocities, densities</p>
</div></blockquote>
<p><strong>err_depth</strong> : scalar, float</p>
<blockquote>
<div><p>2 sigma error in percent of the depth for the respective layers</p>
</div></blockquote>
<p><strong>err_velocities</strong> : scalar, float</p>
<blockquote>
<div><p>2 sigma error in percent of the velocities for the respective layers</p>
</div></blockquote>
<p><strong>depth_limit_variations</strong> : scalar, float</p>
<blockquote>
<div><p>depth threshold [m], layers with depth &gt; than this are not varied</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>Varied Earthmodel</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a></p>
<p><strong>Cost</strong> : int</p>
<blockquote class="last">
<div><p>Counts repetitions of cycles to ensure increasing layer velocity,
unlikely velocities have high Cost
Cost of up to 20 are ok for crustal profiles.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-config">
<span id="the-config-module"></span><h2>The <a class="reference internal" href="#module-config" title="config"><code class="xref py py-mod docutils literal"><span class="pre">config</span></code></a> Module<a class="headerlink" href="#module-config" title="Permalink to this headline">¶</a></h2>
<p>The config module contains the classes to build the configuration files that
are being read by the beat executable.</p>
<p>So far there are configuration files for the three main optimization problems
implemented. Solving the fault geometry, the static distributed slip and the
kinematic distributed slip.</p>
<dl class="class">
<dt id="config.ATMCMCConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">ATMCMCConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#ATMCMCConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.ATMCMCConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Config for optimization parameters of the ATMCMC algorithm.</p>
<dl class="attribute">
<dt id="config.ATMCMCConfig.n_chains">
<code class="descname">n_chains</code><a class="headerlink" href="#config.ATMCMCConfig.n_chains" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1000</span></code>, Number of Metropolis chains for sampling.</p>
</dd></dl>

<dl class="attribute">
<dt id="config.ATMCMCConfig.n_steps">
<code class="descname">n_steps</code><a class="headerlink" href="#config.ATMCMCConfig.n_steps" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">100</span></code>, Number of steps for each chain per stage.</p>
</dd></dl>

<dl class="attribute">
<dt id="config.ATMCMCConfig.n_jobs">
<code class="descname">n_jobs</code><a class="headerlink" href="#config.ATMCMCConfig.n_jobs" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1</span></code>, Number of processors to use, i.e. chains to sample in parallel.</p>
</dd></dl>

<dl class="attribute">
<dt id="config.ATMCMCConfig.tune_interval">
<code class="descname">tune_interval</code><a class="headerlink" href="#config.ATMCMCConfig.tune_interval" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">10</span></code>, Tune interval for adaptive tuning of Metropolis step size.</p>
</dd></dl>

<dl class="attribute">
<dt id="config.ATMCMCConfig.coef_variation">
<code class="descname">coef_variation</code><a class="headerlink" href="#config.ATMCMCConfig.coef_variation" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1.0</span></code>, Coefficient of variation, determines the similarity of theintermediate stage pdfs;low - small beta steps (slow cooling),high - wide beta steps (fast cooling)</p>
</dd></dl>

<dl class="attribute">
<dt id="config.ATMCMCConfig.stage">
<code class="descname">stage</code><a class="headerlink" href="#config.ATMCMCConfig.stage" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'0'</span></code>, Stage where to start/continue the sampling. Has to be int or &#8220;final&#8221;</p>
</dd></dl>

<dl class="attribute">
<dt id="config.ATMCMCConfig.proposal_dist">
<code class="descname">proposal_dist</code><a class="headerlink" href="#config.ATMCMCConfig.proposal_dist" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'MvNPd'</span></code>, Multivariate Normal Proposal distribution, for Metropolis stepsalternatives need to be implemented</p>
</dd></dl>

<dl class="attribute">
<dt id="config.ATMCMCConfig.check_bnd">
<code class="descname">check_bnd</code><a class="headerlink" href="#config.ATMCMCConfig.check_bnd" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">bool</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">True</span></code>, Flag for checking whether proposed step lies within variable bounds.</p>
</dd></dl>

<dl class="attribute">
<dt id="config.ATMCMCConfig.update_covariances">
<code class="descname">update_covariances</code><a class="headerlink" href="#config.ATMCMCConfig.update_covariances" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">bool</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">False</span></code>, Update model prediction covariance matrixes in transition stages.</p>
</dd></dl>

<dl class="attribute">
<dt id="config.ATMCMCConfig.rm_flag">
<code class="descname">rm_flag</code><a class="headerlink" href="#config.ATMCMCConfig.rm_flag" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">bool</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">False</span></code>, Remove existing stage results prior to sampling.</p>
</dd></dl>

<dl class="attribute">
<dt id="config.ATMCMCConfig.plot_flag">
<code class="descname">plot_flag</code><a class="headerlink" href="#config.ATMCMCConfig.plot_flag" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">bool</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">True</span></code>, Plot stage posteriors after sampling ofeach stage</p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="config.BEATconfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">BEATconfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#BEATconfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.BEATconfig" title="Permalink to this definition">¶</a></dt>
<dd><p>BEATconfig is the overarching configuration class, providing all the
sub-configurations classes for the problem setup, Greens Function
generation, optimization algorithm and the data being used.</p>
<dl class="attribute">
<dt id="config.BEATconfig.name">
<code class="descname">name</code><a class="headerlink" href="#config.BEATconfig.name" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="config.BEATconfig.date">
<code class="descname">date</code><a class="headerlink" href="#config.BEATconfig.date" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="config.BEATconfig.event">
<code class="descname">event</code><a class="headerlink" href="#config.BEATconfig.event" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://pyrocko.org/v0.3/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a>, <em>optional</em></p>
</dd></dl>

<dl class="attribute">
<dt id="config.BEATconfig.project_dir">
<code class="descname">project_dir</code><a class="headerlink" href="#config.BEATconfig.project_dir" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'event/'</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="config.BEATconfig.problem_config">
<code class="descname">problem_config</code><a class="headerlink" href="#config.BEATconfig.problem_config" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#config.ProblemConfig" title="config.ProblemConfig"><code class="xref py py-class docutils literal"><span class="pre">config.ProblemConfig</span></code></a>, <em>default:</em> <code class="docutils literal"><span class="pre">&lt;config.ProblemConfig</span> <span class="pre">object</span> <span class="pre">at</span> <span class="pre">0x5dbd4d0&gt;</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="config.BEATconfig.geodetic_config">
<code class="descname">geodetic_config</code><a class="headerlink" href="#config.BEATconfig.geodetic_config" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#config.GeodeticConfig" title="config.GeodeticConfig"><code class="xref py py-class docutils literal"><span class="pre">config.GeodeticConfig</span></code></a>, <em>optional</em></p>
</dd></dl>

<dl class="attribute">
<dt id="config.BEATconfig.seismic_config">
<code class="descname">seismic_config</code><a class="headerlink" href="#config.BEATconfig.seismic_config" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#config.SeismicConfig" title="config.SeismicConfig"><code class="xref py py-class docutils literal"><span class="pre">config.SeismicConfig</span></code></a>, <em>optional</em></p>
</dd></dl>

<dl class="attribute">
<dt id="config.BEATconfig.sampler_config">
<code class="descname">sampler_config</code><a class="headerlink" href="#config.BEATconfig.sampler_config" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#config.SamplerConfig" title="config.SamplerConfig"><code class="xref py py-class docutils literal"><span class="pre">config.SamplerConfig</span></code></a>, <em>default:</em> <code class="docutils literal"><span class="pre">&lt;config.SamplerConfig</span> <span class="pre">object</span> <span class="pre">at</span> <span class="pre">0x5dbd4d0&gt;</span></code></p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="config.BEATconfig.update_hypers">
<code class="descname">update_hypers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#BEATconfig.update_hypers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.BEATconfig.update_hypers" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the whole config and initialise necessary hyperparameters.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="config.GFConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">GFConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#GFConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.GFConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Config for GreensFunction calculation parameters.</p>
<dl class="attribute">
<dt id="config.GFConfig.store_superdir">
<code class="descname">store_superdir</code><a class="headerlink" href="#config.GFConfig.store_superdir" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'./'</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="config.GFConfig.earth_model">
<code class="descname">earth_model</code><a class="headerlink" href="#config.GFConfig.earth_model" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'ak135-f-average.m'</span></code>, Name of the reference earthmodel, see pyrocko.cake.builtin_models() for alternatives.</p>
</dd></dl>

<dl class="attribute">
<dt id="config.GFConfig.n_variations">
<code class="descname">n_variations</code><a class="headerlink" href="#config.GFConfig.n_variations" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0</span></code>, Times to vary input velocity model.</p>
</dd></dl>

<dl class="attribute">
<dt id="config.GFConfig.use_crust2">
<code class="descname">use_crust2</code><a class="headerlink" href="#config.GFConfig.use_crust2" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">bool</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">True</span></code>, Flag, for replacing the crust from the earthmodelwith crust from the crust2 model.</p>
</dd></dl>

<dl class="attribute">
<dt id="config.GFConfig.replace_water">
<code class="descname">replace_water</code><a class="headerlink" href="#config.GFConfig.replace_water" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">bool</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">True</span></code>, Flag, for replacing water layers in the crust2model.</p>
</dd></dl>

<dl class="attribute">
<dt id="config.GFConfig.custom_velocity_model">
<code class="descname">custom_velocity_model</code><a class="headerlink" href="#config.GFConfig.custom_velocity_model" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://pyrocko.org/v0.3/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a>, <em>optional</em>, Custom Earthmodel, in case crust2 and standard model not wanted. Needs to be a :py::class:cake.LayeredModel</p>
</dd></dl>

<dl class="attribute">
<dt id="config.GFConfig.source_depth_min">
<code class="descname">source_depth_min</code><a class="headerlink" href="#config.GFConfig.source_depth_min" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.0</span></code>, Minimum depth [km] for GF function grid.</p>
</dd></dl>

<dl class="attribute">
<dt id="config.GFConfig.source_depth_max">
<code class="descname">source_depth_max</code><a class="headerlink" href="#config.GFConfig.source_depth_max" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">10.0</span></code>, Maximum depth [km] for GF function grid.</p>
</dd></dl>

<dl class="attribute">
<dt id="config.GFConfig.source_depth_spacing">
<code class="descname">source_depth_spacing</code><a class="headerlink" href="#config.GFConfig.source_depth_spacing" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1.0</span></code>, Depth spacing [km] for GF function grid.</p>
</dd></dl>

<dl class="attribute">
<dt id="config.GFConfig.nworkers">
<code class="descname">nworkers</code><a class="headerlink" href="#config.GFConfig.nworkers" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1</span></code>, Number of processors to use for calculating the GFs</p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="config.GeodeticConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">GeodeticConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#GeodeticConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.GeodeticConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Config for geodetic data optimization related parameters.</p>
<dl class="attribute">
<dt id="config.GeodeticConfig.datadir">
<code class="descname">datadir</code><a class="headerlink" href="#config.GeodeticConfig.datadir" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'./'</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="config.GeodeticConfig.tracks">
<code class="descname">tracks</code><a class="headerlink" href="#config.GeodeticConfig.tracks" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">list</span></code> of <code class="docutils literal"><span class="pre">str</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">['Data</span> <span class="pre">prefix</span> <span class="pre">filenames</span> <span class="pre">here</span> <span class="pre">...']</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="config.GeodeticConfig.types">
<code class="descname">types</code><a class="headerlink" href="#config.GeodeticConfig.types" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">list</span></code> of <code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts.Any</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">['SAR']</span></code>, Types of geodetic data, i.e. SAR, GPS, ...</p>
</dd></dl>

<dl class="attribute">
<dt id="config.GeodeticConfig.gf_config">
<code class="descname">gf_config</code><a class="headerlink" href="#config.GeodeticConfig.gf_config" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#config.GeodeticGFConfig" title="config.GeodeticGFConfig"><code class="xref py py-class docutils literal"><span class="pre">config.GeodeticGFConfig</span></code></a>, <em>default:</em> <code class="docutils literal"><span class="pre">&lt;config.GeodeticGFConfig</span> <span class="pre">object</span> <span class="pre">at</span> <span class="pre">0x5dbb610&gt;</span></code></p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="config.GeodeticGFConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">GeodeticGFConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#GeodeticGFConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.GeodeticGFConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Geodetic GF parameters for Layered Halfspace.</p>
<dl class="attribute">
<dt id="config.GeodeticGFConfig.code">
<code class="descname">code</code><a class="headerlink" href="#config.GeodeticGFConfig.code" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'psgrn'</span></code>, Modeling code to use. (psgrn, ... others need to beimplemented!)</p>
</dd></dl>

<dl class="attribute">
<dt id="config.GeodeticGFConfig.sampling_interval">
<code class="descname">sampling_interval</code><a class="headerlink" href="#config.GeodeticGFConfig.sampling_interval" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1.0</span></code>, Distance dependend sampling spacing coefficient.1. - equidistant</p>
</dd></dl>

<dl class="attribute">
<dt id="config.GeodeticGFConfig.source_distance_min">
<code class="descname">source_distance_min</code><a class="headerlink" href="#config.GeodeticGFConfig.source_distance_min" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.0</span></code>, Minimum distance [km] for GF function grid.</p>
</dd></dl>

<dl class="attribute">
<dt id="config.GeodeticGFConfig.source_distance_max">
<code class="descname">source_distance_max</code><a class="headerlink" href="#config.GeodeticGFConfig.source_distance_max" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">100.0</span></code>, Maximum distance [km] for GF function grid.</p>
</dd></dl>

<dl class="attribute">
<dt id="config.GeodeticGFConfig.source_distance_spacing">
<code class="descname">source_distance_spacing</code><a class="headerlink" href="#config.GeodeticGFConfig.source_distance_spacing" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1.0</span></code>, Distance spacing [km] for GF function grid.</p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="config.MetropolisConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">MetropolisConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#MetropolisConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.MetropolisConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Config for optimization parameters of the Adaptive Metropolis algorithm.</p>
<dl class="attribute">
<dt id="config.MetropolisConfig.n_steps">
<code class="descname">n_steps</code><a class="headerlink" href="#config.MetropolisConfig.n_steps" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">10000</span></code>, Number of steps for the MC chain.</p>
</dd></dl>

<dl class="attribute">
<dt id="config.MetropolisConfig.tune_interval">
<code class="descname">tune_interval</code><a class="headerlink" href="#config.MetropolisConfig.tune_interval" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">10</span></code>, Tune interval for adaptive tuning of Metropolis step size.</p>
</dd></dl>

<dl class="attribute">
<dt id="config.MetropolisConfig.proposal_dist">
<code class="descname">proposal_dist</code><a class="headerlink" href="#config.MetropolisConfig.proposal_dist" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'Normal'</span></code>, Normal Proposal distribution, for Metropolis stepsalternatives: Cauchy, Laplace, Poisson, MultivariateNormal</p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="config.ProblemConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">ProblemConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#ProblemConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.ProblemConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Config for inversion problem to setup.</p>
<dl class="attribute">
<dt id="config.ProblemConfig.mode">
<code class="descname">mode</code><a class="headerlink" href="#config.ProblemConfig.mode" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'geometry'</span></code>, Problem to solve: &#8220;geometry&#8221;, &#8220;static&#8221;,&#8221;kinematic&#8221;</p>
</dd></dl>

<dl class="attribute">
<dt id="config.ProblemConfig.n_faults">
<code class="descname">n_faults</code><a class="headerlink" href="#config.ProblemConfig.n_faults" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1</span></code>, Number of Sub-faults to solve for</p>
</dd></dl>

<dl class="attribute">
<dt id="config.ProblemConfig.datasets">
<code class="descname">datasets</code><a class="headerlink" href="#config.ProblemConfig.datasets" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">list</span></code> of <code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts.Any</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">['geodetic']</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="config.ProblemConfig.hyperparameters">
<code class="descname">hyperparameters</code><a class="headerlink" href="#config.ProblemConfig.hyperparameters" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">dict</span></code> of <code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts.Any</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">{}</span></code>, Hyperparameters to weight different types of datasets.</p>
</dd></dl>

<dl class="attribute">
<dt id="config.ProblemConfig.priors">
<code class="descname">priors</code><a class="headerlink" href="#config.ProblemConfig.priors" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">list</span></code> of <code class="xref py py-class docutils literal"><span class="pre">beat.heart.Parameter</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">[]</span></code></p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="config.ProblemConfig.validate_hypers">
<code class="descname">validate_hypers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#ProblemConfig.validate_hypers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.ProblemConfig.validate_hypers" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if hyperparameters and their test values do not contradict!</p>
</dd></dl>

<dl class="method">
<dt id="config.ProblemConfig.validate_priors">
<code class="descname">validate_priors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#ProblemConfig.validate_priors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.ProblemConfig.validate_priors" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if priors and their test values do not contradict!</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="config.SamplerConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">SamplerConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#SamplerConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.SamplerConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Config for the sampler specific parameters.</p>
<dl class="attribute">
<dt id="config.SamplerConfig.name">
<code class="descname">name</code><a class="headerlink" href="#config.SamplerConfig.name" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'ATMCMC'</span></code>, Sampler to use for sampling the solution space.Metropolis/ ATMCMC coming soon: ADVI</p>
</dd></dl>

<dl class="attribute">
<dt id="config.SamplerConfig.parameters">
<code class="descname">parameters</code><a class="headerlink" href="#config.SamplerConfig.parameters" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#config.SamplerParameters" title="config.SamplerParameters"><code class="xref py py-class docutils literal"><span class="pre">config.SamplerParameters</span></code></a>, <em>optional</em>, <em>default:</em> <code class="docutils literal"><span class="pre">&lt;config.ATMCMCConfig</span> <span class="pre">object</span> <span class="pre">at</span> <span class="pre">0x5dbd090&gt;</span></code>, Sampler dependend Parameters</p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="config.SamplerParameters">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">SamplerParameters</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#SamplerParameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.SamplerParameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="config.SeismicConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">SeismicConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#SeismicConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.SeismicConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Config for seismic data optimization related parameters.</p>
<dl class="attribute">
<dt id="config.SeismicConfig.datadir">
<code class="descname">datadir</code><a class="headerlink" href="#config.SeismicConfig.datadir" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'./'</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="config.SeismicConfig.blacklist">
<code class="descname">blacklist</code><a class="headerlink" href="#config.SeismicConfig.blacklist" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">list</span></code> of <code class="docutils literal"><span class="pre">str</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">['placeholder']</span></code>, Station name for station to be thrown out.</p>
</dd></dl>

<dl class="attribute">
<dt id="config.SeismicConfig.distances">
<code class="descname">distances</code><a class="headerlink" href="#config.SeismicConfig.distances" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">tuple</span></code> of 2 <code class="docutils literal"><span class="pre">float</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">(30.0,</span> <span class="pre">90.0)</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="config.SeismicConfig.channels">
<code class="descname">channels</code><a class="headerlink" href="#config.SeismicConfig.channels" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">list</span></code> of <code class="docutils literal"><span class="pre">str</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">['Z',</span> <span class="pre">'T']</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="config.SeismicConfig.calc_data_cov">
<code class="descname">calc_data_cov</code><a class="headerlink" href="#config.SeismicConfig.calc_data_cov" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">bool</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">True</span></code>, Flag for calculating the data covariance matrix based on the pre P arrival data trace noise.</p>
</dd></dl>

<dl class="attribute">
<dt id="config.SeismicConfig.arrival_taper">
<code class="descname">arrival_taper</code><a class="headerlink" href="#config.SeismicConfig.arrival_taper" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://pyrocko.org/v0.3/trace.html#pyrocko.trace.Taper" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.Taper</span></code></a>, <em>default:</em> <code class="docutils literal"><span class="pre">&lt;beat.heart.ArrivalTaper</span> <span class="pre">object</span> <span class="pre">at</span> <span class="pre">0x5dbb450&gt;</span></code>, Taper a,b/c,d time [s] before/after wave arrival</p>
</dd></dl>

<dl class="attribute">
<dt id="config.SeismicConfig.filterer">
<code class="descname">filterer</code><a class="headerlink" href="#config.SeismicConfig.filterer" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="xref py py-class docutils literal"><span class="pre">beat.heart.Filter</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">&lt;beat.heart.Filter</span> <span class="pre">object</span> <span class="pre">at</span> <span class="pre">0x5dbb410&gt;</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="config.SeismicConfig.targets">
<code class="descname">targets</code><a class="headerlink" href="#config.SeismicConfig.targets" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">list</span></code> of <code class="xref py py-class docutils literal"><span class="pre">beat.heart.TeleseismicTarget</span></code> objects, <em>optional</em></p>
</dd></dl>

<dl class="attribute">
<dt id="config.SeismicConfig.gf_config">
<code class="descname">gf_config</code><a class="headerlink" href="#config.SeismicConfig.gf_config" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#config.SeismicGFConfig" title="config.SeismicGFConfig"><code class="xref py py-class docutils literal"><span class="pre">config.SeismicGFConfig</span></code></a>, <em>default:</em> <code class="docutils literal"><span class="pre">&lt;config.SeismicGFConfig</span> <span class="pre">object</span> <span class="pre">at</span> <span class="pre">0x5dbb410&gt;</span></code></p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="config.SeismicGFConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">SeismicGFConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#SeismicGFConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.SeismicGFConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Seismic GF parameters for Layered Halfspace.</p>
<dl class="attribute">
<dt id="config.SeismicGFConfig.code">
<code class="descname">code</code><a class="headerlink" href="#config.SeismicGFConfig.code" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'qssp'</span></code>, Modeling code to use. (qssp, qseis, comming soon: qseis2d)</p>
</dd></dl>

<dl class="attribute">
<dt id="config.SeismicGFConfig.sample_rate">
<code class="descname">sample_rate</code><a class="headerlink" href="#config.SeismicGFConfig.sample_rate" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">2.0</span></code>, Sample rate for the Greens Functions.</p>
</dd></dl>

<dl class="attribute">
<dt id="config.SeismicGFConfig.depth_limit_variation">
<code class="descname">depth_limit_variation</code><a class="headerlink" href="#config.SeismicGFConfig.depth_limit_variation" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">600.0</span></code>, Depth limit [km] for varying the velocity model.</p>
</dd></dl>

<dl class="attribute">
<dt id="config.SeismicGFConfig.rm_gfs">
<code class="descname">rm_gfs</code><a class="headerlink" href="#config.SeismicGFConfig.rm_gfs" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">bool</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">True</span></code>, Flag for removing modeling module GF files after completion.</p>
</dd></dl>

<dl class="attribute">
<dt id="config.SeismicGFConfig.source_distance_radius">
<code class="descname">source_distance_radius</code><a class="headerlink" href="#config.SeismicGFConfig.source_distance_radius" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">20.0</span></code>, Radius of distance grid [km] for GF function grid around reference event.</p>
</dd></dl>

<dl class="attribute">
<dt id="config.SeismicGFConfig.source_distance_spacing">
<code class="descname">source_distance_spacing</code><a class="headerlink" href="#config.SeismicGFConfig.source_distance_spacing" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1.0</span></code>, Distance spacing [km] for GF function grid.</p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="function">
<dt id="config.init_config">
<code class="descclassname">config.</code><code class="descname">init_config</code><span class="sig-paren">(</span><em>name, date, min_magnitude=6.0, main_path='./', datasets=['geodetic'], mode='geometry', n_faults=1, sampler='ATMCMC', use_custom=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#init_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.init_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise BEATconfig File and write it main_path/name .
Fine parameters have to be edited in the config file .yaml manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>name</strong> : str</p>
<blockquote>
<div><p>Name of the event</p>
</div></blockquote>
<p><strong>date</strong> : str</p>
<blockquote>
<div><p>&#8216;YYYY-MM-DD&#8217;, date of the event</p>
</div></blockquote>
<p><strong>min_magnitude</strong> : scalar, float</p>
<blockquote>
<div><p>approximate minimum Mw of the event</p>
</div></blockquote>
<p><strong>datasets</strong> : List of strings</p>
<blockquote>
<div><p>data sets to include in the optimization: either &#8216;geodetic&#8217; and/or
&#8216;seismic&#8217;</p>
</div></blockquote>
<p><strong>mode</strong> : str</p>
<blockquote>
<div><p>type of optimization problem: &#8216;Geometry&#8217; / &#8216;Static&#8217;/ &#8216;Kinematic&#8217;</p>
</div></blockquote>
<p><strong>n_faults</strong> : int</p>
<blockquote>
<div><p>number of faults to solve for / discretize depending on mode parameter</p>
</div></blockquote>
<p><strong>sampler</strong> : str</p>
<blockquote>
<div><p>Optimization algorithm to use to sample the solution space
Options: &#8216;ATMCMC&#8217;, &#8216;Metropolis&#8217;</p>
</div></blockquote>
<p><strong>use_custom</strong> : boolean</p>
<blockquote>
<div><p>Flag to setup manually a custom velocity model.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#config.BEATconfig" title="config.BEATconfig"><code class="xref py py-class docutils literal"><span class="pre">BEATconfig</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="config.load_config">
<code class="descclassname">config.</code><code class="descname">load_config</code><span class="sig-paren">(</span><em>project_dir</em>, <em>mode</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#load_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.load_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Load configuration file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>project_dir</strong> : str</p>
<blockquote>
<div><p>path to the directory of the configuration file</p>
</div></blockquote>
<p><strong>mode</strong> : str</p>
<blockquote>
<div><p>type of optimization problem: &#8216;Geometry&#8217; / &#8216;Static&#8217;/ &#8216;Kinematic&#8217;</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#config.BEATconfig" title="config.BEATconfig"><code class="xref py py-class docutils literal"><span class="pre">BEATconfig</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-atmcmc">
<span id="the-atmcmc-module"></span><h2>The <a class="reference internal" href="#module-atmcmc" title="atmcmc"><code class="xref py py-mod docutils literal"><span class="pre">atmcmc</span></code></a> Module<a class="headerlink" href="#module-atmcmc" title="Permalink to this headline">¶</a></h2>
<p>Adaptive Transitional Marcov Chain Monte Carlo sampler module.</p>
<p>Runs on any pymc3 model.</p>
<p>Created on March, 2016</p>
<p>Various significant updates July, August 2016</p>
<p>&#64;author: Hannes Vasyura-Bathke</p>
<dl class="class">
<dt id="atmcmc.ATMCMC">
<em class="property">class </em><code class="descclassname">atmcmc.</code><code class="descname">ATMCMC</code><span class="sig-paren">(</span><em>vars=None</em>, <em>out_vars=None</em>, <em>covariance=None</em>, <em>scaling=1.0</em>, <em>n_chains=100</em>, <em>tune=True</em>, <em>tune_interval=100</em>, <em>model=None</em>, <em>check_bound=True</em>, <em>likelihood_name='like'</em>, <em>proposal_dist=&lt;class 'pymc3.step_methods.metropolis.MultivariateNormalProposal'&gt;</em>, <em>coef_variation=1.0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/atmcmc.html#ATMCMC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#atmcmc.ATMCMC" title="Permalink to this definition">¶</a></dt>
<dd><p>Adaptive Transitional Markov-Chain Monte-Carlo sampler class.</p>
<p>Creates initial samples and framework around the (C)ATMIP parameters</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>vars</strong> : list</p>
<blockquote>
<div><p>List of variables for sampler</p>
</div></blockquote>
<p><strong>out_vars</strong> : list</p>
<blockquote>
<div><p>List of output variables for trace recording. If empty unobserved_RVs
are taken.</p>
</div></blockquote>
<p><strong>n_chains</strong> : int</p>
<blockquote>
<div><p>Number of chains per stage has to be a large number
of number of n_jobs (processors to be used) on the machine.</p>
</div></blockquote>
<p><strong>scaling</strong> : float</p>
<blockquote>
<div><p>Factor applied to the proposal distribution i.e. the step size of the
Markov Chain</p>
</div></blockquote>
<p><strong>covariance</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>(n_chains x n_chains)
Initial Covariance matrix for proposal distribution,
if None - identity matrix taken</p>
</div></blockquote>
<p><strong>likelihood_name</strong> : string</p>
<blockquote>
<div><p>name of the <code class="xref py py-class docutils literal"><span class="pre">pymc3.determinsitic</span></code> variable that contains the
model likelihood - defaults to &#8216;like&#8217;</p>
</div></blockquote>
<p><strong>proposal_dist :</strong></p>
<blockquote>
<div><p><code class="xref py py-class docutils literal"><span class="pre">pymc3.metropolis.Proposal</span></code>
Type of proposal distribution, see
<a href="#id1"><span class="problematic" id="id2">:module:`pymc3.step_methods.metropolis`</span></a> for options</p>
</div></blockquote>
<p><strong>tune</strong> : boolean</p>
<blockquote>
<div><p>Flag for adaptive scaling based on the acceptance rate</p>
</div></blockquote>
<p><strong>coef_variation</strong> : scalar, float</p>
<blockquote>
<div><p>Coefficient of variation, determines the change of beta
from stage to stage, i.e.indirectly the number of stages,
low coef_variation &#8211;&gt; slow beta change,
results in many stages and vice verca (default: 1.)</p>
</div></blockquote>
<p><strong>check_bound</strong> : boolean</p>
<blockquote>
<div><p>Check if current sample lies outside of variable definition
speeds up computation as the forward model wont be executed
default: True</p>
</div></blockquote>
<p><strong>model</strong> : <code class="xref py py-class docutils literal"><span class="pre">pymc3.Model</span></code></p>
<blockquote class="last">
<div><p>Optional model for sampling step.
Defaults to None (taken from context).</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="ching2007" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[Ching2007]</a></td><td>Ching, J. and Chen, Y. (2007).
Transitional Markov Chain Monte Carlo Method for Bayesian Model
Updating, Model Class Selection, and Model Averaging.
J. Eng. Mech., 10.1061/(ASCE)0733-9399(2007)133:7(816), 816-832.
<a class="reference external" href="http://ascelibrary.org/doi/abs/10.1061/%28ASCE%290733-9399%282007%29133:7%28816%29">link</a></td></tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="atmcmc.ATMCMC.calc_beta">
<code class="descname">calc_beta</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/atmcmc.html#ATMCMC.calc_beta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#atmcmc.ATMCMC.calc_beta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate next tempering beta and importance weights based on
current beta and sample likelihoods.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>beta(m+1)</strong> : scalar, float</p>
<blockquote>
<div><p>tempering parameter of the next stage</p>
</div></blockquote>
<p><strong>beta(m)</strong> : scalar, float</p>
<blockquote>
<div><p>tempering parameter of the current stage</p>
</div></blockquote>
<p><strong>weights</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Importance weights (floats)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="atmcmc.ATMCMC.calc_covariance">
<code class="descname">calc_covariance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/atmcmc.html#ATMCMC.calc_covariance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#atmcmc.ATMCMC.calc_covariance" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate trace covariance matrix based on importance weights.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>cov</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote class="last">
<div><p>weighted covariances (NumPy &gt; 1.10. required)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="atmcmc.ATMCMC.get_chain_previous_lpoint">
<code class="descname">get_chain_previous_lpoint</code><span class="sig-paren">(</span><em>mtrace</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/atmcmc.html#ATMCMC.get_chain_previous_lpoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#atmcmc.ATMCMC.get_chain_previous_lpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Read trace results and take end points for each chain and set as
previous chain result for comparison of metropolis select.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mtrace</strong> : <code class="xref py py-class docutils literal"><span class="pre">pymc3.backend.base.MultiTrace</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>chain_previous_lpoint</strong> : list</p>
<blockquote class="last">
<div><p>all unobservedRV values, including dataset likelihoods</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="atmcmc.ATMCMC.mean_end_points">
<code class="descname">mean_end_points</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/atmcmc.html#ATMCMC.mean_end_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#atmcmc.ATMCMC.mean_end_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate mean of the end-points and return point.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary of trace variables</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="atmcmc.ATMCMC.resample">
<code class="descname">resample</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/atmcmc.html#ATMCMC.resample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#atmcmc.ATMCMC.resample" title="Permalink to this definition">¶</a></dt>
<dd><p>Resample pdf based on importance weights.
based on Kitagawas deterministic resampling algorithm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>outindex</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Array of resampled trace indexes</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="atmcmc.ATMCMC.select_end_points">
<code class="descname">select_end_points</code><span class="sig-paren">(</span><em>mtrace</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/atmcmc.html#ATMCMC.select_end_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#atmcmc.ATMCMC.select_end_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Read trace results (variables and model likelihood) and take end points
for each chain and set as start population for the next stage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mtrace</strong> : <code class="xref py py-class docutils literal"><span class="pre">pymc3.backend.base.MultiTrace</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>population</strong> : list</p>
<blockquote>
<div><p>of <code class="xref py py-func docutils literal"><span class="pre">pymc3.Point()</span></code> dictionaries</p>
</div></blockquote>
<p><strong>array_population</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>Array of trace end-points</p>
</div></blockquote>
<p><strong>likelihoods</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Array of likelihoods of the trace end-points</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="atmcmc.ATMIP_sample">
<code class="descclassname">atmcmc.</code><code class="descname">ATMIP_sample</code><span class="sig-paren">(</span><em>n_steps</em>, <em>step=None</em>, <em>start=None</em>, <em>trace=None</em>, <em>chain=0</em>, <em>stage=None</em>, <em>n_jobs=1</em>, <em>tune=None</em>, <em>progressbar=False</em>, <em>model=None</em>, <em>update=None</em>, <em>random_seed=None</em>, <em>rm_flag=False</em>, <em>plot_flag=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/atmcmc.html#ATMIP_sample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#atmcmc.ATMIP_sample" title="Permalink to this definition">¶</a></dt>
<dd><p>(C)ATMIP sampling algorithm
(Cascading - (C) not always relevant)</p>
<p>Samples the solution space with n_chains of Metropolis chains, where each
chain has n_steps iterations. Once finished, the sampled traces are
evaluated:</p>
<ol class="arabic simple">
<li>Based on the likelihoods of the final samples, chains are weighted</li>
<li>the weighted covariance of the ensemble is calculated and set as new
proposal distribution</li>
<li>the variation in the ensemble is calculated and the next tempering
parameter (beta) calculated</li>
<li>New n_chains Metropolis chains are seeded on the traces with high
weight for n_steps iterations</li>
<li>Repeat until beta &gt; 1.</li>
</ol>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>n_steps</strong> : int</p>
<blockquote>
<div><p>The number of samples to draw for each Markov-chain per stage</p>
</div></blockquote>
<p><strong>step</strong> : <a class="reference internal" href="#atmcmc.ATMCMC" title="atmcmc.ATMCMC"><code class="xref py py-class docutils literal"><span class="pre">ATMCMC</span></code></a></p>
<blockquote>
<div><p>ATMCMC initialisation object</p>
</div></blockquote>
<p><strong>start</strong> : List of dictionaries</p>
<blockquote>
<div><p>with length of (n_chains)
Starting points in parameter space (or partial point)
Defaults to random draws from variables (defaults to empty dict)</p>
</div></blockquote>
<p><strong>chain</strong> : int</p>
<blockquote>
<div><p>Chain number used to store sample in backend. If <cite>n_jobs</cite> is
greater than one, chain numbers will start here.</p>
</div></blockquote>
<p><strong>stage</strong> : str</p>
<blockquote>
<div><p>Stage where to start or continue the calculation. It is possible to
continue after completed stages (stage should be the number of the
completed stage + 1). If None the start will be at stage = 0.</p>
</div></blockquote>
<p><strong>n_jobs</strong> : int</p>
<blockquote>
<div><p>The number of cores to be used in parallel. Be aware that theano has
internal parallelisation. Sometimes this is more efficient especially
for simple models.
step.n_chains / n_jobs has to be an integer number!</p>
</div></blockquote>
<p><strong>tune</strong> : int</p>
<blockquote>
<div><p>Number of iterations to tune, if applicable (defaults to None)</p>
</div></blockquote>
<p><strong>trace</strong> : string</p>
<blockquote>
<div><p>Result_folder for storing stages, will be created if not existing.</p>
</div></blockquote>
<p><strong>progressbar</strong> : bool</p>
<blockquote>
<div><p>Flag for displaying a progress bar</p>
</div></blockquote>
<p><strong>model</strong> : <code class="xref py py-class docutils literal"><span class="pre">pymc3.Model</span></code></p>
<blockquote>
<div><p>(optional if in <cite>with</cite> context) has to contain deterministic
variable name defined under step.likelihood_name&#8217; that contains the
model likelihood</p>
</div></blockquote>
<p><strong>update</strong> : <code class="xref py py-class docutils literal"><span class="pre">models.Problem</span></code></p>
<blockquote>
<div><p>Problem object that contains all the observed data and (if applicable)
covariances to be updated each transition step.</p>
</div></blockquote>
<p><strong>random_seed</strong> : int or list of ints</p>
<blockquote>
<div><p>A list is accepted, more if <cite>n_jobs</cite> is greater than one.</p>
</div></blockquote>
<p><strong>rm_flag</strong> : bool</p>
<blockquote class="last">
<div><p>If True existing stage result folders are being deleted prior to
sampling.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="minson2013" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[Minson2013]</a></td><td>Minson, S. E. and Simons, M. and Beck, J. L., (2013),
Bayesian inversion for finite fault earthquake source models
I- Theory and algorithm. Geophysical Journal International, 2013,
194(3), pp.1701-1726,
<a class="reference external" href="https://gji.oxfordjournals.org/content/194/3/1701.full">link</a></td></tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="atmcmc.logp_forw">
<code class="descclassname">atmcmc.</code><code class="descname">logp_forw</code><span class="sig-paren">(</span><em>out_vars</em>, <em>vars</em>, <em>shared</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/atmcmc.html#logp_forw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#atmcmc.logp_forw" title="Permalink to this definition">¶</a></dt>
<dd><p>Compile Theano function of the model and the input and output variables.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>out_vars</strong> : List</p>
<blockquote>
<div><p>containing <code class="xref py py-class docutils literal"><span class="pre">pymc3.Distribution</span></code> for the output variables</p>
</div></blockquote>
<p><strong>vars</strong> : List</p>
<blockquote>
<div><p>containing <code class="xref py py-class docutils literal"><span class="pre">pymc3.Distribution</span></code> for the input variables</p>
</div></blockquote>
<p><strong>shared</strong> : List</p>
<blockquote class="last">
<div><p>containing <code class="xref py py-class docutils literal"><span class="pre">theano.tensor.Tensor</span></code> for dependend shared data</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-backend">
<span id="the-backend-module"></span><h2>The <a class="reference internal" href="#module-backend" title="backend"><code class="xref py py-mod docutils literal"><span class="pre">backend</span></code></a> Module<a class="headerlink" href="#module-backend" title="Permalink to this headline">¶</a></h2>
<p>Text file trace backend modified from pymc3 to work efficiently with
ATMCMC</p>
<p>Store sampling values as CSV files.</p>
<div class="section" id="file-format">
<h3>File format<a class="headerlink" href="#file-format" title="Permalink to this headline">¶</a></h3>
<p>Sampling values for each chain are saved in a separate file (under a
directory specified by the <cite>name</cite> argument).  The rows correspond to
sampling iterations.  The column names consist of variable names and
index labels.  For example, the heading</p>
<blockquote>
<div>x,y__0_0,y__0_1,y__1_0,y__1_1,y__2_0,y__2_1</div></blockquote>
<p>represents two variables, x and y, where x is a scalar and y has a
shape of (3, 2).</p>
<dl class="class">
<dt id="backend.ArrayStepSharedLLK">
<em class="property">class </em><code class="descclassname">backend.</code><code class="descname">ArrayStepSharedLLK</code><span class="sig-paren">(</span><em>vars</em>, <em>out_vars</em>, <em>shared</em>, <em>blocked=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#ArrayStepSharedLLK"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.ArrayStepSharedLLK" title="Permalink to this definition">¶</a></dt>
<dd><p>Modified ArrayStepShared To handle returned larger point including the
likelihood values.
Takes additionally a list of output vars including the likelihoods.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>vars</strong> : list</p>
<blockquote>
<div><p>variables to be sampled</p>
</div></blockquote>
<p><strong>out_vars</strong> : list</p>
<blockquote>
<div><p>variables to be stored in the traces</p>
</div></blockquote>
<p><strong>shared</strong> : dict</p>
<blockquote>
<div><p>theano variable -&gt; shared variables</p>
</div></blockquote>
<p><strong>blocked</strong> : boolen</p>
<blockquote class="last">
<div><p>(default True)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="backend.BaseATMCMCTrace">
<em class="property">class </em><code class="descclassname">backend.</code><code class="descname">BaseATMCMCTrace</code><span class="sig-paren">(</span><em>name</em>, <em>model=None</em>, <em>vars=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#BaseATMCMCTrace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.BaseATMCMCTrace" title="Permalink to this definition">¶</a></dt>
<dd><p>Base ATMCMC trace object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>name</strong> : str</p>
<blockquote>
<div><p>Name of backend</p>
</div></blockquote>
<p><strong>model</strong> : Model</p>
<blockquote>
<div><p>If None, the model is taken from the <cite>with</cite> context.</p>
</div></blockquote>
<p><strong>vars</strong> : list of variables</p>
<blockquote class="last">
<div><p>Sampling values will be stored for these variables. If None,
<cite>model.unobserved_RVs</cite> is used.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="backend.Text">
<em class="property">class </em><code class="descclassname">backend.</code><code class="descname">Text</code><span class="sig-paren">(</span><em>name</em>, <em>model=None</em>, <em>vars=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#Text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.Text" title="Permalink to this definition">¶</a></dt>
<dd><p>Text trace object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>name</strong> : str</p>
<blockquote>
<div><p>Name of directory to store text files</p>
</div></blockquote>
<p><strong>model</strong> : Model</p>
<blockquote>
<div><p>If None, the model is taken from the <cite>with</cite> context.</p>
</div></blockquote>
<p><strong>vars</strong> : list of variables</p>
<blockquote class="last">
<div><p>Sampling values will be stored for these variables. If None,
<cite>model.unobserved_RVs</cite> is used.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="backend.Text.get_values">
<code class="descname">get_values</code><span class="sig-paren">(</span><em>varname</em>, <em>burn=0</em>, <em>thin=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#Text.get_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.Text.get_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Get values from trace.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>varname</strong> : str</p>
<blockquote>
<div><p>Variable name for which values are to be retrieved.</p>
</div></blockquote>
<p><strong>burn</strong> : int</p>
<blockquote>
<div><p>Burn-in samples from trace. This is the number of samples to be 
thrown out from the start of the trace</p>
</div></blockquote>
<p><strong>thin</strong> : int</p>
<blockquote>
<div><p>Nuber of thinning samples. Throw out every &#8216;thin&#8217; sample of the
trace.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">numpy.array</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="backend.Text.point">
<code class="descname">point</code><span class="sig-paren">(</span><em>idx</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#Text.point"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.Text.point" title="Permalink to this definition">¶</a></dt>
<dd><p>Get point of current chain with variables names as keys.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>idx</strong> : int</p>
<blockquote>
<div><p>Index of the nth step of the chain</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dictionary of point values</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="backend.Text.record">
<code class="descname">record</code><span class="sig-paren">(</span><em>lpoint</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#Text.record"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.Text.record" title="Permalink to this definition">¶</a></dt>
<dd><p>Record results of a sampling iteration.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>lpoint</strong> : List of variable values</p>
<blockquote class="last">
<div><p>Values mapped to variable names</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="backend.Text.setup">
<code class="descname">setup</code><span class="sig-paren">(</span><em>draws</em>, <em>chain</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#Text.setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.Text.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform chain-specific setup.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>draws</strong> : int</p>
<blockquote>
<div><p>Expected number of draws</p>
</div></blockquote>
<p><strong>chain</strong> : int</p>
<blockquote class="last">
<div><p>Chain number</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="backend.check_multitrace">
<code class="descclassname">backend.</code><code class="descname">check_multitrace</code><span class="sig-paren">(</span><em>mtrace</em>, <em>draws</em>, <em>n_chains</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#check_multitrace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.check_multitrace" title="Permalink to this definition">¶</a></dt>
<dd><p>Check multitrace for incomplete sampling and return indexes from chains
that need to be resampled.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mtrace</strong> : <code class="xref py py-class docutils literal"><span class="pre">pymc3.backend.base.MultiTrace</span></code></p>
<blockquote>
<div><p>Mutlitrace object containing the sampling traces</p>
</div></blockquote>
<p><strong>draws</strong> : int</p>
<blockquote>
<div><p>Number of steps (i.e. chain length for each Marcov Chain)</p>
</div></blockquote>
<p><strong>n_chains</strong> : int</p>
<blockquote>
<div><p>Number of Marcov Chains</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">list of indexes for chains that need to be resampled</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="backend.dump">
<code class="descclassname">backend.</code><code class="descname">dump</code><span class="sig-paren">(</span><em>name</em>, <em>trace</em>, <em>chains=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#dump"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Store values from NDArray trace as CSV files.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>name</strong> : str</p>
<blockquote>
<div><p>Name of directory to store CSV files in</p>
</div></blockquote>
<p><strong>trace</strong> : <code class="xref py py-class docutils literal"><span class="pre">pymc3.backend.base.MultiTrace</span></code> of NDArray traces</p>
<blockquote>
<div><p>Result of MCMC run with default NDArray backend</p>
</div></blockquote>
<p><strong>chains</strong> : list</p>
<blockquote class="last">
<div><p>Chains to dump. If None, all chains are dumped.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="backend.load">
<code class="descclassname">backend.</code><code class="descname">load</code><span class="sig-paren">(</span><em>name</em>, <em>model=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load Text database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>name</strong> : str</p>
<blockquote>
<div><p>Name of directory with files (one per chain)</p>
</div></blockquote>
<p><strong>model</strong> : Model</p>
<blockquote>
<div><p>If None, the model is taken from the <cite>with</cite> context.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A <code class="xref py py-class docutils literal"><span class="pre">pymc3.backend.base.MultiTrace</span></code> instance</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-models">
<span id="the-models-module"></span><h2>The <a class="reference internal" href="#module-models" title="models"><code class="xref py py-mod docutils literal"><span class="pre">models</span></code></a> Module<a class="headerlink" href="#module-models" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="models.GeometryOptimizer">
<em class="property">class </em><code class="descclassname">models.</code><code class="descname">GeometryOptimizer</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models.html#GeometryOptimizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.GeometryOptimizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the model setup to solve the non-linear fault geometry and
returns the model object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>config</strong> : :class:&#8217;config.BEATconfig&#8217;</p>
<blockquote class="last">
<div><p>Contains all the information about the model setup and optimization
boundaries, as well as the sampler parameters.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>event</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>model</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="models.GeometryOptimizer.apply">
<code class="descname">apply</code><span class="sig-paren">(</span><em>updates</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models.html#GeometryOptimizer.apply"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.GeometryOptimizer.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Update problem object with covariance matrixes</p>
</dd></dl>

<dl class="method">
<dt id="models.GeometryOptimizer.built_model">
<code class="descname">built_model</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/models.html#GeometryOptimizer.built_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.GeometryOptimizer.built_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise <code class="xref py py-class docutils literal"><span class="pre">pymc3.Model</span></code> depending on configuration file,
geodetic and/or seismic data is included.</p>
</dd></dl>

<dl class="method">
<dt id="models.GeometryOptimizer.get_synthetics">
<code class="descname">get_synthetics</code><span class="sig-paren">(</span><em>point</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models.html#GeometryOptimizer.get_synthetics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.GeometryOptimizer.get_synthetics" title="Permalink to this definition">¶</a></dt>
<dd><p>Get synthetics for given point in solution space.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>point</strong> : <code class="xref py py-func docutils literal"><span class="pre">pymc3.Point()</span></code></p>
<blockquote>
<div><p>Dictionary with model parameters</p>
</div></blockquote>
<p><strong>kwargs especially to change output of seismic forward model</strong></p>
<blockquote>
<div><p>outmode = &#8216;traces&#8217;/ &#8216;array&#8217; / &#8216;data&#8217;</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dictionary with keys according to datasets containing the synthetics</p>
<p class="last">as lists.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="models.GeometryOptimizer.update_weights">
<code class="descname">update_weights</code><span class="sig-paren">(</span><em>point</em>, <em>n_jobs=1</em>, <em>plot=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models.html#GeometryOptimizer.update_weights"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.GeometryOptimizer.update_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate and update model prediction uncertainty covariances
due to uncertainty in the velocity model with respect to one point
in the solution space. Shared variables are updated.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>point</strong> : <code class="xref py py-func docutils literal"><span class="pre">pymc3.Point()</span></code></p>
<blockquote>
<div><p>Dictionary with model parameters, for which the covariance matrixes
with respect to velocity model uncertainties are calculated</p>
</div></blockquote>
<p><strong>n_jobs</strong> : int</p>
<blockquote>
<div><p>Number of processors to use for calculation of seismic covariances</p>
</div></blockquote>
<p><strong>plot</strong> : boolean</p>
<blockquote class="last">
<div><p>Flag for opening the seismic waveforms in the snuffler</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="models.sample">
<code class="descclassname">models.</code><code class="descname">sample</code><span class="sig-paren">(</span><em>step</em>, <em>problem</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models.html#sample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample solution space with the previously initalised algorithm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>step</strong> : <code class="xref py py-class docutils literal"><span class="pre">ATMCMC</span></code> or <code class="xref py py-class docutils literal"><span class="pre">pymc3.metropolis.Metropolis</span></code></p>
<blockquote>
<div><p>from problem.init_sampler()</p>
</div></blockquote>
<p class="last"><strong>problem</strong> : <code class="xref py py-class docutils literal"><span class="pre">Problem</span></code> with characteristics of problem to solve</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="models.load_model">
<code class="descclassname">models.</code><code class="descname">load_model</code><span class="sig-paren">(</span><em>project_dir</em>, <em>mode</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models.html#load_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.load_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Load config from project directory and return BEAT problem including model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>project_dir</strong> : string</p>
<blockquote>
<div><p>path to beat model directory</p>
</div></blockquote>
<p><strong>mode</strong> : string</p>
<blockquote>
<div><p>problem name to be loaded</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">Problem</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="models.load_stage">
<code class="descclassname">models.</code><code class="descname">load_stage</code><span class="sig-paren">(</span><em>project_dir</em>, <em>stage_number</em>, <em>mode</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models.html#load_stage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.load_stage" title="Permalink to this definition">¶</a></dt>
<dd><p>Load stage results from ATMIP sampling.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>project_dir</strong> : string</p>
<blockquote>
<div><p>path to beat model directory</p>
</div></blockquote>
<p><strong>stage_number</strong> : int</p>
<blockquote>
<div><p>number of stage to be loaded</p>
</div></blockquote>
<p><strong>mode</strong> : string</p>
<blockquote>
<div><p>problem name to be loaded</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><code class="xref py py-class docutils literal"><span class="pre">Problem</span></code></p>
<p><a class="reference internal" href="#atmcmc.ATMCMC" title="atmcmc.ATMCMC"><code class="xref py py-class docutils literal"><span class="pre">atmcmc.ATMCMC</span></code></a></p>
<p class="last"><code class="xref py py-class docutils literal"><span class="pre">pymc3.backend.base.MultiTrace</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="models.choose_proposal">
<code class="descclassname">models.</code><code class="descname">choose_proposal</code><span class="sig-paren">(</span><em>proposal_dist</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models.html#choose_proposal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.choose_proposal" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises and selects proposal distribution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>proposal_dist</strong> : string</p>
<blockquote>
<div><p>Name of the proposal distribution to initialise</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">class:&#8217;pymc3.Proposal&#8217; Object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-psgrn">
<span id="the-psgrn-module"></span><h2>The <a class="reference internal" href="#module-psgrn" title="psgrn"><code class="xref py py-mod docutils literal"><span class="pre">psgrn</span></code></a> Module<a class="headerlink" href="#module-psgrn" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="psgrn.PsGrnConfig">
<em class="property">class </em><code class="descclassname">psgrn.</code><code class="descname">PsGrnConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/psgrn.html#PsGrnConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#psgrn.PsGrnConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
<dl class="attribute">
<dt id="psgrn.PsGrnConfig.psgrn_version">
<code class="descname">psgrn_version</code><a class="headerlink" href="#psgrn.PsGrnConfig.psgrn_version" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'2008a'</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="psgrn.PsGrnConfig.n_snapshots">
<code class="descname">n_snapshots</code><a class="headerlink" href="#psgrn.PsGrnConfig.n_snapshots" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="psgrn.PsGrnConfig.max_time">
<code class="descname">max_time</code><a class="headerlink" href="#psgrn.PsGrnConfig.max_time" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1.0</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="psgrn.PsGrnConfig.observation_depth">
<code class="descname">observation_depth</code><a class="headerlink" href="#psgrn.PsGrnConfig.observation_depth" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.0</span></code></p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="psgrn.PsGrnConfigFull">
<em class="property">class </em><code class="descclassname">psgrn.</code><code class="descname">PsGrnConfigFull</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/psgrn.html#PsGrnConfigFull"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#psgrn.PsGrnConfigFull" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
<dl class="attribute">
<dt id="psgrn.PsGrnConfigFull.earthmodel_1d">
<code class="descname">earthmodel_1d</code><a class="headerlink" href="#psgrn.PsGrnConfigFull.earthmodel_1d" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://pyrocko.org/v0.3/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a>, <em>optional</em></p>
</dd></dl>

<dl class="attribute">
<dt id="psgrn.PsGrnConfigFull.psgrn_outdir">
<code class="descname">psgrn_outdir</code><a class="headerlink" href="#psgrn.PsGrnConfigFull.psgrn_outdir" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'psgrn_green/'</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="psgrn.PsGrnConfigFull.sampling_interval">
<code class="descname">sampling_interval</code><a class="headerlink" href="#psgrn.PsGrnConfigFull.sampling_interval" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1.0</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="psgrn.PsGrnConfigFull.sw_source_regime">
<code class="descname">sw_source_regime</code><a class="headerlink" href="#psgrn.PsGrnConfigFull.sw_source_regime" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="psgrn.PsGrnConfigFull.sw_gravity">
<code class="descname">sw_gravity</code><a class="headerlink" href="#psgrn.PsGrnConfigFull.sw_gravity" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="psgrn.PsGrnConfigFull.accuracy_wavenumber_integration">
<code class="descname">accuracy_wavenumber_integration</code><a class="headerlink" href="#psgrn.PsGrnConfigFull.accuracy_wavenumber_integration" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.025</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="psgrn.PsGrnConfigFull.displ_filenames">
<code class="descname">displ_filenames</code><a class="headerlink" href="#psgrn.PsGrnConfigFull.displ_filenames" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">tuple</span></code> of 3 <code class="docutils literal"><span class="pre">str</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">('uz',</span> <span class="pre">'ur',</span> <span class="pre">'ut')</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="psgrn.PsGrnConfigFull.stress_filenames">
<code class="descname">stress_filenames</code><a class="headerlink" href="#psgrn.PsGrnConfigFull.stress_filenames" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">tuple</span></code> of 6 <code class="docutils literal"><span class="pre">str</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">('szz',</span> <span class="pre">'srr',</span> <span class="pre">'stt',</span> <span class="pre">'szr',</span> <span class="pre">'srt',</span> <span class="pre">'stz')</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="psgrn.PsGrnConfigFull.tilt_filenames">
<code class="descname">tilt_filenames</code><a class="headerlink" href="#psgrn.PsGrnConfigFull.tilt_filenames" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">tuple</span></code> of 3 <code class="docutils literal"><span class="pre">str</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">('tr',</span> <span class="pre">'tt',</span> <span class="pre">'rot')</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="psgrn.PsGrnConfigFull.gravity_filenames">
<code class="descname">gravity_filenames</code><a class="headerlink" href="#psgrn.PsGrnConfigFull.gravity_filenames" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">tuple</span></code> of 2 <code class="docutils literal"><span class="pre">str</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">('gd',</span> <span class="pre">'gr')</span></code></p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="psgrn.PsGrnSpatialSampling">
<em class="property">class </em><code class="descclassname">psgrn.</code><code class="descname">PsGrnSpatialSampling</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/psgrn.html#PsGrnSpatialSampling"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#psgrn.PsGrnSpatialSampling" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
<dl class="attribute">
<dt id="psgrn.PsGrnSpatialSampling.n_steps">
<code class="descname">n_steps</code><a class="headerlink" href="#psgrn.PsGrnSpatialSampling.n_steps" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">10</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="psgrn.PsGrnSpatialSampling.start_distance">
<code class="descname">start_distance</code><a class="headerlink" href="#psgrn.PsGrnSpatialSampling.start_distance" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="psgrn.PsGrnSpatialSampling.end_distance">
<code class="descname">end_distance</code><a class="headerlink" href="#psgrn.PsGrnSpatialSampling.end_distance" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">100.0</span></code></p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

</div>
<div class="section" id="module-pscmp">
<span id="the-pscmp-module"></span><h2>The <a class="reference internal" href="#module-pscmp" title="pscmp"><code class="xref py py-mod docutils literal"><span class="pre">pscmp</span></code></a> Module<a class="headerlink" href="#module-pscmp" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pscmp.PsCmpArray">
<em class="property">class </em><code class="descclassname">pscmp.</code><code class="descname">PsCmpArray</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pscmp.html#PsCmpArray"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pscmp.PsCmpArray" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
<dl class="attribute">
<dt id="pscmp.PsCmpArray.n_steps_x">
<code class="descname">n_steps_x</code><a class="headerlink" href="#pscmp.PsCmpArray.n_steps_x" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">10</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpArray.n_steps_y">
<code class="descname">n_steps_y</code><a class="headerlink" href="#pscmp.PsCmpArray.n_steps_y" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">10</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpArray.start_distance_x">
<code class="descname">start_distance_x</code><a class="headerlink" href="#pscmp.PsCmpArray.start_distance_x" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.0</span></code>, minimum distance in x-direction (E) from source [m]</p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpArray.end_distance_x">
<code class="descname">end_distance_x</code><a class="headerlink" href="#pscmp.PsCmpArray.end_distance_x" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">100000.0</span></code>, maximum distance in x-direction (E) from source [m]</p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpArray.start_distance_y">
<code class="descname">start_distance_y</code><a class="headerlink" href="#pscmp.PsCmpArray.start_distance_y" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.0</span></code>, minimum distance in y-direction (N) from source [m]</p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpArray.end_distance_y">
<code class="descname">end_distance_y</code><a class="headerlink" href="#pscmp.PsCmpArray.end_distance_y" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">100000.0</span></code>, minimum distance in y-direction (N) from source [m]</p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="pscmp.PsCmpConfig">
<em class="property">class </em><code class="descclassname">pscmp.</code><code class="descname">PsCmpConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pscmp.html#PsCmpConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pscmp.PsCmpConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
<dl class="attribute">
<dt id="pscmp.PsCmpConfig.pscmp_version">
<code class="descname">pscmp_version</code><a class="headerlink" href="#pscmp.PsCmpConfig.pscmp_version" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'2008a'</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpConfig.observation">
<code class="descname">observation</code><a class="headerlink" href="#pscmp.PsCmpConfig.observation" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#pscmp.PsCmpObservation" title="pscmp.PsCmpObservation"><code class="xref py py-class docutils literal"><span class="pre">pscmp.PsCmpObservation</span></code></a>, <em>default:</em> <code class="docutils literal"><span class="pre">&lt;pscmp.PsCmpScatter</span> <span class="pre">object</span> <span class="pre">at</span> <span class="pre">0x9914e90&gt;</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpConfig.pscmp_outdir">
<code class="descname">pscmp_outdir</code><a class="headerlink" href="#pscmp.PsCmpConfig.pscmp_outdir" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'./'</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpConfig.psgrn_outdir">
<code class="descname">psgrn_outdir</code><a class="headerlink" href="#pscmp.PsCmpConfig.psgrn_outdir" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'./psgrn_functions/'</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpConfig.los_vector">
<code class="descname">los_vector</code><a class="headerlink" href="#pscmp.PsCmpConfig.los_vector" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">tuple</span></code> of 3 <code class="docutils literal"><span class="pre">float</span></code> objects, <em>optional</em></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpConfig.times_snapshots">
<code class="descname">times_snapshots</code><a class="headerlink" href="#pscmp.PsCmpConfig.times_snapshots" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">list</span></code> of <code class="docutils literal"><span class="pre">float</span></code> objects, <em>optional</em></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpConfig.rectangular_source_patches">
<code class="descname">rectangular_source_patches</code><a class="headerlink" href="#pscmp.PsCmpConfig.rectangular_source_patches" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">list</span></code> of <code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts.Any</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">&lt;pyrocko.guts.DefaultMaker</span> <span class="pre">object</span> <span class="pre">at</span> <span class="pre">0x9914d50&gt;</span></code></p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="pscmp.PsCmpConfigFull">
<em class="property">class </em><code class="descclassname">pscmp.</code><code class="descname">PsCmpConfigFull</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pscmp.html#PsCmpConfigFull"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pscmp.PsCmpConfigFull" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
<dl class="attribute">
<dt id="pscmp.PsCmpConfigFull.sw_los_displacement">
<code class="descname">sw_los_displacement</code><a class="headerlink" href="#pscmp.PsCmpConfigFull.sw_los_displacement" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpConfigFull.sw_coulomb_stress">
<code class="descname">sw_coulomb_stress</code><a class="headerlink" href="#pscmp.PsCmpConfigFull.sw_coulomb_stress" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpConfigFull.coulomb_master_field">
<code class="descname">coulomb_master_field</code><a class="headerlink" href="#pscmp.PsCmpConfigFull.coulomb_master_field" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#pscmp.PsCmpCoulombStress" title="pscmp.PsCmpCoulombStress"><code class="xref py py-class docutils literal"><span class="pre">pscmp.PsCmpCoulombStress</span></code></a>, <em>optional</em>, <em>default:</em> <code class="docutils literal"><span class="pre">&lt;pscmp.PsCmpCoulombStressMasterFault</span> <span class="pre">object</span> <span class="pre">at</span> <span class="pre">0x9907610&gt;</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpConfigFull.displ_sw_output_types">
<code class="descname">displ_sw_output_types</code><a class="headerlink" href="#pscmp.PsCmpConfigFull.displ_sw_output_types" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">tuple</span></code> of 3 <code class="docutils literal"><span class="pre">int</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">(1,</span> <span class="pre">1,</span> <span class="pre">1)</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpConfigFull.stress_sw_output_types">
<code class="descname">stress_sw_output_types</code><a class="headerlink" href="#pscmp.PsCmpConfigFull.stress_sw_output_types" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">tuple</span></code> of 6 <code class="docutils literal"><span class="pre">int</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0)</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpConfigFull.tilt_sw_output_types">
<code class="descname">tilt_sw_output_types</code><a class="headerlink" href="#pscmp.PsCmpConfigFull.tilt_sw_output_types" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">tuple</span></code> of 3 <code class="docutils literal"><span class="pre">int</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">0)</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpConfigFull.gravity_sw_output_types">
<code class="descname">gravity_sw_output_types</code><a class="headerlink" href="#pscmp.PsCmpConfigFull.gravity_sw_output_types" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">tuple</span></code> of 2 <code class="docutils literal"><span class="pre">int</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">(0,</span> <span class="pre">0)</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpConfigFull.displ_filenames">
<code class="descname">displ_filenames</code><a class="headerlink" href="#pscmp.PsCmpConfigFull.displ_filenames" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">tuple</span></code> of 3 <code class="docutils literal"><span class="pre">str</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">('uz',</span> <span class="pre">'ur',</span> <span class="pre">'ut')</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpConfigFull.stress_filenames">
<code class="descname">stress_filenames</code><a class="headerlink" href="#pscmp.PsCmpConfigFull.stress_filenames" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">tuple</span></code> of 6 <code class="docutils literal"><span class="pre">str</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">('szz',</span> <span class="pre">'srr',</span> <span class="pre">'stt',</span> <span class="pre">'szr',</span> <span class="pre">'srt',</span> <span class="pre">'stz')</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpConfigFull.tilt_filenames">
<code class="descname">tilt_filenames</code><a class="headerlink" href="#pscmp.PsCmpConfigFull.tilt_filenames" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">tuple</span></code> of 3 <code class="docutils literal"><span class="pre">str</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">('tr',</span> <span class="pre">'tt',</span> <span class="pre">'rot')</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpConfigFull.gravity_filenames">
<code class="descname">gravity_filenames</code><a class="headerlink" href="#pscmp.PsCmpConfigFull.gravity_filenames" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">tuple</span></code> of 2 <code class="docutils literal"><span class="pre">str</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">('gd',</span> <span class="pre">'gr')</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpConfigFull.snapshot_basefilename">
<code class="descname">snapshot_basefilename</code><a class="headerlink" href="#pscmp.PsCmpConfigFull.snapshot_basefilename" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'snapshot'</span></code></p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="pscmp.PsCmpCoulombStress">
<em class="property">class </em><code class="descclassname">pscmp.</code><code class="descname">PsCmpCoulombStress</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pscmp.html#PsCmpCoulombStress"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pscmp.PsCmpCoulombStress" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="pscmp.PsCmpCoulombStressMasterFault">
<em class="property">class </em><code class="descclassname">pscmp.</code><code class="descname">PsCmpCoulombStressMasterFault</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pscmp.html#PsCmpCoulombStressMasterFault"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pscmp.PsCmpCoulombStressMasterFault" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
<dl class="attribute">
<dt id="pscmp.PsCmpCoulombStressMasterFault.friction">
<code class="descname">friction</code><a class="headerlink" href="#pscmp.PsCmpCoulombStressMasterFault.friction" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.7</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpCoulombStressMasterFault.skempton_ratio">
<code class="descname">skempton_ratio</code><a class="headerlink" href="#pscmp.PsCmpCoulombStressMasterFault.skempton_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpCoulombStressMasterFault.master_fault_strike">
<code class="descname">master_fault_strike</code><a class="headerlink" href="#pscmp.PsCmpCoulombStressMasterFault.master_fault_strike" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">300.0</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpCoulombStressMasterFault.master_fault_dip">
<code class="descname">master_fault_dip</code><a class="headerlink" href="#pscmp.PsCmpCoulombStressMasterFault.master_fault_dip" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">15.0</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpCoulombStressMasterFault.master_fault_rake">
<code class="descname">master_fault_rake</code><a class="headerlink" href="#pscmp.PsCmpCoulombStressMasterFault.master_fault_rake" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">90.0</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpCoulombStressMasterFault.sigma1">
<code class="descname">sigma1</code><a class="headerlink" href="#pscmp.PsCmpCoulombStressMasterFault.sigma1" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1000000.0</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpCoulombStressMasterFault.sigma2">
<code class="descname">sigma2</code><a class="headerlink" href="#pscmp.PsCmpCoulombStressMasterFault.sigma2" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">-1000000.0</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpCoulombStressMasterFault.sigma3">
<code class="descname">sigma3</code><a class="headerlink" href="#pscmp.PsCmpCoulombStressMasterFault.sigma3" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.0</span></code></p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="pscmp.PsCmpObservation">
<em class="property">class </em><code class="descclassname">pscmp.</code><code class="descname">PsCmpObservation</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pscmp.html#PsCmpObservation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pscmp.PsCmpObservation" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="pscmp.PsCmpProfile">
<em class="property">class </em><code class="descclassname">pscmp.</code><code class="descname">PsCmpProfile</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pscmp.html#PsCmpProfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pscmp.PsCmpProfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
<dl class="attribute">
<dt id="pscmp.PsCmpProfile.n_steps">
<code class="descname">n_steps</code><a class="headerlink" href="#pscmp.PsCmpProfile.n_steps" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">10</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpProfile.start_distance">
<code class="descname">start_distance</code><a class="headerlink" href="#pscmp.PsCmpProfile.start_distance" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.0</span></code>, minimum distance from source [m]</p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpProfile.end_distance">
<code class="descname">end_distance</code><a class="headerlink" href="#pscmp.PsCmpProfile.end_distance" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">100000.0</span></code>, minimum distance from source [m]</p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="pscmp.PsCmpRectangularSource">
<em class="property">class </em><code class="descclassname">pscmp.</code><code class="descname">PsCmpRectangularSource</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pscmp.html#PsCmpRectangularSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pscmp.PsCmpRectangularSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Input parameters have to be in:
[deg] for reference point (lat, lon) and angles (rake, strike, dip)
[m] shifting with respect to reference position
[m] for fault dimensions and source depth. The default shift of the
origin (pos_s, pos_d) with respect to the reference coordinates
(lat, lon) is zero.</p>
<dl class="attribute">
<dt id="pscmp.PsCmpRectangularSource.length">
<code class="descname">length</code><a class="headerlink" href="#pscmp.PsCmpRectangularSource.length" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">6000.0</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpRectangularSource.width">
<code class="descname">width</code><a class="headerlink" href="#pscmp.PsCmpRectangularSource.width" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">5000.0</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpRectangularSource.strike">
<code class="descname">strike</code><a class="headerlink" href="#pscmp.PsCmpRectangularSource.strike" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpRectangularSource.dip">
<code class="descname">dip</code><a class="headerlink" href="#pscmp.PsCmpRectangularSource.dip" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">90.0</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpRectangularSource.rake">
<code class="descname">rake</code><a class="headerlink" href="#pscmp.PsCmpRectangularSource.rake" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpRectangularSource.torigin">
<code class="descname">torigin</code><a class="headerlink" href="#pscmp.PsCmpRectangularSource.torigin" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpRectangularSource.slip">
<code class="descname">slip</code><a class="headerlink" href="#pscmp.PsCmpRectangularSource.slip" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>optional</em>, <em>default:</em> <code class="docutils literal"><span class="pre">1.0</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpRectangularSource.pos_s">
<code class="descname">pos_s</code><a class="headerlink" href="#pscmp.PsCmpRectangularSource.pos_s" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>optional</em></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpRectangularSource.pos_d">
<code class="descname">pos_d</code><a class="headerlink" href="#pscmp.PsCmpRectangularSource.pos_d" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>optional</em></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpRectangularSource.opening">
<code class="descname">opening</code><a class="headerlink" href="#pscmp.PsCmpRectangularSource.opening" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.0</span></code></p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="pscmp.PsCmpRectangularSource.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pscmp.html#PsCmpRectangularSource.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pscmp.PsCmpRectangularSource.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Change some of the source models parameters.</p>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyrocko</span> <span class="k">import</span> <span class="n">gf</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">DCSource</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">strike</span><span class="o">=</span><span class="mf">66.</span><span class="p">,</span> <span class="n">dip</span><span class="o">=</span><span class="mf">33.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">s</span>
<span class="go">--- !pf.DCSource</span>
<span class="go">depth: 0.0</span>
<span class="go">time: 1970-01-01 00:00:00</span>
<span class="go">magnitude: 6.0</span>
<span class="go">strike: 66.0</span>
<span class="go">dip: 33.0</span>
<span class="go">rake: 0.0</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pscmp.PsCmpScatter">
<em class="property">class </em><code class="descclassname">pscmp.</code><code class="descname">PsCmpScatter</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pscmp.html#PsCmpScatter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pscmp.PsCmpScatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
<dl class="attribute">
<dt id="pscmp.PsCmpScatter.lats">
<code class="descname">lats</code><a class="headerlink" href="#pscmp.PsCmpScatter.lats" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">list</span></code> of <code class="docutils literal"><span class="pre">float</span></code> objects, <em>optional</em>, <em>default:</em> <code class="docutils literal"><span class="pre">[10.4,</span> <span class="pre">10.5]</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="pscmp.PsCmpScatter.lons">
<code class="descname">lons</code><a class="headerlink" href="#pscmp.PsCmpScatter.lons" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">list</span></code> of <code class="docutils literal"><span class="pre">float</span></code> objects, <em>optional</em>, <em>default:</em> <code class="docutils literal"><span class="pre">[12.3,</span> <span class="pre">13.4]</span></code></p>
</dd></dl>

<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>dummy_for</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="function">
<dt id="pscmp.distributed_fault_patches_to_config">
<code class="descclassname">pscmp.</code><code class="descname">distributed_fault_patches_to_config</code><span class="sig-paren">(</span><em>patches</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pscmp.html#distributed_fault_patches_to_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pscmp.distributed_fault_patches_to_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Input: List of PsCmpRectangularSource(s)</p>
</dd></dl>

</div>
<div class="section" id="module-covariance">
<span id="the-covariance-module"></span><h2>The <a class="reference internal" href="#module-covariance" title="covariance"><code class="xref py py-mod docutils literal"><span class="pre">covariance</span></code></a> Module<a class="headerlink" href="#module-covariance" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="covariance.get_geo_cov_velocity_models">
<code class="descclassname">covariance.</code><code class="descname">get_geo_cov_velocity_models</code><span class="sig-paren">(</span><em>store_superdir</em>, <em>crust_inds</em>, <em>dataset</em>, <em>sources</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covariance.html#get_geo_cov_velocity_models"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#covariance.get_geo_cov_velocity_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate model prediction uncertainty matrix with respect to uncertainties
in the velocity model for geodetic dateset.
Input:
store_superdir - geodetic GF directory
crust_inds - List of indices for respective GF stores
dataset - <code class="xref py py-class docutils literal"><span class="pre">IFG</span></code>/<cite>DiffIFG</cite>
sources - List of <code class="xref py py-class docutils literal"><span class="pre">PsCmpRectangularSource</span></code></p>
</dd></dl>

<dl class="function">
<dt id="covariance.get_model_prediction_sensitivity">
<code class="descclassname">covariance.</code><code class="descname">get_model_prediction_sensitivity</code><span class="sig-paren">(</span><em>engine</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covariance.html#get_model_prediction_sensitivity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#covariance.get_model_prediction_sensitivity" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the model prediction Covariance Sensitivity Kernel.
(numerical derivation with respect to the input source parameter(s))
Following Duputel et al. 2014</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Input:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<p>:py:class:&#8217;engine&#8217;
source_parms = list of parameters with respect to which the kernel</p>
<blockquote>
<div>is being calculated e.g. [&#8216;strike&#8217;, &#8216;dip&#8217;, &#8216;depth&#8217;]</div></blockquote>
<p>!!!
NEEDS to have seismosizer source object parameter variable name convention
!!!
(see seismosizer.source.keys())</p>
<p>calculate_model_prediction_sensitivity(request, source_params, <a href="#id5"><span class="problematic" id="id6">**</span></a>kwargs)
calculate_model_prediction_sensitivity(sources,</p>
<blockquote>
<div>targets, source_params, <a href="#id7"><span class="problematic" id="id8">**</span></a>kwargs)</div></blockquote>
<p>Returns traces in a list[parameter][targets] for each station and channel
as specified in the targets. The location code of each trace is placed to
show the respective source parameter.</p>
</dd></dl>

<dl class="function">
<dt id="covariance.get_seis_cov_velocity_models">
<code class="descclassname">covariance.</code><code class="descname">get_seis_cov_velocity_models</code><span class="sig-paren">(</span><em>engine</em>, <em>sources</em>, <em>targets</em>, <em>arrival_taper</em>, <em>filterer</em>, <em>plot=False</em>, <em>n_jobs=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covariance.html#get_seis_cov_velocity_models"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#covariance.get_seis_cov_velocity_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate model prediction uncertainty matrix with respect to uncertainties
in the velocity model for station and channel.
Input:
<code class="xref py py-class docutils literal"><span class="pre">gf.Engine</span></code> - contains synthetics generation machine
<code class="xref py py-class docutils literal"><span class="pre">gf.Targets</span></code> - targets to be processed
:py:class: <cite>heart.ArrivalTaper</cite> - Determines Tapering around Phase Arrival</p>
</dd></dl>

<dl class="function">
<dt id="covariance.get_seismic_data_covariances">
<code class="descclassname">covariance.</code><code class="descname">get_seismic_data_covariances</code><span class="sig-paren">(</span><em>data_traces</em>, <em>engine</em>, <em>filterer</em>, <em>sample_rate</em>, <em>arrival_taper</em>, <em>event</em>, <em>targets</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covariance.html#get_seismic_data_covariances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#covariance.get_seismic_data_covariances" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate SubCovariance Matrix of trace object following
Duputel et al. 2012 GJI
&#8220;Uncertainty estimations for seismic source inversions&#8221; p. 5</p>
<dl class="docutils">
<dt>Cd(i,j) = (Variance of trace)*exp(-abs(ti-tj)/</dt>
<dd><blockquote class="first">
<div>(shortest period T0 of waves))</div></blockquote>
<p class="last">i,j are samples of the seismic trace</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="covariance.sub_data_covariance">
<code class="descclassname">covariance.</code><code class="descname">sub_data_covariance</code><span class="sig-paren">(</span><em>n</em>, <em>dt</em>, <em>tzero</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covariance.html#sub_data_covariance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#covariance.sub_data_covariance" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate sub-covariance matrix without variance.
:param: n - length of trace/ samples of quadratic Covariance matrix
:param: dt - time step of samples
:param: tzero - shortest period of waves in trace</p>
</dd></dl>

</div>
<div class="section" id="module-theanof">
<span id="the-theanof-module"></span><h2>The <a class="reference internal" href="#module-theanof" title="theanof"><code class="xref py py-mod docutils literal"><span class="pre">theanof</span></code></a> Module<a class="headerlink" href="#module-theanof" title="Permalink to this headline">¶</a></h2>
<p>Package for wrapping various functions into Theano-Ops to be able to include
them into theano graphs as is needed by the pymc3 models.
Far future:</p>
<blockquote>
<div>include a &#8216;def grad:&#8217; -method to each Op in order to enable the use of
gradient based optimization algorithms</div></blockquote>
<dl class="class">
<dt id="theanof.GeoLayerSynthesizerFree">
<em class="property">class </em><code class="descclassname">theanof.</code><code class="descname">GeoLayerSynthesizerFree</code><span class="sig-paren">(</span><em>store_superdir</em>, <em>crust_ind</em>, <em>sources</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#GeoLayerSynthesizerFree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.GeoLayerSynthesizerFree" title="Permalink to this definition">¶</a></dt>
<dd><p>Theano wrapper for a geodetic forward model for variable observation
points including opening- can be used for dike/sill modeling.</p>
<p>Inputs have to be in order!
Type Numpy arrays:
Observation|             Source parameters (RectangularSource)
lons, lats | east_shifts, north_shifts, top_depths, strikes, dips, rakes,</p>
<blockquote>
<div>lengths, widths, slips, openings</div></blockquote>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="58%" />
<col width="42%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>default_output</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="theanof.GeoLayerSynthesizerStatic">
<em class="property">class </em><code class="descclassname">theanof.</code><code class="descname">GeoLayerSynthesizerStatic</code><span class="sig-paren">(</span><em>lats</em>, <em>lons</em>, <em>store_superdir</em>, <em>crust_ind</em>, <em>sources</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#GeoLayerSynthesizerStatic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.GeoLayerSynthesizerStatic" title="Permalink to this definition">¶</a></dt>
<dd><p>Theano wrapper for a geodetic forward model for static observation
points.</p>
<p>Inputs have to be in order!
Type Numpy arrays:</p>
<blockquote>
<div>Source parameters (RectangularSource)</div></blockquote>
<p>east_shifts, north_shifts, top_depths, strikes, dips, rakes,
lengths, widths, slips</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="58%" />
<col width="42%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>default_output</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="theanof.SeisSynthesizer">
<em class="property">class </em><code class="descclassname">theanof.</code><code class="descname">SeisSynthesizer</code><span class="sig-paren">(</span><em>engine</em>, <em>sources</em>, <em>targets</em>, <em>event</em>, <em>arrival_taper</em>, <em>filterer</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#SeisSynthesizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.SeisSynthesizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Theano wrapper for a seismic forward model for given source, targets</p>
<dl class="docutils">
<dt>Inputs Type: Numpy arrays:</dt>
<dd>Source parameters (RectangularSource)</dd>
</dl>
<p>east_shifts, north_shifts, top_depths, strikes, dips, rakes,
lengths, widths, slips</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="58%" />
<col width="42%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>default_output</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
</dd></dl>

</div>
<div class="section" id="module-utility">
<span id="the-utility-module"></span><h2>The <a class="reference internal" href="#module-utility" title="utility"><code class="xref py py-mod docutils literal"><span class="pre">utility</span></code></a> Module<a class="headerlink" href="#module-utility" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="utility.DataMap">
<em class="property">class </em><code class="descclassname">utility.</code><code class="descname">DataMap</code><a class="headerlink" href="#utility.DataMap" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">Attributes</p>
<p class="rubric">Methods</p>
<dl class="attribute">
<dt id="utility.DataMap.dtype">
<code class="descname">dtype</code><a class="headerlink" href="#utility.DataMap.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="attribute">
<dt id="utility.DataMap.list_ind">
<code class="descname">list_ind</code><a class="headerlink" href="#utility.DataMap.list_ind" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="attribute">
<dt id="utility.DataMap.shp">
<code class="descname">shp</code><a class="headerlink" href="#utility.DataMap.shp" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="attribute">
<dt id="utility.DataMap.slc">
<code class="descname">slc</code><a class="headerlink" href="#utility.DataMap.slc" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="utility.ListArrayOrdering">
<em class="property">class </em><code class="descclassname">utility.</code><code class="descname">ListArrayOrdering</code><span class="sig-paren">(</span><em>list_arrays</em>, <em>intype='numpy'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#ListArrayOrdering"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.ListArrayOrdering" title="Permalink to this definition">¶</a></dt>
<dd><p>An ordering for a list to an array space. Takes also non theano.tensors.
Modified from pymc3 blocking.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>list_arrays</strong> : list</p>
<blockquote>
<div><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> or <code class="xref py py-class docutils literal"><span class="pre">theano.tensor.Tensor</span></code></p>
</div></blockquote>
<p><strong>intype</strong> : str</p>
<blockquote class="last">
<div><p>defining the input type &#8216;tensor&#8217; or &#8216;numpy&#8217;</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="utility.ListToArrayBijection">
<em class="property">class </em><code class="descclassname">utility.</code><code class="descname">ListToArrayBijection</code><span class="sig-paren">(</span><em>ordering</em>, <em>list_arrays</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#ListToArrayBijection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.ListToArrayBijection" title="Permalink to this definition">¶</a></dt>
<dd><p>A mapping between a List of arrays and an array space</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ordering</strong> : <a class="reference internal" href="#utility.ListArrayOrdering" title="utility.ListArrayOrdering"><code class="xref py py-class docutils literal"><span class="pre">ListArrayOrdering</span></code></a></p>
<p><strong>list_arrays</strong> : list</p>
<blockquote class="last">
<div><p>of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="utility.ListToArrayBijection.f3map">
<code class="descname">f3map</code><span class="sig-paren">(</span><em>list_arrays</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#ListToArrayBijection.f3map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.ListToArrayBijection.f3map" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps values from List space to array space with 3 columns</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>list_arrays</strong> : list</p>
<blockquote>
<div><p>of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> with size: n x 3</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>array</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote class="last">
<div><p>single array comprising all the input arrays</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="utility.ListToArrayBijection.fmap">
<code class="descname">fmap</code><span class="sig-paren">(</span><em>list_arrays</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#ListToArrayBijection.fmap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.ListToArrayBijection.fmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps values from List space to array space</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>list_arrays</strong> : list</p>
<blockquote>
<div><p>of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>array</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote class="last">
<div><p>single array comprising all the input arrays</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="utility.ListToArrayBijection.rmap">
<code class="descname">rmap</code><span class="sig-paren">(</span><em>array</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#ListToArrayBijection.rmap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.ListToArrayBijection.rmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps value from array space to List space
Inverse operation of fmap.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>array</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>a_list</strong> : list</p>
<blockquote class="last">
<div><p>of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="utility.ListToArrayBijection.srmap">
<code class="descname">srmap</code><span class="sig-paren">(</span><em>tarray</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#ListToArrayBijection.srmap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.ListToArrayBijection.srmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps value from symbolic variable array space to List space</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>tarray</strong> : <code class="xref py py-class docutils literal"><span class="pre">theano.tensor.Tensor</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>a_list</strong> : list</p>
<blockquote class="last">
<div><p>of <code class="xref py py-class docutils literal"><span class="pre">theano.tensor.Tensor</span></code></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="utility.adjust_point_units">
<code class="descclassname">utility.</code><code class="descname">adjust_point_units</code><span class="sig-paren">(</span><em>point</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#adjust_point_units"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.adjust_point_units" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform variables with [km] units to [m]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>point</strong> : dict</p>
<blockquote>
<div><p><code class="xref py py-func docutils literal"><span class="pre">pymc3.model.Point()</span></code> of model parameter units as keys</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>mpoint</strong> : dict</p>
<blockquote class="last">
<div><p><code class="xref py py-func docutils literal"><span class="pre">pymc3.model.Point()</span></code></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.apply_station_blacklist">
<code class="descclassname">utility.</code><code class="descname">apply_station_blacklist</code><span class="sig-paren">(</span><em>stations</em>, <em>blacklist</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#apply_station_blacklist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.apply_station_blacklist" title="Permalink to this definition">¶</a></dt>
<dd><p>Weed stations listed in the blacklist.
Modifies input list!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>stations</strong> : list</p>
<blockquote>
<div><p><a class="reference external" href="http://pyrocko.org/v0.3/model.html#pyrocko.model.Station" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Station</span></code></a></p>
</div></blockquote>
<p><strong>blacklist</strong> : list</p>
<blockquote>
<div><p>strings of station names</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>stations</strong> : list of <a class="reference external" href="http://pyrocko.org/v0.3/model.html#pyrocko.model.Station" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Station</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.biggest_common_divisor">
<code class="descclassname">utility.</code><code class="descname">biggest_common_divisor</code><span class="sig-paren">(</span><em>a</em>, <em>b</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#biggest_common_divisor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.biggest_common_divisor" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the biggest common divisor of two float numbers a and b.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>a, b: float</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.downsample_traces">
<code class="descclassname">utility.</code><code class="descname">downsample_traces</code><span class="sig-paren">(</span><em>data_traces</em>, <em>deltat=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#downsample_traces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.downsample_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Downsample data_traces to given sampling interval &#8216;deltat&#8217;.
Modifies input <a class="reference external" href="http://pyrocko.org/v0.3/trace.html#pyrocko.trace.Trace" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.Trace</span></code></a> Objects!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data_traces</strong> : list</p>
<blockquote>
<div><p>of <a class="reference external" href="http://pyrocko.org/v0.3/trace.html#pyrocko.trace.Trace" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.Trace</span></code></a></p>
</div></blockquote>
<p class="last"><strong>deltat</strong> : sampling interval [s] to which traces should be downsampled</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.dump_objects">
<code class="descclassname">utility.</code><code class="descname">dump_objects</code><span class="sig-paren">(</span><em>outpath</em>, <em>outlist</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#dump_objects"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.dump_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Dump objects in outlist into pickle file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>outpath</strong> : str</p>
<blockquote>
<div><p>absolute path and file name for the file to be stored</p>
</div></blockquote>
<p><strong>outlist</strong> : list</p>
<blockquote class="last">
<div><p>of objects to save pickle</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.ensure_cov_psd">
<code class="descclassname">utility.</code><code class="descname">ensure_cov_psd</code><span class="sig-paren">(</span><em>cov</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#ensure_cov_psd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.ensure_cov_psd" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure that the input covariance matrix is positive definite.
If not, find the nearest positive semi-definite matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>cov</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>symmetric covariance matrix</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>cov</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote class="last">
<div><p>positive definite covariance matrix</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.join_models">
<code class="descclassname">utility.</code><code class="descname">join_models</code><span class="sig-paren">(</span><em>global_model</em>, <em>crustal_model</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#join_models"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.join_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace the part of the &#8216;global model&#8217; that is covered by &#8216;crustal_model&#8217;.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>global_model</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a></p>
<p><strong>crustal_model</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>joined_model</strong> : cake.LayeredModel</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.load_atmip_params">
<code class="descclassname">utility.</code><code class="descname">load_atmip_params</code><span class="sig-paren">(</span><em>project_dir</em>, <em>stage_number</em>, <em>mode</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#load_atmip_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.load_atmip_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Load saved parameters from given ATMIP stage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>project_dir</strong> : str</p>
<blockquote>
<div><p>absolute path to directory of BEAT project</p>
</div></blockquote>
<p><strong>stage number</strong> : string</p>
<blockquote>
<div><p>of stage number or &#8216;final&#8217; for last stage</p>
</div></blockquote>
<p><strong>mode</strong> : str</p>
<blockquote class="last">
<div><p>problem mode that has been solved (&#8216;geometry&#8217;, &#8216;static&#8217;, &#8216;kinematic&#8217;)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.load_objects">
<code class="descclassname">utility.</code><code class="descname">load_objects</code><span class="sig-paren">(</span><em>loadpath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#load_objects"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.load_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Load (unpickle) saved (pickled) objects from specified loadpath.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>loadpath</strong> : absolute path and file name to the file to be loaded</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>objects</strong> : list</p>
<blockquote class="last">
<div><p>of saved objects</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.mod_i">
<code class="descclassname">utility.</code><code class="descname">mod_i</code><span class="sig-paren">(</span><em>i</em>, <em>cycle</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#mod_i"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.mod_i" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates modulus of a function and returns number of full cycles and the
rest.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>i</strong> : int or float</p>
<blockquote>
<div><p>Number to be cycled over</p>
</div></blockquote>
<p><strong>cycle</strong> : int o float</p>
<blockquote>
<div><p>Cycle length</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fullc</strong> : int or float depending on input</p>
<p class="last"><strong>rest</strong> : int or float depending on input</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.near_psd">
<code class="descclassname">utility.</code><code class="descname">near_psd</code><span class="sig-paren">(</span><em>x</em>, <em>epsilon=2.2204460492503131e-16</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#near_psd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.near_psd" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the nearest postive semi-definite matrix for a correlation/
covariance matrix</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>Covariance/correlation matrix</p>
</div></blockquote>
<p><strong>epsilon</strong> : float</p>
<blockquote>
<div><p>Eigenvalue limit
here set to accuracy of numbers in numpy, otherwise the resulting
matrix, likely is still not going to be positive definite</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>near_cov</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote class="last">
<div><p>closest positive definite covariance/correlation matrix</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Numpy number precission not high enough to resolve this for low valued
covariance matrixes! The result will have very small negative eigvals!!!</p>
<p>See repair_covariance below for a simpler implementation that can resolve
the numbers!</p>
<p>Algorithm after Rebonato &amp; Jaekel 1999</p>
</dd></dl>

<dl class="function">
<dt id="utility.repair_covariance">
<code class="descclassname">utility.</code><code class="descname">repair_covariance</code><span class="sig-paren">(</span><em>x</em>, <em>epsilon=2.2204460492503131e-16</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#repair_covariance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.repair_covariance" title="Permalink to this definition">¶</a></dt>
<dd><p>Make covariance input matrix A positive definite.
Setting eigenvalues that are lower than the precission of numpy floats to
at least that precision and backtransform.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>Covariance/correlation matrix</p>
</div></blockquote>
<p><strong>epsilon</strong> : float</p>
<blockquote>
<div><p>Eigenvalue limit
here set to accuracy of numbers in numpy, otherwise the resulting
matrix, likely is still not going to be positive definite</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>near_cov</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote class="last">
<div><p>closest positive definite covariance/correlation matrix</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Algorithm after Gilbert Strange, &#8216;Introduction to linear Algebra&#8217;</p>
</dd></dl>

<dl class="function">
<dt id="utility.search_catalog">
<code class="descclassname">utility.</code><code class="descname">search_catalog</code><span class="sig-paren">(</span><em>date</em>, <em>min_magnitude</em>, <em>dayrange=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#search_catalog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.search_catalog" title="Permalink to this definition">¶</a></dt>
<dd><p>Search the gcmt catalog for the specified date (+- 1 day), filtering the
events with given magnitude threshold.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>date</strong> : str</p>
<blockquote>
<div><p>&#8216;YYYY-MM-DD&#8217;, date of the event</p>
</div></blockquote>
<p><strong>min_magnitude</strong> : float</p>
<blockquote>
<div><p>approximate minimum Mw of the event</p>
</div></blockquote>
<p><strong>dayrange</strong> : float</p>
<blockquote>
<div><p>temporal search interval [days] around date</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>event</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.setup_logging">
<code class="descclassname">utility.</code><code class="descname">setup_logging</code><span class="sig-paren">(</span><em>project_dir</em>, <em>levelname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#setup_logging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.setup_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup function for handling BEAT logging. The logfile &#8216;BEAT_log.txt&#8217; is
saved in the &#8216;project_dir&#8217;.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>project_dir</strong> : str</p>
<blockquote>
<div><p>absolute path to the output directory for the Log file</p>
</div></blockquote>
<p><strong>levelname</strong> : str</p>
<blockquote class="last">
<div><p>defining the level of logging</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.split_off_list">
<code class="descclassname">utility.</code><code class="descname">split_off_list</code><span class="sig-paren">(</span><em>l</em>, <em>off_length</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#split_off_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.split_off_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Split a list with length &#8216;off_length&#8217; from the beginning of an input
list l.
Modifies input list!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>l</strong> : list</p>
<blockquote>
<div><p>of objects to be seperated</p>
</div></blockquote>
<p><strong>off_length</strong> : int</p>
<blockquote>
<div><p>number of elements from l to be split off</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.split_point">
<code class="descclassname">utility.</code><code class="descname">split_point</code><span class="sig-paren">(</span><em>point</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#split_point"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.split_point" title="Permalink to this definition">¶</a></dt>
<dd><p>Split point in solution space into List of dictionaries with source
parameters for each source. Does a deepcopy of each parameter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>point</strong> : dict</p>
<blockquote>
<div><p><code class="xref py py-func docutils literal"><span class="pre">pymc3.model.Point()</span></code></p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>source_points</strong> : list</p>
<blockquote class="last">
<div><p>of <code class="xref py py-func docutils literal"><span class="pre">pymc3.model.Point()</span></code></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.transform_sources">
<code class="descclassname">utility.</code><code class="descname">transform_sources</code><span class="sig-paren">(</span><em>sources</em>, <em>datasets</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#transform_sources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.transform_sources" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms a list of <a class="reference internal" href="#heart.RectangularSource" title="heart.RectangularSource"><code class="xref py py-class docutils literal"><span class="pre">heart.RectangularSource</span></code></a> to a dictionary of
sources <a class="reference internal" href="#pscmp.PsCmpRectangularSource" title="pscmp.PsCmpRectangularSource"><code class="xref py py-class docutils literal"><span class="pre">pscmp.PsCmpRectangularSource</span></code></a> for geodetic data and
<a class="reference external" href="http://pyrocko.org/v0.3/gf.html#pyrocko.gf.seismosizer.RectangularSource" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.RectangularSource</span></code></a> for seismic data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>sources</strong> : list</p>
<blockquote>
<div><p><a class="reference internal" href="#heart.RectangularSource" title="heart.RectangularSource"><code class="xref py py-class docutils literal"><span class="pre">heart.RectangularSource</span></code></a></p>
</div></blockquote>
<p><strong>datasets</strong> : list</p>
<blockquote>
<div><p>of strings with the datasets to be included &#8216;geodetic&#8217; or &#8216;seismic&#8217;</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>d</strong> : dict</p>
<blockquote class="last">
<div><p>of transformed sources with datasets as keys</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.update_source">
<code class="descclassname">utility.</code><code class="descname">update_source</code><span class="sig-paren">(</span><em>source</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#update_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.update_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Update source keeping stf and source params seperate.
Modifies input source Object!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>source</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/gf.html#pyrocko.gf.seismosizer.Source" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Source</span></code></a></p>
<p><strong>point</strong> : dict</p>
<blockquote class="last">
<div><p><code class="xref py py-func docutils literal"><span class="pre">pymc3.model.Point()</span></code></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.utm_to_loc">
<code class="descclassname">utility.</code><code class="descname">utm_to_loc</code><span class="sig-paren">(</span><em>utmx</em>, <em>utmy</em>, <em>zone</em>, <em>event</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#utm_to_loc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.utm_to_loc" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert UTM[m] to local coordinates with reference to the
<a class="reference external" href="http://pyrocko.org/v0.3/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>utmx</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>with UTM easting</p>
</div></blockquote>
<p><strong>utmy</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>with UTM northing</p>
</div></blockquote>
<p><strong>zone</strong> : int</p>
<blockquote>
<div><p>number with utm zone</p>
</div></blockquote>
<p><strong>event</strong> : <a class="reference external" href="http://pyrocko.org/v0.3/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>locx</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>Local coordinates [m] for x direction (East)</p>
</div></blockquote>
<p><strong>locy</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote class="last">
<div><p>Local coordinates [m] for y direction (North)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.utm_to_lonlat">
<code class="descclassname">utility.</code><code class="descname">utm_to_lonlat</code><span class="sig-paren">(</span><em>utmx</em>, <em>utmy</em>, <em>zone</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#utm_to_lonlat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.utm_to_lonlat" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert UTM[m] to Latitude and Longitude coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>utmx</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>with UTM easting</p>
</div></blockquote>
<p><strong>utmy</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
<blockquote>
<div><p>with UTM northing</p>
</div></blockquote>
<p><strong>zone</strong> : int</p>
<blockquote>
<div><p>number with utm zone</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>lon</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> Longitude [decimal deg]</p>
<p class="last"><strong>lat</strong> : <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> Latitude [decimal deg]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.weed_data_traces">
<code class="descclassname">utility.</code><code class="descname">weed_data_traces</code><span class="sig-paren">(</span><em>data_traces</em>, <em>stations</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#weed_data_traces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.weed_data_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Throw out data traces belonging to stations that are not in the
stations list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data_traces</strong> : list</p>
<blockquote>
<div><p>of <a class="reference external" href="http://pyrocko.org/v0.3/trace.html#pyrocko.trace.Trace" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.Trace</span></code></a></p>
</div></blockquote>
<p><strong>stations</strong> : list</p>
<blockquote>
<div><p>of <a class="reference external" href="http://pyrocko.org/v0.3/model.html#pyrocko.model.Station" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Station</span></code></a></p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>weeded_data_traces</strong> : list</p>
<blockquote class="last">
<div><p>of <a class="reference external" href="http://pyrocko.org/v0.3/trace.html#pyrocko.trace.Trace" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.Trace</span></code></a></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.weed_input_rvs">
<code class="descclassname">utility.</code><code class="descname">weed_input_rvs</code><span class="sig-paren">(</span><em>input_rvs</em>, <em>dataset</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#weed_input_rvs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.weed_input_rvs" title="Permalink to this definition">¶</a></dt>
<dd><p>Throw out random variables (RV)s from input list that are not included by
the respective synthetics generating functions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>input_rvs</strong> : list</p>
<blockquote>
<div><p>of <code class="xref py py-class docutils literal"><span class="pre">pymc3.Distribution</span></code></p>
</div></blockquote>
<p><strong>mode</strong> : str</p>
<blockquote>
<div><p>&#8216;seismic&#8217; or &#8216;geodetic&#8217; determining the discarded RVs</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>weeded_input_rvs</strong> : list</p>
<blockquote class="last">
<div><p>of <code class="xref py py-class docutils literal"><span class="pre">pymc3.Distribution</span></code></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.weed_stations">
<code class="descclassname">utility.</code><code class="descname">weed_stations</code><span class="sig-paren">(</span><em>stations</em>, <em>event</em>, <em>distances=(30.0</em>, <em>90.0)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#weed_stations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.weed_stations" title="Permalink to this definition">¶</a></dt>
<dd><p>Weed stations, that are not within the given distance range(min, max) to
a reference event.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>stations</strong> : list</p>
<blockquote>
<div><p>of <a class="reference external" href="http://pyrocko.org/v0.3/model.html#pyrocko.model.Station" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Station</span></code></a></p>
</div></blockquote>
<p><strong>event</strong></p>
<blockquote>
<div><p><a class="reference external" href="http://pyrocko.org/v0.3/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a></p>
</div></blockquote>
<p><strong>distances</strong> : tuple</p>
<blockquote>
<div><p>of minimum and maximum distance [deg] for station-event pairs</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>weeded_stations</strong> : list</p>
<blockquote class="last">
<div><p>of <a class="reference external" href="http://pyrocko.org/v0.3/model.html#pyrocko.model.Station" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Station</span></code></a></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-plotting">
<span id="the-plotting-module"></span><h2>The <a class="reference internal" href="#module-plotting" title="plotting"><code class="xref py py-mod docutils literal"><span class="pre">plotting</span></code></a> Module<a class="headerlink" href="#module-plotting" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="plotting.histplot_op">
<code class="descclassname">plotting.</code><code class="descname">histplot_op</code><span class="sig-paren">(</span><em>ax</em>, <em>data</em>, <em>alpha=0.35</em>, <em>color=None</em>, <em>bins=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotting.html#histplot_op"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plotting.histplot_op" title="Permalink to this definition">¶</a></dt>
<dd><p>Modified from pymc3. Additional color argument.</p>
</dd></dl>

<dl class="function">
<dt id="plotting.n_model_plot">
<code class="descclassname">plotting.</code><code class="descname">n_model_plot</code><span class="sig-paren">(</span><em>models</em>, <em>axes=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotting.html#n_model_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plotting.n_model_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot cake layered earth models.</p>
</dd></dl>

<dl class="function">
<dt id="plotting.plot">
<code class="descclassname">plotting.</code><code class="descname">plot</code><span class="sig-paren">(</span><em>uwifg</em>, <em>point_size=20</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotting.html#plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plotting.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Very simple scatter plot of given IFG for fast inspections.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>point_size</strong> : int</p>
<blockquote class="last">
<div><p>determines the size of the scatter plot points</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="plotting.plot_all_posteriors">
<code class="descclassname">plotting.</code><code class="descname">plot_all_posteriors</code><span class="sig-paren">(</span><em>problem</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotting.html#plot_all_posteriors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plotting.plot_all_posteriors" title="Permalink to this definition">¶</a></dt>
<dd><p>Loop through all stages and plot the pdfs of the variables.
Inputs: problem Object</p>
</dd></dl>

<dl class="function">
<dt id="plotting.plot_matrix">
<code class="descclassname">plotting.</code><code class="descname">plot_matrix</code><span class="sig-paren">(</span><em>A</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotting.html#plot_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plotting.plot_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Very simple plot of a matrix for fast inspections.</p>
</dd></dl>

<dl class="function">
<dt id="plotting.stage_posteriors">
<code class="descclassname">plotting.</code><code class="descname">stage_posteriors</code><span class="sig-paren">(</span><em>mtrace</em>, <em>n_steps</em>, <em>output='display'</em>, <em>outpath='./stage_posterior.png'</em>, <em>lines=None</em>, <em>style='lines'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotting.html#stage_posteriors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plotting.stage_posteriors" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot variable posteriors from certain stage of the ATMIP algorithm.
n_steps of chains to select last samples of each trace.
lines - a point to draw vertical lines for</p>
</dd></dl>

<dl class="function">
<dt id="plotting.traceplot">
<code class="descclassname">plotting.</code><code class="descname">traceplot</code><span class="sig-paren">(</span><em>trace</em>, <em>varnames=None</em>, <em>transform=&lt;function &lt;lambda&gt; at 0xa362050&gt;</em>, <em>figsize=None</em>, <em>lines=None</em>, <em>combined=False</em>, <em>grid=False</em>, <em>varbins=None</em>, <em>nbins=40</em>, <em>alpha=0.35</em>, <em>priors=None</em>, <em>prior_alpha=1</em>, <em>prior_style='--'</em>, <em>ax=None</em>, <em>posterior=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotting.html#traceplot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plotting.traceplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots posterior pdfs as histograms from multiple mtrace objects.</p>
<p>Modified from pymc3.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>trace</strong> : result of MCMC run</p>
<p><strong>varnames</strong> : list of variable names</p>
<blockquote>
<div><p>Variables to be plotted, if None all variable are plotted</p>
</div></blockquote>
<p><strong>transform</strong> : callable</p>
<blockquote>
<div><p>Function to transform data (defaults to identity)</p>
</div></blockquote>
<p><strong>posterior</strong> : str</p>
<blockquote>
<div><p>To mark posterior value in distribution &#8216;max&#8217;, &#8216;min&#8217;, &#8216;mean&#8217;</p>
</div></blockquote>
<p><strong>figsize</strong> : figure size tuple</p>
<blockquote>
<div><p>If None, size is (12, num of variables * 2) inch</p>
</div></blockquote>
<p><strong>lines</strong> : dict</p>
<blockquote>
<div><p>Dictionary of variable name / value  to be overplotted as vertical
lines to the posteriors and horizontal lines on sample values
e.g. mean of posteriors, true values of a simulation</p>
</div></blockquote>
<p><strong>combined</strong> : bool</p>
<blockquote>
<div><p>Flag for combining multiple chains into a single chain. If False
(default), chains will be plotted separately.</p>
</div></blockquote>
<p><strong>grid</strong> : bool</p>
<blockquote>
<div><p>Flag for adding gridlines to histogram. Defaults to True.</p>
</div></blockquote>
<p><strong>varbins</strong> : list of arrays</p>
<blockquote>
<div><p>List containing the binning arrays for the variables, if None they will
be created.</p>
</div></blockquote>
<p><strong>nbins</strong> : int</p>
<blockquote>
<div><p>Number of bins for each histogram</p>
</div></blockquote>
<p><strong>alpha</strong> : float</p>
<blockquote>
<div><p>Alpha value for plot line. Defaults to 0.35.</p>
</div></blockquote>
<p><strong>ax</strong> : axes</p>
<blockquote>
<div><p>Matplotlib axes. Defaults to None.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>ax</strong> : matplotlib axes</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-inputf">
<span id="the-inputf-module"></span><h2>The <a class="reference internal" href="#module-inputf" title="inputf"><code class="xref py py-mod docutils literal"><span class="pre">inputf</span></code></a> Module<a class="headerlink" href="#module-inputf" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="inputf.load_SAR_data">
<code class="descclassname">inputf.</code><code class="descname">load_SAR_data</code><span class="sig-paren">(</span><em>datadir</em>, <em>tracks</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputf.html#load_SAR_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#inputf.load_SAR_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Load SAR data in given directory and tracks.
Returns Diff_IFG objects.</p>
</dd></dl>

<dl class="function">
<dt id="inputf.load_and_blacklist_stations">
<code class="descclassname">inputf.</code><code class="descname">load_and_blacklist_stations</code><span class="sig-paren">(</span><em>datadir</em>, <em>blacklist</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputf.html#load_and_blacklist_stations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#inputf.load_and_blacklist_stations" title="Permalink to this definition">¶</a></dt>
<dd><p>Load stations from autokiwi output and apply blacklist</p>
</dd></dl>

<dl class="function">
<dt id="inputf.load_data_traces">
<code class="descclassname">inputf.</code><code class="descname">load_data_traces</code><span class="sig-paren">(</span><em>datadir</em>, <em>stations</em>, <em>channels</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputf.html#load_data_traces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#inputf.load_data_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Load data traces for the given stations and channels.</p>
</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="installation.html" class="btn btn-neutral" title="Installation instructions" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Hannes Vasyura-Bathke.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>