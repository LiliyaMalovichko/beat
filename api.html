<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>API Reference &#8212; beat 1.0beta documentation</title>
    <link rel="stylesheet" href="_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0beta',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Scenarios" href="examples.html" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <link rel="shortcut icon" type="image/png" href="_static/favicon.png" />
    <meta name="viewport" content="width=device-width,initial-scale=0.8">
    
    
      <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto+Slab">
    
    
    <script type="text/javascript" src="_static/jquery.gifplayer.js"></script>
    <link rel="stylesheet" type="text/css" href="_static/gifplayer.css">
    <!-- Piwik -->
    <script type="text/javascript">
      var _paq = _paq || [];
      /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function() {
        var u="//pyrocko.org/pwk/";
        _paq.push(['setTrackerUrl', u+'piwik.php']);
        _paq.push(['setSiteId', '1']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
      })();
    </script>
    <noscript>
    <img src="https://pyrocko.org/pwk/piwik.php?idsite=1&rec=1" style="border:0" alt="" />
    </noscript>

  </head>
  <body>

    <div class="related">
      <h3>Navigation</h3>
        <ul>
          <li class="responsive-menu"><a href="#sidebar-anchor" title="Navigation">&#9776;</a></li>
          <li>
            <img src='https://pyrocko.org/_static/pyrocko.svg' class='pyrocko-button' onclick="window.location = 'https://pyrocko.org';">
          </li>
           &#187;
          <li>
              <a href="index.html">beat 1.0beta documentation</a> &#187;
          </li> 
        </ul>
    </div>
    

  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="api-reference">
<h1>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-heart">
<span id="the-heart-module"></span><h2>The <a class="reference internal" href="#module-heart" title="heart"><code class="xref py py-mod docutils literal"><span class="pre">heart</span></code></a> Module<a class="headerlink" href="#module-heart" title="Permalink to this headline">¶</a></h2>
<p>Core module with functions to calculate Greens Functions and synthetics.
Also contains main classes for setup specific parameters.</p>
<dl class="class">
<dt id="heart.ArrivalTaper">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">ArrivalTaper</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#ArrivalTaper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.ArrivalTaper" title="Permalink to this definition">¶</a></dt>
<dd><p>Cosine arrival Taper.</p>
<dl class="gattribute">
<dt id="heart.ArrivalTaper.a">
<em class="property">♦ </em><code class="descname">a</code><a class="headerlink" href="#heart.ArrivalTaper.a" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">-15.0</span></code></p>
<p>start of fading in; [s] w.r.t. phase arrival</p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.ArrivalTaper.b">
<em class="property">♦ </em><code class="descname">b</code><a class="headerlink" href="#heart.ArrivalTaper.b" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">-10.0</span></code></p>
<p>end of fading in; [s] w.r.t. phase arrival</p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.ArrivalTaper.c">
<em class="property">♦ </em><code class="descname">c</code><a class="headerlink" href="#heart.ArrivalTaper.c" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">50.0</span></code></p>
<p>start of fading out; [s] w.r.t. phase arrival</p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.ArrivalTaper.d">
<em class="property">♦ </em><code class="descname">d</code><a class="headerlink" href="#heart.ArrivalTaper.d" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">55.0</span></code></p>
<p>end of fading out; [s] w.r.t phase arrival</p>
</dd></dl>

<dl class="method">
<dt id="heart.ArrivalTaper.get_pyrocko_taper">
<code class="descname">get_pyrocko_taper</code><span class="sig-paren">(</span><em>arrival_time</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#ArrivalTaper.get_pyrocko_taper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.ArrivalTaper.get_pyrocko_taper" title="Permalink to this definition">¶</a></dt>
<dd><p>Get pyrocko CosTaper object that may be applied to trace operations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>arrival_time</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – [s] of the reference time around which the taper will be applied</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://pyrocko.org/v0.3/library/reference/trace.html#pyrocko.trace.CosTaper" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.CosTaper</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="heart.ArrivalTaper.nsamples">
<code class="descname">nsamples</code><span class="sig-paren">(</span><em>sample_rate</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#ArrivalTaper.nsamples"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.ArrivalTaper.nsamples" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of samples a tapered trace would have given
its sample rate.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="heart.Covariance">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">Covariance</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#Covariance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.Covariance" title="Permalink to this definition">¶</a></dt>
<dd><p>Covariance of an observation. Holds data and model prediction uncertainties
for one observation object.</p>
<dl class="gattribute">
<dt id="heart.Covariance.data">
<em class="property">♦ </em><code class="descname">data</code><a class="headerlink" href="#heart.Covariance.data" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts_array.Array</span></code>), <em>optional</em></p>
<p>Data covariance matrix</p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.Covariance.pred_g">
<em class="property">♦ </em><code class="descname">pred_g</code><a class="headerlink" href="#heart.Covariance.pred_g" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts_array.Array</span></code>), <em>optional</em></p>
<p>Model prediction covariance matrix, fault geometry</p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.Covariance.pred_v">
<em class="property">♦ </em><code class="descname">pred_v</code><a class="headerlink" href="#heart.Covariance.pred_v" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts_array.Array</span></code>), <em>optional</em></p>
<p>Model prediction covariance matrix, velocity model</p>
</dd></dl>

<dl class="attribute">
<dt id="heart.Covariance.chol">
<code class="descname">chol</code><a class="headerlink" href="#heart.Covariance.chol" title="Permalink to this definition">¶</a></dt>
<dd><p>Cholesky decomposition of ALL uncertainty covariance matrices.</p>
</dd></dl>

<dl class="attribute">
<dt id="heart.Covariance.chol_inverse">
<code class="descname">chol_inverse</code><a class="headerlink" href="#heart.Covariance.chol_inverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Cholesky decomposition of the Inverse of the Covariance matrix of
ALL uncertainty covariance
matrices. To be used as weight in the optimization.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">lower triangle of the cholesky decomposition</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="heart.Covariance.inverse">
<code class="descname">inverse</code><a class="headerlink" href="#heart.Covariance.inverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and invert ALL uncertainty covariance Matrices.</p>
</dd></dl>

<dl class="attribute">
<dt id="heart.Covariance.inverse_d">
<code class="descname">inverse_d</code><a class="headerlink" href="#heart.Covariance.inverse_d" title="Permalink to this definition">¶</a></dt>
<dd><p>Invert DATA covariance Matrix.</p>
</dd></dl>

<dl class="attribute">
<dt id="heart.Covariance.inverse_p">
<code class="descname">inverse_p</code><a class="headerlink" href="#heart.Covariance.inverse_p" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and invert different MODEL uncertainty covariance Matrices.</p>
</dd></dl>

<dl class="attribute">
<dt id="heart.Covariance.log_pdet">
<code class="descname">log_pdet</code><a class="headerlink" href="#heart.Covariance.log_pdet" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the log of the determinant of the total matrix.</p>
</dd></dl>

<dl class="method">
<dt id="heart.Covariance.update_slog_pdet">
<code class="descname">update_slog_pdet</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#Covariance.update_slog_pdet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.Covariance.update_slog_pdet" title="Permalink to this definition">¶</a></dt>
<dd><p>Update shared variable with current log_norm_factor (lnf)
(for theano models).</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="heart.DataWaveformCollection">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">DataWaveformCollection</code><span class="sig-paren">(</span><em>stations</em>, <em>waveforms=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#DataWaveformCollection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.DataWaveformCollection" title="Permalink to this definition">¶</a></dt>
<dd><p>Collection of available datasets, data-weights, waveforms and
DynamicTargets used to create synthetics.</p>
<p>Is used to return Mappings of the waveforms of interest to fit to the
involved data, weights and synthetics generating objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>waveforms</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of strings of tabulated phases that are to be used for misfit
calculation</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="heart.DataWaveformCollection.get_station_correction_idxs">
<code class="descname">get_station_correction_idxs</code><span class="sig-paren">(</span><em>targets</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#DataWaveformCollection.get_station_correction_idxs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.DataWaveformCollection.get_station_correction_idxs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns array of indexes to problem stations,</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>targets</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – containing <a class="reference internal" href="#heart.DynamicTarget" title="heart.DynamicTarget"><code class="xref py py-class docutils literal"><span class="pre">DynamicTarget</span></code></a> Objects</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Not to mix up with the wavemap specific stations!</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="heart.DiffIFG">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">DiffIFG</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#DiffIFG"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.DiffIFG" title="Permalink to this definition">¶</a></dt>
<dd><p>Differential Interferogram class as geodetic target for the calculation
of synthetics and container for SAR data.</p>
<dl class="gattribute">
<dt id="heart.DiffIFG.unwrapped_phase">
<em class="property">♦ </em><code class="descname">unwrapped_phase</code><a class="headerlink" href="#heart.DiffIFG.unwrapped_phase" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts_array.Array</span></code>), <em>optional</em></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.DiffIFG.coherence">
<em class="property">♦ </em><code class="descname">coherence</code><a class="headerlink" href="#heart.DiffIFG.coherence" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts_array.Array</span></code>), <em>optional</em></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.DiffIFG.reference_point">
<em class="property">♦ </em><code class="descname">reference_point</code><a class="headerlink" href="#heart.DiffIFG.reference_point" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">tuple</span></code> of 2 <code class="docutils literal"><span class="pre">float</span></code> objects, <em>optional</em></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.DiffIFG.reference_value">
<em class="property">♦ </em><code class="descname">reference_value</code><a class="headerlink" href="#heart.DiffIFG.reference_value" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>optional</em>, <em>default:</em> <code class="docutils literal"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.DiffIFG.displacement">
<em class="property">♦ </em><code class="descname">displacement</code><a class="headerlink" href="#heart.DiffIFG.displacement" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts_array.Array</span></code>), <em>optional</em></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.DiffIFG.quadtree">
<em class="property">♦ </em><code class="descname">quadtree</code><a class="headerlink" href="#heart.DiffIFG.quadtree" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#heart.Quadtree" title="heart.Quadtree"><code class="xref py py-class docutils literal"><span class="pre">Quadtree</span></code></a>, <em>optional</em></p>
<p>Quadtree corner coordinate information for plotting.</p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.DiffIFG.covariance">
<em class="property">♦ </em><code class="descname">covariance</code><a class="headerlink" href="#heart.DiffIFG.covariance" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#heart.Covariance" title="heart.Covariance"><code class="xref py py-class docutils literal"><span class="pre">Covariance</span></code></a>, <em>optional</em></p>
<p><a class="reference internal" href="#heart.Covariance" title="heart.Covariance"><code class="xref py py-class docutils literal"><span class="pre">Covariance</span></code></a> that holds dataand model prediction covariance matrixes</p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.DiffIFG.odw">
<em class="property">♦ </em><code class="descname">odw</code><a class="headerlink" href="#heart.DiffIFG.odw" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts_array.Array</span></code>), <em>optional</em></p>
<p>Overlapping data weights, additional weight factor to thedataset for overlaps with other datasets</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="heart.DynamicTarget">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">DynamicTarget</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#DynamicTarget"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.DynamicTarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
<dl class="method">
<dt id="heart.DynamicTarget.update_target_times">
<code class="descname">update_target_times</code><span class="sig-paren">(</span><em>sources=None</em>, <em>taperer=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#DynamicTarget.update_target_times"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.DynamicTarget.update_target_times" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the target attributes tmin and tmax to do the stacking
only in this interval. Adds twice taper fade in time to each taper
side.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>source</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – containing <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.Source" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Source</span></code></a> Objects</li>
<li><strong>taperer</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/trace.html#pyrocko.trace.CosTaper" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.CosTaper</span></code></a>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="heart.Filter">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">Filter</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#Filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.Filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter object defining frequency range of traces after filtering</p>
<dl class="gattribute">
<dt id="heart.Filter.lower_corner">
<em class="property">♦ </em><code class="descname">lower_corner</code><a class="headerlink" href="#heart.Filter.lower_corner" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.001</span></code></p>
<p>Lower corner frequency</p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.Filter.upper_corner">
<em class="property">♦ </em><code class="descname">upper_corner</code><a class="headerlink" href="#heart.Filter.upper_corner" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.1</span></code></p>
<p>Upper corner frequency</p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.Filter.order">
<em class="property">♦ </em><code class="descname">order</code><a class="headerlink" href="#heart.Filter.order" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">4</span></code></p>
<p>order of filter, the higher the steeper</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="heart.GPSComponent">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">GPSComponent</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#GPSComponent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.GPSComponent" title="Permalink to this definition">¶</a></dt>
<dd><p>Object holding the GPS data for a single station.</p>
<dl class="gattribute">
<dt id="heart.GPSComponent.name">
<em class="property">♦ </em><code class="descname">name</code><a class="headerlink" href="#heart.GPSComponent.name" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'E'</span></code></p>
<p>direction of measurement, E/N/U</p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.GPSComponent.v">
<em class="property">♦ </em><code class="descname">v</code><a class="headerlink" href="#heart.GPSComponent.v" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.1</span></code></p>
<p>Average velocity in [m/yr]</p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.GPSComponent.sigma">
<em class="property">♦ </em><code class="descname">sigma</code><a class="headerlink" href="#heart.GPSComponent.sigma" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.01</span></code></p>
<p>sigma measurement error (std) [m/yr]</p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.GPSComponent.unit">
<em class="property">♦ </em><code class="descname">unit</code><a class="headerlink" href="#heart.GPSComponent.unit" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'m/yr'</span></code></p>
<p>Unit of velocity v</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="heart.GPSCompoundComponent">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">GPSCompoundComponent</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#GPSCompoundComponent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.GPSCompoundComponent" title="Permalink to this definition">¶</a></dt>
<dd><p>Collecting many GPS components and merging them into arrays.
Make synthetics generation more efficient.</p>
<dl class="gattribute">
<dt id="heart.GPSCompoundComponent.los_vector">
<em class="property">♦ </em><code class="descname">los_vector</code><a class="headerlink" href="#heart.GPSCompoundComponent.los_vector" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts_array.Array</span></code>), <em>optional</em></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.GPSCompoundComponent.displacement">
<em class="property">♦ </em><code class="descname">displacement</code><a class="headerlink" href="#heart.GPSCompoundComponent.displacement" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts_array.Array</span></code>), <em>optional</em></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.GPSCompoundComponent.name">
<em class="property">♦ </em><code class="descname">name</code><a class="headerlink" href="#heart.GPSCompoundComponent.name" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'E'</span></code></p>
<p>direction of measurement, E/N/U</p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.GPSCompoundComponent.station_names">
<em class="property">♦ </em><code class="descname">station_names</code><a class="headerlink" href="#heart.GPSCompoundComponent.station_names" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">list</span></code> of <code class="docutils literal"><span class="pre">str</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">[]</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.GPSCompoundComponent.covariance">
<em class="property">♦ </em><code class="descname">covariance</code><a class="headerlink" href="#heart.GPSCompoundComponent.covariance" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#heart.Covariance" title="heart.Covariance"><code class="xref py py-class docutils literal"><span class="pre">Covariance</span></code></a>, <em>optional</em></p>
<p><a class="reference internal" href="#heart.Covariance" title="heart.Covariance"><code class="xref py py-class docutils literal"><span class="pre">Covariance</span></code></a> that holds dataand model prediction covariance matrixes</p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.GPSCompoundComponent.odw">
<em class="property">♦ </em><code class="descname">odw</code><a class="headerlink" href="#heart.GPSCompoundComponent.odw" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts_array.Array</span></code>), <em>optional</em></p>
<p>Overlapping data weights, additional weight factor to thedataset for overlaps with other datasets</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="heart.GPSDataset">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">GPSDataset</code><span class="sig-paren">(</span><em>name=None</em>, <em>stations=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#GPSDataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.GPSDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Collecting many GPS stations into one object. Easy managing and assessing
single stations and also merging all the stations components into compound
components for fast and easy modeling.</p>
</dd></dl>

<dl class="class">
<dt id="heart.GPSStation">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">GPSStation</code><span class="sig-paren">(</span><em>network=''</em>, <em>station=''</em>, <em>location=''</em>, <em>lat=0.0</em>, <em>lon=0.0</em>, <em>elevation=0.0</em>, <em>depth=0.0</em>, <em>name=''</em>, <em>channels=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#GPSStation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.GPSStation" title="Permalink to this definition">¶</a></dt>
<dd><p>GPS station object, holds the displacment components and has all pyrocko
station functionality.</p>
<dl class="gattribute">
<dt id="heart.GPSStation.components">
<em class="property">♦ </em><code class="descname">components</code><a class="headerlink" href="#heart.GPSStation.components" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">list</span></code> of <a class="reference internal" href="#heart.GPSComponent" title="heart.GPSComponent"><code class="xref py py-class docutils literal"><span class="pre">GPSComponent</span></code></a> objects, <em>default:</em> <code class="docutils literal"><span class="pre">[]</span></code></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="heart.GeodeticDataset">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">GeodeticDataset</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#GeodeticDataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.GeodeticDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Overall geodetic data set class</p>
<dl class="gattribute">
<dt id="heart.GeodeticDataset.typ">
<em class="property">♦ </em><code class="descname">typ</code><a class="headerlink" href="#heart.GeodeticDataset.typ" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'SAR'</span></code></p>
<p>Type of geodetic data, e.g. SAR, GPS, …</p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.GeodeticDataset.name">
<em class="property">♦ </em><code class="descname">name</code><a class="headerlink" href="#heart.GeodeticDataset.name" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'A'</span></code></p>
<p>e.g. GPS station name or InSAR satellite track</p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.GeodeticDataset.utmn">
<em class="property">♦ </em><code class="descname">utmn</code><a class="headerlink" href="#heart.GeodeticDataset.utmn" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts_array.Array</span></code>), <em>optional</em></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.GeodeticDataset.utme">
<em class="property">♦ </em><code class="descname">utme</code><a class="headerlink" href="#heart.GeodeticDataset.utme" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts_array.Array</span></code>), <em>optional</em></p>
</dd></dl>

<dl class="method">
<dt id="heart.GeodeticDataset.update_local_coords">
<code class="descname">update_local_coords</code><span class="sig-paren">(</span><em>loc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#GeodeticDataset.update_local_coords"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.GeodeticDataset.update_local_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate local coordinates with respect to given Location.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>loc</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.meta.Location" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.meta.Location</span></code></a>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (n_points, 3)</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="heart.GeodeticResult">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">GeodeticResult</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#GeodeticResult"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.GeodeticResult" title="Permalink to this definition">¶</a></dt>
<dd><p>Result object assembling different geodetic data.</p>
<dl class="gattribute">
<dt id="heart.GeodeticResult.processed_obs">
<em class="property">♦ </em><code class="descname">processed_obs</code><a class="headerlink" href="#heart.GeodeticResult.processed_obs" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#heart.GeodeticDataset" title="heart.GeodeticDataset"><code class="xref py py-class docutils literal"><span class="pre">GeodeticDataset</span></code></a>, <em>optional</em></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.GeodeticResult.processed_syn">
<em class="property">♦ </em><code class="descname">processed_syn</code><a class="headerlink" href="#heart.GeodeticResult.processed_syn" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#heart.GeodeticDataset" title="heart.GeodeticDataset"><code class="xref py py-class docutils literal"><span class="pre">GeodeticDataset</span></code></a>, <em>optional</em></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.GeodeticResult.processed_res">
<em class="property">♦ </em><code class="descname">processed_res</code><a class="headerlink" href="#heart.GeodeticResult.processed_res" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#heart.GeodeticDataset" title="heart.GeodeticDataset"><code class="xref py py-class docutils literal"><span class="pre">GeodeticDataset</span></code></a>, <em>optional</em></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.GeodeticResult.llk">
<em class="property">♦ </em><code class="descname">llk</code><a class="headerlink" href="#heart.GeodeticResult.llk" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>optional</em>, <em>default:</em> <code class="docutils literal"><span class="pre">0.0</span></code></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="heart.IFG">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">IFG</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#IFG"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.IFG" title="Permalink to this definition">¶</a></dt>
<dd><p>Interferogram class as a dataset in the optimization.</p>
<dl class="gattribute">
<dt id="heart.IFG.master">
<em class="property">♦ </em><code class="descname">master</code><a class="headerlink" href="#heart.IFG.master" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>optional</em></p>
<p>Acquisition time of master image YYYY-MM-DD</p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.IFG.slave">
<em class="property">♦ </em><code class="descname">slave</code><a class="headerlink" href="#heart.IFG.slave" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>optional</em></p>
<p>Acquisition time of slave image YYYY-MM-DD</p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.IFG.amplitude">
<em class="property">♦ </em><code class="descname">amplitude</code><a class="headerlink" href="#heart.IFG.amplitude" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts_array.Array</span></code>), <em>optional</em></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.IFG.wrapped_phase">
<em class="property">♦ </em><code class="descname">wrapped_phase</code><a class="headerlink" href="#heart.IFG.wrapped_phase" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts_array.Array</span></code>), <em>optional</em></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.IFG.incidence">
<em class="property">♦ </em><code class="descname">incidence</code><a class="headerlink" href="#heart.IFG.incidence" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts_array.Array</span></code>), <em>optional</em></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.IFG.heading">
<em class="property">♦ </em><code class="descname">heading</code><a class="headerlink" href="#heart.IFG.heading" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts_array.Array</span></code>), <em>optional</em></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.IFG.los_vector">
<em class="property">♦ </em><code class="descname">los_vector</code><a class="headerlink" href="#heart.IFG.los_vector" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts_array.Array</span></code>), <em>optional</em></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.IFG.satellite">
<em class="property">♦ </em><code class="descname">satellite</code><a class="headerlink" href="#heart.IFG.satellite" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'Envisat'</span></code></p>
</dd></dl>

<dl class="method">
<dt id="heart.IFG.update_los_vector">
<code class="descname">update_los_vector</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#IFG.update_los_vector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.IFG.update_los_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate LOS vector for given attributes incidence and heading angles.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (n_points, 3)</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="heart.Parameter">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">Parameter</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#Parameter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.Parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimization parameter determines the bounds of the search space.</p>
<dl class="gattribute">
<dt id="heart.Parameter.name">
<em class="property">♦ </em><code class="descname">name</code><a class="headerlink" href="#heart.Parameter.name" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'depth'</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.Parameter.form">
<em class="property">♦ </em><code class="descname">form</code><a class="headerlink" href="#heart.Parameter.form" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'Uniform'</span></code></p>
<p>Type of prior distribution to use. Options: “Uniform”, …</p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.Parameter.lower">
<em class="property">♦ </em><code class="descname">lower</code><a class="headerlink" href="#heart.Parameter.lower" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts_array.Array</span></code>), <em>default:</em> <code class="docutils literal"><span class="pre">array([0.,</span> <span class="pre">0.])</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.Parameter.upper">
<em class="property">♦ </em><code class="descname">upper</code><a class="headerlink" href="#heart.Parameter.upper" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts_array.Array</span></code>), <em>default:</em> <code class="docutils literal"><span class="pre">array([1.,</span> <span class="pre">1.])</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.Parameter.testvalue">
<em class="property">♦ </em><code class="descname">testvalue</code><a class="headerlink" href="#heart.Parameter.testvalue" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts_array.Array</span></code>), <em>default:</em> <code class="docutils literal"><span class="pre">array([0.5,</span> <span class="pre">0.5])</span></code></p>
</dd></dl>

<dl class="method">
<dt id="heart.Parameter.random">
<code class="descname">random</code><span class="sig-paren">(</span><em>dimension=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#Parameter.random"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.Parameter.random" title="Permalink to this definition">¶</a></dt>
<dd><p>Create random samples within the parameter bounds.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dimensions</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – number of draws from distribution</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> of size (n, m)</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="heart.Quadtree">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">Quadtree</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#Quadtree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.Quadtree" title="Permalink to this definition">¶</a></dt>
<dd><p>In the point coordinates are assumed to be te lower left corner
of the quadtree leaves.</p>
<dl class="gattribute">
<dt id="heart.Quadtree.sizeN">
<em class="property">♦ </em><code class="descname">sizeN</code><a class="headerlink" href="#heart.Quadtree.sizeN" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts_array.Array</span></code>), <em>optional</em></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.Quadtree.sizeE">
<em class="property">♦ </em><code class="descname">sizeE</code><a class="headerlink" href="#heart.Quadtree.sizeE" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts_array.Array</span></code>), <em>optional</em></p>
</dd></dl>

<dl class="method">
<dt id="heart.Quadtree.iter_leaves">
<code class="descname">iter_leaves</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#Quadtree.iter_leaves"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.Quadtree.iter_leaves" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over the quadtree leaves, returns lower left easting and
northing together with the width and height</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="heart.ReferenceLocation">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">ReferenceLocation</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#ReferenceLocation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.ReferenceLocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Reference Location for Green’s Function store calculations!</p>
<dl class="gattribute">
<dt id="heart.ReferenceLocation.station">
<em class="property">♦ </em><code class="descname">station</code><a class="headerlink" href="#heart.ReferenceLocation.station" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'Store_Name'</span></code></p>
<p>This mimics the station.station attribute which determines the store name!</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="heart.SeismicDataset">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">SeismicDataset</code><span class="sig-paren">(</span><em>network=''</em>, <em>station='STA'</em>, <em>location=''</em>, <em>channel=''</em>, <em>tmin=0.0</em>, <em>tmax=None</em>, <em>deltat=1.0</em>, <em>ydata=None</em>, <em>mtime=None</em>, <em>meta=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#SeismicDataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.SeismicDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Extension to <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/trace.html#pyrocko.trace.Trace" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.Trace</span></code></a> to have
<a class="reference internal" href="#heart.Covariance" title="heart.Covariance"><code class="xref py py-class docutils literal"><span class="pre">Covariance</span></code></a> as an attribute.</p>
</dd></dl>

<dl class="class">
<dt id="heart.SeismicResult">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">SeismicResult</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#SeismicResult"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.SeismicResult" title="Permalink to this definition">¶</a></dt>
<dd><p>Result object assembling different traces of misfit.</p>
<dl class="gattribute">
<dt id="heart.SeismicResult.processed_obs">
<em class="property">♦ </em><code class="descname">processed_obs</code><a class="headerlink" href="#heart.SeismicResult.processed_obs" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#heart.Trace" title="heart.Trace"><code class="xref py py-class docutils literal"><span class="pre">Trace</span></code></a>, <em>optional</em></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.SeismicResult.filtered_obs">
<em class="property">♦ </em><code class="descname">filtered_obs</code><a class="headerlink" href="#heart.SeismicResult.filtered_obs" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#heart.Trace" title="heart.Trace"><code class="xref py py-class docutils literal"><span class="pre">Trace</span></code></a>, <em>optional</em></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.SeismicResult.processed_syn">
<em class="property">♦ </em><code class="descname">processed_syn</code><a class="headerlink" href="#heart.SeismicResult.processed_syn" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#heart.Trace" title="heart.Trace"><code class="xref py py-class docutils literal"><span class="pre">Trace</span></code></a>, <em>optional</em></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.SeismicResult.filtered_syn">
<em class="property">♦ </em><code class="descname">filtered_syn</code><a class="headerlink" href="#heart.SeismicResult.filtered_syn" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#heart.Trace" title="heart.Trace"><code class="xref py py-class docutils literal"><span class="pre">Trace</span></code></a>, <em>optional</em></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.SeismicResult.processed_res">
<em class="property">♦ </em><code class="descname">processed_res</code><a class="headerlink" href="#heart.SeismicResult.processed_res" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#heart.Trace" title="heart.Trace"><code class="xref py py-class docutils literal"><span class="pre">Trace</span></code></a>, <em>optional</em></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.SeismicResult.filtered_res">
<em class="property">♦ </em><code class="descname">filtered_res</code><a class="headerlink" href="#heart.SeismicResult.filtered_res" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#heart.Trace" title="heart.Trace"><code class="xref py py-class docutils literal"><span class="pre">Trace</span></code></a>, <em>optional</em></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.SeismicResult.arrival_taper">
<em class="property">♦ </em><code class="descname">arrival_taper</code><a class="headerlink" href="#heart.SeismicResult.arrival_taper" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://pyrocko.org/v0.3/library/reference/trace.html#pyrocko.trace.Taper" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.Taper</span></code></a>, <em>optional</em></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.SeismicResult.llk">
<em class="property">♦ </em><code class="descname">llk</code><a class="headerlink" href="#heart.SeismicResult.llk" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>optional</em>, <em>default:</em> <code class="docutils literal"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="heart.SeismicResult.taper">
<em class="property">♦ </em><code class="descname">taper</code><a class="headerlink" href="#heart.SeismicResult.taper" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://pyrocko.org/v0.3/library/reference/trace.html#pyrocko.trace.Taper" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.Taper</span></code></a>, <em>optional</em></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="heart.Trace">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">Trace</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#Trace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.Trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
</dd></dl>

<dl class="class">
<dt id="heart.WaveformMapping">
<em class="property">class </em><code class="descclassname">heart.</code><code class="descname">WaveformMapping</code><span class="sig-paren">(</span><em>name, stations, weights=None, channels=['Z'], datasets=None, targets=None, station_correction_idxs=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#WaveformMapping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.WaveformMapping" title="Permalink to this definition">¶</a></dt>
<dd><p>Weights have to be theano.shared variables!</p>
<dl class="method">
<dt id="heart.WaveformMapping.prepare_data">
<code class="descname">prepare_data</code><span class="sig-paren">(</span><em>source</em>, <em>engine</em>, <em>outmode='array'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#WaveformMapping.prepare_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.WaveformMapping.prepare_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Taper, filter data traces according to given reference event.
Traces are concatenated to one single array.</p>
</dd></dl>

<dl class="method">
<dt id="heart.WaveformMapping.station_distance_weeding">
<code class="descname">station_distance_weeding</code><span class="sig-paren">(</span><em>event</em>, <em>distances</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#WaveformMapping.station_distance_weeding"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.WaveformMapping.station_distance_weeding" title="Permalink to this definition">¶</a></dt>
<dd><p>Weed stations and related objects based on distances.
Works only a single time after init!</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="heart.check_problem_stores">
<code class="descclassname">heart.</code><code class="descname">check_problem_stores</code><span class="sig-paren">(</span><em>problem</em>, <em>datatypes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#check_problem_stores"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.check_problem_stores" title="Permalink to this definition">¶</a></dt>
<dd><p>Check GF stores for empty traces.</p>
</dd></dl>

<dl class="function">
<dt id="heart.choose_backend">
<code class="descclassname">heart.</code><code class="descname">choose_backend</code><span class="sig-paren">(</span><em>fomosto_config</em>, <em>code</em>, <em>source_model</em>, <em>receiver_model</em>, <em>gf_directory='qseis2d_green'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#choose_backend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.choose_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>Get backend related config.</p>
</dd></dl>

<dl class="function">
<dt id="heart.concatenate_datasets">
<code class="descclassname">heart.</code><code class="descname">concatenate_datasets</code><span class="sig-paren">(</span><em>datasets</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#concatenate_datasets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.concatenate_datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>Concatenate datasets to single arrays</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>datasets</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <a class="reference internal" href="#heart.GeodeticDataset" title="heart.GeodeticDataset"><code class="xref py py-class docutils literal"><span class="pre">GeodeticDataset</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>datasets</strong> (1d :class:numpy.NdArray` n x 1)</li>
<li><strong>los_vectors</strong> (2d :class:numpy.NdArray` n x 3)</li>
<li><strong>odws</strong> (1d :class:numpy.NdArray` n x 1)</li>
<li><strong>Bij</strong> (<a class="reference internal" href="#utility.ListToArrayBijection" title="utility.ListToArrayBijection"><code class="xref py py-class docutils literal"><span class="pre">utility.ListToArrayBijection</span></code></a>)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.ensemble_earthmodel">
<code class="descclassname">heart.</code><code class="descname">ensemble_earthmodel</code><span class="sig-paren">(</span><em>ref_earthmod</em>, <em>num_vary=10</em>, <em>error_depth=0.1</em>, <em>error_velocities=0.1</em>, <em>depth_limit_variation=600000.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#ensemble_earthmodel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.ensemble_earthmodel" title="Permalink to this definition">¶</a></dt>
<dd><p>Create ensemble of earthmodels that vary around a given input earth model
by a Gaussian of 2 sigma (in Percent 0.1 = 10%) for the depth layers
and for the p and s wave velocities. Vp / Vs is kept unchanged</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ref_earthmod</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a>) – Reference earthmodel defining layers, depth, velocities, densities</li>
<li><strong>num_vary</strong> (<em>scalar</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of variation realisations</li>
<li><strong>error_depth</strong> (<em>scalar</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – 3 sigma error in percent of the depth for the respective layers</li>
<li><strong>error_velocities</strong> (<em>scalar</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – 3 sigma error in percent of the velocities for the respective layers</li>
<li><strong>depth_limit_variation</strong> (<em>scalar</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – depth threshold [m], layers with depth &gt; than this are not varied</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">List of Varied Earthmodels <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.geo_construct_gf">
<code class="descclassname">heart.</code><code class="descname">geo_construct_gf</code><span class="sig-paren">(</span><em>event</em>, <em>geodetic_config</em>, <em>crust_ind=0</em>, <em>execute=True</em>, <em>force=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#geo_construct_gf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.geo_construct_gf" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate geodetic Greens Functions (GFs) and create a fomosto ‘GF store’
that is being used repeatetly later on to calculate the synthetic
displacements. Enables various different source geometries.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>event</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a>) – The event is used as a reference point for all the calculations
According to the its location the earth model is being built</li>
<li><strong>geodetic_config</strong> (<a class="reference internal" href="#config.GeodeticConfig" title="config.GeodeticConfig"><code class="xref py py-class docutils literal"><span class="pre">config.GeodeticConfig</span></code></a>) – </li>
<li><strong>crust_ind</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Index to set to the Greens Function store</li>
<li><strong>execute</strong> (<em>boolean</em>) – Flag to execute the calculation, if False just setup tested</li>
<li><strong>force</strong> (<em>boolean</em>) – Flag to overwrite existing GF stores</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.geo_construct_gf_psgrn">
<code class="descclassname">heart.</code><code class="descname">geo_construct_gf_psgrn</code><span class="sig-paren">(</span><em>event</em>, <em>geodetic_config</em>, <em>crust_ind=0</em>, <em>execute=True</em>, <em>force=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#geo_construct_gf_psgrn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.geo_construct_gf_psgrn" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate geodetic Greens Functions (GFs) and create a repository ‘store’
that is being used later on repeatetly to calculate the synthetic
displacements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>event</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a>) – The event is used as a reference point for all the calculations
According to the its location the earth model is being built</li>
<li><strong>geodetic_config</strong> (<a class="reference internal" href="#config.GeodeticConfig" title="config.GeodeticConfig"><code class="xref py py-class docutils literal"><span class="pre">config.GeodeticConfig</span></code></a>) – </li>
<li><strong>crust_ind</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Index to set to the Greens Function store</li>
<li><strong>execute</strong> (<em>boolean</em>) – Flag to execute the calculation, if False just setup tested</li>
<li><strong>force</strong> (<em>boolean</em>) – Flag to overwrite existing GF stores</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.geo_layer_synthetics_pscmp">
<code class="descclassname">heart.</code><code class="descname">geo_layer_synthetics_pscmp</code><span class="sig-paren">(</span><em>store_superdir</em>, <em>crust_ind</em>, <em>lons</em>, <em>lats</em>, <em>sources</em>, <em>keep_tmp=False</em>, <em>outmode='data'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#geo_layer_synthetics_pscmp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.geo_layer_synthetics_pscmp" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate synthetic displacements for a given Greens Function database
sources and observation points on the earths surface.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>store_superdir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – main path to directory containing the different Greensfunction stores</li>
<li><strong>crust_ind</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – index of Greens Function store to use</li>
<li><strong>lons</strong> (<em>List of floats</em>) – Longitudes [decimal deg] of observation points</li>
<li><strong>lats</strong> (<em>List of floats</em>) – Latitudes [decimal deg] of observation points</li>
<li><strong>sources</strong> (List of <code class="xref py py-class docutils literal"><span class="pre">pscmp.PsCmpRectangularSource</span></code>) – Sources to calculate synthetics for</li>
<li><strong>keep_tmp</strong> (<em>boolean</em>) – Flag to keep directories (in ‘/tmp’) where calculated synthetics are
stored.</li>
<li><strong>outmode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – determines type of output</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (n_observations; ux-North, uy-East, uz-Down)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.geo_synthetics">
<code class="descclassname">heart.</code><code class="descname">geo_synthetics</code><span class="sig-paren">(</span><em>engine</em>, <em>targets</em>, <em>sources</em>, <em>outmode='stacked_array'</em>, <em>plot=False</em>, <em>nprocs=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#geo_synthetics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.geo_synthetics" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate synthetic displacements for a given static fomosto Greens
Function database for sources and targets on the earths surface.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>engine</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.LocalEngine" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.LocalEngine</span></code></a>) – </li>
<li><strong>sources</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – containing <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.Source" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Source</span></code></a> Objects
reference source is the first in the list!!!</li>
<li><strong>targets</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – containing <code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Target</span></code> Objects</li>
<li><strong>plot</strong> (<em>boolean</em>) – flag for looking at synthetics - not implemented yet</li>
<li><strong>nprocs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – number of processors to use for synthetics calculation
–&gt; currently no effect !!!</li>
<li><strong>outmode</strong> (<a class="reference external" href="https://docs.python.org/3/library/string.html#module-string" title="(in Python v3.7)"><em>string</em></a>) – output format of synthetics can be: ‘array’, ‘arrays’,
‘stacked_array’,’stacked_arrays’</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>depends on outmode</em></li>
<li><em>’stacked_array’</em></li>
<li><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (n_observations; ux-North, uy-East, uz-Down)</li>
<li><em>’stacked_arrays’</em></li>
<li><em>or list of</em></li>
<li><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (target.samples; ux-North, uy-East, uz-Down)</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.get_fomosto_baseconfig">
<code class="descclassname">heart.</code><code class="descname">get_fomosto_baseconfig</code><span class="sig-paren">(</span><em>gfconfig</em>, <em>event</em>, <em>station</em>, <em>waveforms</em>, <em>crust_ind</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#get_fomosto_baseconfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.get_fomosto_baseconfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise fomosto config.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>gfconfig</strong> (<a class="reference internal" href="#config.NonlinearGFConfig" title="config.NonlinearGFConfig"><code class="xref py py-class docutils literal"><span class="pre">config.NonlinearGFConfig</span></code></a>) – </li>
<li><strong>event</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a>) – The event is used as a reference point for all the calculations
According to the its location the earth model is being built</li>
<li><strong>station</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Station" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Station</span></code></a> or) – <a class="reference internal" href="#heart.ReferenceLocation" title="heart.ReferenceLocation"><code class="xref py py-class docutils literal"><span class="pre">heart.ReferenceLocation</span></code></a></li>
<li><strong>waveforms</strong> (<em>List of str</em>) – Waveforms to calculate GFs for, determines the length of traces</li>
<li><strong>crust_ind</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Index to set to the Greens Function store</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.get_phase_arrival_time">
<code class="descclassname">heart.</code><code class="descname">get_phase_arrival_time</code><span class="sig-paren">(</span><em>engine</em>, <em>source</em>, <em>target</em>, <em>wavename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#get_phase_arrival_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.get_phase_arrival_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Get arrival time from Greens Function store for respective
<code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Target</span></code>,
<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.meta.Location" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.meta.Location</span></code></a> pair.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>engine</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.LocalEngine" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.LocalEngine</span></code></a>) – </li>
<li><strong>source</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.meta.Location" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.meta.Location</span></code></a>) – can be therefore <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.Source" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Source</span></code></a> or
<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a></li>
<li><strong>target</strong> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Target</span></code>) – </li>
<li><strong>wavename</strong> (<a class="reference external" href="https://docs.python.org/3/library/string.html#module-string" title="(in Python v3.7)"><em>string</em></a>) – of the tabulated phase that determines the phase arrival</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">scalar, float of the arrival time of the wave</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.get_phase_taperer">
<code class="descclassname">heart.</code><code class="descname">get_phase_taperer</code><span class="sig-paren">(</span><em>engine</em>, <em>source</em>, <em>wavename</em>, <em>target</em>, <em>arrival_taper</em>, <em>arrival_time=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#get_phase_taperer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.get_phase_taperer" title="Permalink to this definition">¶</a></dt>
<dd><p>Create phase taperer according to synthetic travel times from
source- target pair and taper return <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/trace.html#pyrocko.trace.CosTaper" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.CosTaper</span></code></a>
according to defined arrival_taper times.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>engine</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.LocalEngine" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.LocalEngine</span></code></a>) – </li>
<li><strong>source</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.meta.Location" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.meta.Location</span></code></a>) – can be therefore <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.Source" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Source</span></code></a> or
<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a></li>
<li><strong>wavename</strong> (<a class="reference external" href="https://docs.python.org/3/library/string.html#module-string" title="(in Python v3.7)"><em>string</em></a>) – of the tabulated phase that determines the phase arrival</li>
<li><strong>target</strong> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Target</span></code>) – </li>
<li><strong>arrival_taper</strong> (<a class="reference internal" href="#heart.ArrivalTaper" title="heart.ArrivalTaper"><code class="xref py py-class docutils literal"><span class="pre">ArrivalTaper</span></code></a>) – </li>
<li><strong>arrival_time</strong> (<em>shift on arrival time</em><em> (</em><em>optional</em><em>)</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://pyrocko.org/v0.3/library/reference/trace.html#pyrocko.trace.CosTaper" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.CosTaper</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.get_slowness_taper">
<code class="descclassname">heart.</code><code class="descname">get_slowness_taper</code><span class="sig-paren">(</span><em>fomosto_config</em>, <em>velocity_model</em>, <em>distances</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#get_slowness_taper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.get_slowness_taper" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate slowness taper for backends that determine wavefield based
on the velociy model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fomosto_config</strong> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.meta.Config</span></code>) – </li>
<li><strong>velocity_model</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a>) – </li>
<li><strong>distances</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)"><em>tuple</em></a>) – minimum and maximum distance [deg]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple of slownesses</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.get_velocity_model">
<code class="descclassname">heart.</code><code class="descname">get_velocity_model</code><span class="sig-paren">(</span><em>location</em>, <em>earth_model_name</em>, <em>crust_ind=0</em>, <em>gf_config=None</em>, <em>custom_velocity_model=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#get_velocity_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.get_velocity_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Get velocity model at the specified location, combines given or crustal
models with the global model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>location</strong> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.meta.Location</span></code>) – </li>
<li><strong>earth_model_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Name of the base earth model to be used, check
<code class="xref py py-func docutils literal"><span class="pre">pyrocko.cake.builtin_models()</span></code> for alternatives,
default ak135 with medium resolution</li>
<li><strong>crust_ind</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Index to set to the Greens Function store, 0 is reference store
indexes &gt; 0 use reference model and vary its parameters by a Gaussian</li>
<li><strong>gf_config</strong> (<code class="xref py py-class docutils literal"><span class="pre">beat.config.GFConfig</span></code>) – </li>
<li><strong>custom_velocity_model</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://pyrocko.org/v0.3/library/reference/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.init_datahandler">
<code class="descclassname">heart.</code><code class="descname">init_datahandler</code><span class="sig-paren">(</span><em>seismic_config</em>, <em>seismic_data_path='./'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#init_datahandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.init_datahandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise datahandler.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>seismic_config</strong> (<a class="reference internal" href="#config.SeismicConfig" title="config.SeismicConfig"><code class="xref py py-class docutils literal"><span class="pre">config.SeismicConfig</span></code></a>) – </li>
<li><strong>seismic_data_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – absolute path to the directory of the seismic data</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>datahandler</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#heart.DataWaveformCollection" title="heart.DataWaveformCollection"><code class="xref py py-class docutils literal"><span class="pre">DataWaveformCollection</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.init_geodetic_targets">
<code class="descclassname">heart.</code><code class="descname">init_geodetic_targets</code><span class="sig-paren">(</span><em>datasets, earth_model_name='ak135-f-average.m', interpolation='nearest_neighbor', crust_inds=[0], sample_rate=0.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#init_geodetic_targets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.init_geodetic_targets" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiate a list of Static target objects given a list of indexes to the
respective GF store velocity model variation index (crust_inds).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>datasets</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <a class="reference internal" href="#heart.GeodeticDataset" title="heart.GeodeticDataset"><code class="xref py py-class docutils literal"><span class="pre">heart.GeodeticDataset</span></code></a> for which the targets are being
initialised</li>
<li><strong>= str</strong> (<a class="reference internal" href="#config.GFConfig.earth_model_name" title="config.GFConfig.earth_model_name"><em>earth_model_name</em></a>) – Name of the earth model that has been used for GF calculation.</li>
<li><strong>sample_rate</strong> (<em>scalar</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – sample rate [Hz] of the Greens Functions to use</li>
<li><strong>crust_inds</strong> (<em>List of int</em>) – Indexes of different velocity model realisations, 0 - reference model</li>
<li><strong>interpolation</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Method of interpolation for the Greens Functions, can be ‘multilinear’
or ‘nearest_neighbor’</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">List of <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.targets.StaticTarget" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.targets.StaticTarget</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.init_seismic_targets">
<code class="descclassname">heart.</code><code class="descname">init_seismic_targets</code><span class="sig-paren">(</span><em>stations, earth_model_name='ak135-f-average.m', channels=['T', 'Z'], sample_rate=1.0, crust_inds=[0], interpolation='multilinear', reference_location=None, blacklist=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#init_seismic_targets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.init_seismic_targets" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiate a list of target objects given a list of indexes to the
respective GF store velocity model variation index (crust_inds).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stations</strong> (List of <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Station" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Station</span></code></a>) – List of station objects for which the targets are being initialised</li>
<li><strong>= str</strong> (<a class="reference internal" href="#config.GFConfig.earth_model_name" title="config.GFConfig.earth_model_name"><em>earth_model_name</em></a>) – Name of the earth model that has been used for GF calculation.</li>
<li><strong>channels</strong> (<em>List of str</em>) – Components of the traces to be optimized for if rotated:
T - transversal, Z - vertical, R - radial
If not rotated:
E - East, N- North, U - Up (Vertical)</li>
<li><strong>sample_rate</strong> (<em>scalar</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – sample rate [Hz] of the Greens Functions to use</li>
<li><strong>crust_inds</strong> (<em>List of int</em>) – Indexes of different velocity model realisations, 0 - reference model</li>
<li><strong>interpolation</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Method of interpolation for the Greens Functions, can be ‘multilinear’
or ‘nearest_neighbor’</li>
<li><strong>reference_location</strong> (<a class="reference internal" href="#heart.ReferenceLocation" title="heart.ReferenceLocation"><code class="xref py py-class docutils literal"><span class="pre">ReferenceLocation</span></code></a> or) – <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Station" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Station</span></code></a>
if given, targets are initialised with this reference location</li>
<li><strong>blacklist</strong> (<em>stations that are blacklisted later</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">List of <a class="reference internal" href="#heart.DynamicTarget" title="heart.DynamicTarget"><code class="xref py py-class docutils literal"><span class="pre">DynamicTarget</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.init_wavemap">
<code class="descclassname">heart.</code><code class="descname">init_wavemap</code><span class="sig-paren">(</span><em>waveformfit_config</em>, <em>datahandler=None</em>, <em>event=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#init_wavemap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.init_wavemap" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise wavemap, which sets targets, datasets and stations into
relation to the seismic Phase of interest and allows individual
specificiations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>waveformfit_config</strong> (<a class="reference internal" href="#config.WaveformFitConfig" title="config.WaveformFitConfig"><code class="xref py py-class docutils literal"><span class="pre">config.WaveformFitConfig</span></code></a>) – </li>
<li><strong>datahandler</strong> (<a class="reference internal" href="#heart.DataWaveformCollection" title="heart.DataWaveformCollection"><code class="xref py py-class docutils literal"><span class="pre">DataWaveformCollection</span></code></a>) – </li>
<li><strong>event</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>wmap</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#heart.WaveformMapping" title="heart.WaveformMapping"><code class="xref py py-class docutils literal"><span class="pre">WaveformMapping</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.log_determinant">
<code class="descclassname">heart.</code><code class="descname">log_determinant</code><span class="sig-paren">(</span><em>A</em>, <em>inverse=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#log_determinant"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.log_determinant" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the natural logarithm of a determinant of the given matrix ‘
according to the properties of a triangular matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>A</strong> (n x n <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>) – </li>
<li><strong>inverse</strong> (<em>boolean</em>) – <p>If true calculates the log determinant of the inverse of the colesky
decomposition, which is equvalent to taking the determinant of the
inverse of the matrix.</p>
<p>L.T* L = R           inverse=False
L-1*(L-1)T = R-1     inverse=True</p>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float logarithm of the determinant of the input Matrix A</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.post_process_trace">
<code class="descclassname">heart.</code><code class="descname">post_process_trace</code><span class="sig-paren">(</span><em>trace</em>, <em>taper</em>, <em>filterer</em>, <em>taper_tolerance_factor=0.0</em>, <em>outmode=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#post_process_trace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.post_process_trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Taper, filter and then chop one trace in place.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>trace</strong> (<a class="reference internal" href="#heart.SeismicDataset" title="heart.SeismicDataset"><code class="xref py py-class docutils literal"><span class="pre">SeismicDataset</span></code></a>) – </li>
<li><strong>arrival_taper</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/trace.html#pyrocko.trace.Taper" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.Taper</span></code></a>) – </li>
<li><strong>filterer</strong> (<code class="xref py py-class docutils literal"><span class="pre">Filterer</span></code>) – </li>
<li><strong>taper_tolerance_factor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – default: 0 , cut exactly at the taper edges
taper.fadein times this factor determines added tolerance</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.seis_construct_gf">
<code class="descclassname">heart.</code><code class="descname">seis_construct_gf</code><span class="sig-paren">(</span><em>stations</em>, <em>event</em>, <em>seismic_config</em>, <em>crust_ind=0</em>, <em>execute=False</em>, <em>force=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#seis_construct_gf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.seis_construct_gf" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate seismic Greens Functions (GFs) and create a repository ‘store’
that is being used later on repeatetly to calculate the synthetic
waveforms.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>stations</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Station" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Station</span></code></a>
Station object that defines the distance from the event for which the
GFs are being calculated</li>
<li><strong>event</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a>) – The event is used as a reference point for all the calculations
According to the its location the earth model is being built</li>
<li><strong>seismic_config</strong> (<a class="reference internal" href="#config.SeismicConfig" title="config.SeismicConfig"><code class="xref py py-class docutils literal"><span class="pre">config.SeismicConfig</span></code></a>) – </li>
<li><strong>crust_ind</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Index to set to the Greens Function store, 0 is reference store
indexes &gt; 0 use reference model and vary its parameters by a Gaussian</li>
<li><strong>execute</strong> (<em>boolean</em>) – Flag to execute the calculation, if False just setup tested</li>
<li><strong>force</strong> (<em>boolean</em>) – Flag to overwrite existing GF stores</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.seis_synthetics">
<code class="descclassname">heart.</code><code class="descname">seis_synthetics</code><span class="sig-paren">(</span><em>engine</em>, <em>sources</em>, <em>targets</em>, <em>arrival_taper=None</em>, <em>wavename='any_P'</em>, <em>filterer=None</em>, <em>reference_taperer=None</em>, <em>plot=False</em>, <em>nprocs=1</em>, <em>outmode='array'</em>, <em>pre_stack_cut=False</em>, <em>taper_tolerance_factor=0.0</em>, <em>arrival_times=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#seis_synthetics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.seis_synthetics" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate synthetic seismograms of combination of targets and sources,
filtering and tapering afterwards (filterer)
tapering according to arrival_taper around P -or S wave.
If reference_taper the given taper is always used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>engine</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.LocalEngine" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.LocalEngine</span></code></a>) – </li>
<li><strong>sources</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – containing <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.Source" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Source</span></code></a> Objects
reference source is the first in the list!!!</li>
<li><strong>targets</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – containing <code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Target</span></code> Objects</li>
<li><strong>arrival_taper</strong> (<a class="reference internal" href="#heart.ArrivalTaper" title="heart.ArrivalTaper"><code class="xref py py-class docutils literal"><span class="pre">ArrivalTaper</span></code></a>) – </li>
<li><strong>wavename</strong> (<a class="reference external" href="https://docs.python.org/3/library/string.html#module-string" title="(in Python v3.7)"><em>string</em></a>) – of the tabulated phase that determines the phase arrival</li>
<li><strong>filterer</strong> (<code class="xref py py-class docutils literal"><span class="pre">Filterer</span></code>) – </li>
<li><strong>reference_taperer</strong> (<a class="reference internal" href="#heart.ArrivalTaper" title="heart.ArrivalTaper"><code class="xref py py-class docutils literal"><span class="pre">ArrivalTaper</span></code></a>) – if set all the traces are tapered with the specifications of this
Taper</li>
<li><strong>plot</strong> (<em>boolean</em>) – flag for looking at traces</li>
<li><strong>nprocs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – number of processors to use for synthetics calculation
–&gt; currently no effect !!!</li>
<li><strong>outmode</strong> (<a class="reference external" href="https://docs.python.org/3/library/string.html#module-string" title="(in Python v3.7)"><em>string</em></a>) – output format of synthetics can be ‘array’, ‘stacked_traces’,
‘data’ returns traces unstacked including post-processing</li>
<li><strong>pre_stack_cut</strong> (<em>boolean</em>) – flag to decide wheather prior to stacking the GreensFunction traces
should be cutted according to the phase arival time and the defined
taper</li>
<li><strong>taper_tolerance_factor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – tolerance to chop traces around taper.a and taper.d</li>
<li><strong>arrival_times</strong> (None or <code class="xref py py-class docutils literal"><span class="pre">numpy.NdArray</span></code>) – of phase to apply taper, if None theoretic arrival of ray tracing used</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> or List of <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/trace.html#pyrocko.trace.Trace" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.Trace</span></code></a> – with data each row-one target</li>
<li><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> of tmins for traces</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.taper_filter_traces">
<code class="descclassname">heart.</code><code class="descname">taper_filter_traces</code><span class="sig-paren">(</span><em>traces</em>, <em>arrival_taper=None</em>, <em>filterer=None</em>, <em>arrival_times=None</em>, <em>plot=False</em>, <em>outmode='array'</em>, <em>taper_tolerance_factor=0.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#taper_filter_traces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.taper_filter_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Taper and filter data_traces according to given taper and filterers.
Tapering will start at the given tmin.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>traces</strong> (<em>List</em>) – containing <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/trace.html#pyrocko.trace.Trace" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.Trace</span></code></a> objects</li>
<li><strong>arrival_taper</strong> (<a class="reference internal" href="#heart.ArrivalTaper" title="heart.ArrivalTaper"><code class="xref py py-class docutils literal"><span class="pre">ArrivalTaper</span></code></a>) – </li>
<li><strong>filterer</strong> (<code class="xref py py-class docutils literal"><span class="pre">Filterer</span></code>) – </li>
<li><strong>arrival_times</strong> (list or:class:<cite>numpy.ndarray</cite>) – containing the start times [s] since 1st.January 1970 to start
tapering</li>
<li><strong>outmode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – defines the output structure, options: “stacked_traces”, “array”,
“data”</li>
<li><strong>taper_tolerance_factor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – tolerance to chop traces around taper.a and taper.d</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">with tapered and filtered data traces, rows different traces,
columns temporal values</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="heart.vary_model">
<code class="descclassname">heart.</code><code class="descname">vary_model</code><span class="sig-paren">(</span><em>earthmod</em>, <em>error_depth=0.1</em>, <em>error_velocities=0.1</em>, <em>depth_limit_variation=600000.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/heart.html#vary_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#heart.vary_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Vary depths and velocities in the given source model by Gaussians with
given 2-sigma errors [percent]. Ensures increasing velocity with depth.
Stops variating the input model at the given depth_limit_variation [m].
Mantle discontinuity uncertainties are hardcoded based on
Mooney et al. 1981 and Woodward et al.1991</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>earthmod</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a>) – Earthmodel defining layers, depth, velocities, densities</li>
<li><strong>error_depth</strong> (<em>scalar</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – 2 sigma error in percent of the depth for the respective layers</li>
<li><strong>error_velocities</strong> (<em>scalar</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – 2 sigma error in percent of the velocities for the respective layers</li>
<li><strong>depth_limit_variations</strong> (<em>scalar</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – depth threshold [m], layers with depth &gt; than this are not varied</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>Varied Earthmodel</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a>)</li>
<li><strong>Cost</strong> (<em>int</em>) – Counts repetitions of cycles to ensure increasing layer velocity,
unlikely velocities have high Cost
Cost of up to 20 are ok for crustal profiles.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-config">
<span id="the-config-module"></span><h2>The <a class="reference internal" href="#module-config" title="config"><code class="xref py py-mod docutils literal"><span class="pre">config</span></code></a> Module<a class="headerlink" href="#module-config" title="Permalink to this headline">¶</a></h2>
<p>The config module contains the classes to build the configuration files that
are being read by the beat executable.</p>
<p>So far there are configuration files for the three main optimization problems
implemented. Solving the fault geometry, the static distributed slip and the
kinematic distributed slip.</p>
<dl class="class">
<dt id="config.BEATconfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">BEATconfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#BEATconfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.BEATconfig" title="Permalink to this definition">¶</a></dt>
<dd><p>BEATconfig is the overarching configuration class, providing all the
sub-configurations classes for the problem setup, Greens Function
generation, optimization algorithm and the data being used.</p>
<dl class="gattribute">
<dt id="config.BEATconfig.name">
<em class="property">♦ </em><code class="descname">name</code><a class="headerlink" href="#config.BEATconfig.name" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="config.BEATconfig.date">
<em class="property">♦ </em><code class="descname">date</code><a class="headerlink" href="#config.BEATconfig.date" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="config.BEATconfig.event">
<em class="property">♦ </em><code class="descname">event</code><a class="headerlink" href="#config.BEATconfig.event" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.event.Event</span></code>, <em>optional</em></p>
</dd></dl>

<dl class="gattribute">
<dt id="config.BEATconfig.project_dir">
<em class="property">♦ </em><code class="descname">project_dir</code><a class="headerlink" href="#config.BEATconfig.project_dir" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'event/'</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="config.BEATconfig.problem_config">
<em class="property">♦ </em><code class="descname">problem_config</code><a class="headerlink" href="#config.BEATconfig.problem_config" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#config.ProblemConfig" title="config.ProblemConfig"><code class="xref py py-class docutils literal"><span class="pre">ProblemConfig</span></code></a>, <em>default:</em> <code class="docutils literal"><span class="pre">&lt;config.ProblemConfig</span> <span class="pre">object</span> <span class="pre">at</span> <span class="pre">0x7f5341816610&gt;</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="config.BEATconfig.geodetic_config">
<em class="property">♦ </em><code class="descname">geodetic_config</code><a class="headerlink" href="#config.BEATconfig.geodetic_config" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#config.GeodeticConfig" title="config.GeodeticConfig"><code class="xref py py-class docutils literal"><span class="pre">GeodeticConfig</span></code></a>, <em>optional</em></p>
</dd></dl>

<dl class="gattribute">
<dt id="config.BEATconfig.seismic_config">
<em class="property">♦ </em><code class="descname">seismic_config</code><a class="headerlink" href="#config.BEATconfig.seismic_config" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#config.SeismicConfig" title="config.SeismicConfig"><code class="xref py py-class docutils literal"><span class="pre">SeismicConfig</span></code></a>, <em>optional</em></p>
</dd></dl>

<dl class="gattribute">
<dt id="config.BEATconfig.sampler_config">
<em class="property">♦ </em><code class="descname">sampler_config</code><a class="headerlink" href="#config.BEATconfig.sampler_config" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#config.SamplerConfig" title="config.SamplerConfig"><code class="xref py py-class docutils literal"><span class="pre">SamplerConfig</span></code></a>, <em>default:</em> <code class="docutils literal"><span class="pre">&lt;config.SamplerConfig</span> <span class="pre">object</span> <span class="pre">at</span> <span class="pre">0x7f5341816610&gt;</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="config.BEATconfig.hyper_sampler_config">
<em class="property">♦ </em><code class="descname">hyper_sampler_config</code><a class="headerlink" href="#config.BEATconfig.hyper_sampler_config" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#config.SamplerConfig" title="config.SamplerConfig"><code class="xref py py-class docutils literal"><span class="pre">SamplerConfig</span></code></a>, <em>optional</em>, <em>default:</em> <code class="docutils literal"><span class="pre">&lt;config.SamplerConfig</span> <span class="pre">object</span> <span class="pre">at</span> <span class="pre">0x7f5341816650&gt;</span></code></p>
</dd></dl>

<dl class="method">
<dt id="config.BEATconfig.update_hierarchicals">
<code class="descname">update_hierarchicals</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#BEATconfig.update_hierarchicals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.BEATconfig.update_hierarchicals" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the whole config and initialise necessary
hierarchical parameters.</p>
</dd></dl>

<dl class="method">
<dt id="config.BEATconfig.update_hypers">
<code class="descname">update_hypers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#BEATconfig.update_hypers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.BEATconfig.update_hypers" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the whole config and initialise necessary hyperparameters.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="config.FFIConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">FFIConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#FFIConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.FFIConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
<dl class="gattribute">
<dt id="config.FFIConfig.regularization">
<em class="property">♦ </em><code class="descname">regularization</code><a class="headerlink" href="#config.FFIConfig.regularization" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts.StringChoice</span></code>), <em>default:</em> <code class="docutils literal"><span class="pre">'none'</span></code></p>
<p>Flag for regularization in distributed slip-optimization.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="config.GFConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">GFConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#GFConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.GFConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Base config for GreensFunction calculation parameters.</p>
<dl class="gattribute">
<dt id="config.GFConfig.store_superdir">
<em class="property">♦ </em><code class="descname">store_superdir</code><a class="headerlink" href="#config.GFConfig.store_superdir" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'./'</span></code></p>
<p>Absolute path to the directory where Greens Function stores are located</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.GFConfig.reference_model_idx">
<em class="property">♦ </em><code class="descname">reference_model_idx</code><a class="headerlink" href="#config.GFConfig.reference_model_idx" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0</span></code></p>
<p>Index to velocity model to use for the optimization. 0 - reference, 1..n - model of variations</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.GFConfig.n_variations">
<em class="property">♦ </em><code class="descname">n_variations</code><a class="headerlink" href="#config.GFConfig.n_variations" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">tuple</span></code> of 2 <code class="docutils literal"><span class="pre">int</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">(0,</span> <span class="pre">1)</span></code></p>
<p>Start and end index to vary input velocity model. Important for the calculation of the model prediction covariance matrix with respect to uncertainties in the velocity model.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.GFConfig.earth_model_name">
<em class="property">♦ </em><code class="descname">earth_model_name</code><a class="headerlink" href="#config.GFConfig.earth_model_name" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'ak135-f-average.m'</span></code></p>
<p>Name of the reference earthmodel, see pyrocko.cake.builtin_models() for alternatives.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.GFConfig.nworkers">
<em class="property">♦ </em><code class="descname">nworkers</code><a class="headerlink" href="#config.GFConfig.nworkers" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1</span></code></p>
<p>Number of processors to use for calculating the GFs</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="config.GFLibaryConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">GFLibaryConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#GFLibaryConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.GFLibaryConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Baseconfig for GF Libraries</p>
<dl class="gattribute">
<dt id="config.GFLibaryConfig.component">
<em class="property">♦ </em><code class="descname">component</code><a class="headerlink" href="#config.GFLibaryConfig.component" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'uparr'</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="config.GFLibaryConfig.event">
<em class="property">♦ </em><code class="descname">event</code><a class="headerlink" href="#config.GFLibaryConfig.event" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.event.Event</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">&lt;pyrocko.model.event.Event</span> <span class="pre">object</span> <span class="pre">at</span> <span class="pre">0x7f53416f09d0&gt;</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="config.GFLibaryConfig.datatype">
<em class="property">♦ </em><code class="descname">datatype</code><a class="headerlink" href="#config.GFLibaryConfig.datatype" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'undefined'</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="config.GFLibaryConfig.crust_ind">
<em class="property">♦ </em><code class="descname">crust_ind</code><a class="headerlink" href="#config.GFLibaryConfig.crust_ind" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0</span></code></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="config.GeodeticConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">GeodeticConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#GeodeticConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.GeodeticConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Config for geodetic data optimization related parameters.</p>
<dl class="gattribute">
<dt id="config.GeodeticConfig.datadir">
<em class="property">♦ </em><code class="descname">datadir</code><a class="headerlink" href="#config.GeodeticConfig.datadir" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'./'</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="config.GeodeticConfig.names">
<em class="property">♦ </em><code class="descname">names</code><a class="headerlink" href="#config.GeodeticConfig.names" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">list</span></code> of <code class="docutils literal"><span class="pre">str</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">['Data</span> <span class="pre">prefix</span> <span class="pre">filenames</span> <span class="pre">here</span> <span class="pre">...']</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="config.GeodeticConfig.blacklist">
<em class="property">♦ </em><code class="descname">blacklist</code><a class="headerlink" href="#config.GeodeticConfig.blacklist" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">list</span></code> of <code class="docutils literal"><span class="pre">str</span></code> objects, <em>optional</em>, <em>default:</em> <code class="docutils literal"><span class="pre">[]</span></code></p>
<p>GPS station name or scene name to be thrown out.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.GeodeticConfig.types">
<em class="property">♦ </em><code class="descname">types</code><a class="headerlink" href="#config.GeodeticConfig.types" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">list</span></code> of <code class="docutils literal"><span class="pre">str</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">['SAR']</span></code></p>
<p>Types of geodetic data, i.e. SAR, GPS, …</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.GeodeticConfig.calc_data_cov">
<em class="property">♦ </em><code class="descname">calc_data_cov</code><a class="headerlink" href="#config.GeodeticConfig.calc_data_cov" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">bool</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">True</span></code></p>
<p>Flag for calculating the data covariance matrix, outsourced to “kite”</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.GeodeticConfig.interpolation">
<em class="property">♦ </em><code class="descname">interpolation</code><a class="headerlink" href="#config.GeodeticConfig.interpolation" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts.StringChoice</span></code>), <em>default:</em> <code class="docutils literal"><span class="pre">'multilinear'</span></code></p>
<p>GF interpolation scheme during synthetics generation</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.GeodeticConfig.fit_plane">
<em class="property">♦ </em><code class="descname">fit_plane</code><a class="headerlink" href="#config.GeodeticConfig.fit_plane" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">bool</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">False</span></code></p>
<p>Flag for inverting for additional plane parameters on each SAR datatype</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.GeodeticConfig.gf_config">
<em class="property">♦ </em><code class="descname">gf_config</code><a class="headerlink" href="#config.GeodeticConfig.gf_config" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#config.GFConfig" title="config.GFConfig"><code class="xref py py-class docutils literal"><span class="pre">GFConfig</span></code></a>, <em>default:</em> <code class="docutils literal"><span class="pre">&lt;config.GeodeticGFConfig</span> <span class="pre">object</span> <span class="pre">at</span> <span class="pre">0x7f53416f8610&gt;</span></code></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="config.GeodeticGFConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">GeodeticGFConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#GeodeticGFConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.GeodeticGFConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Geodetic GF parameters for Layered Halfspace.</p>
<dl class="gattribute">
<dt id="config.GeodeticGFConfig.code">
<em class="property">♦ </em><code class="descname">code</code><a class="headerlink" href="#config.GeodeticGFConfig.code" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'psgrn'</span></code></p>
<p>Modeling code to use. (psgrn, … others need to beimplemented!)</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.GeodeticGFConfig.sample_rate">
<em class="property">♦ </em><code class="descname">sample_rate</code><a class="headerlink" href="#config.GeodeticGFConfig.sample_rate" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1.1574074074074073e-05</span></code></p>
<p>Sample rate for the Greens Functions. Mainly relevant for viscoelastic modeling. Default: coseismic-one day</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.GeodeticGFConfig.sampling_interval">
<em class="property">♦ </em><code class="descname">sampling_interval</code><a class="headerlink" href="#config.GeodeticGFConfig.sampling_interval" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1.0</span></code></p>
<p>Distance dependend sampling spacing coefficient.1. - equidistant</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.GeodeticGFConfig.medium_depth_spacing">
<em class="property">♦ </em><code class="descname">medium_depth_spacing</code><a class="headerlink" href="#config.GeodeticGFConfig.medium_depth_spacing" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1.0</span></code></p>
<p>Depth spacing [km] for GF medium grid.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.GeodeticGFConfig.medium_distance_spacing">
<em class="property">♦ </em><code class="descname">medium_distance_spacing</code><a class="headerlink" href="#config.GeodeticGFConfig.medium_distance_spacing" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1.0</span></code></p>
<p>Distance spacing [km] for GF medium grid.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="config.GeodeticGFLibraryConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">GeodeticGFLibraryConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#GeodeticGFLibraryConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.GeodeticGFLibraryConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Config for the linear Geodetic GF Library for dumping and loading.</p>
<dl class="gattribute">
<dt id="config.GeodeticGFLibraryConfig.dimensions">
<em class="property">♦ </em><code class="descname">dimensions</code><a class="headerlink" href="#config.GeodeticGFLibraryConfig.dimensions" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">tuple</span></code> of 2 <code class="docutils literal"><span class="pre">int</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">(0,</span> <span class="pre">0)</span></code></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="config.GeodeticLinearGFConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">GeodeticLinearGFConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#GeodeticLinearGFConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.GeodeticLinearGFConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
</dd></dl>

<dl class="class">
<dt id="config.LinearGFConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">LinearGFConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#LinearGFConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.LinearGFConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Config for linear GreensFunction calculation parameters.</p>
<dl class="gattribute">
<dt id="config.LinearGFConfig.reference_sources">
<em class="property">♦ </em><code class="descname">reference_sources</code><a class="headerlink" href="#config.LinearGFConfig.reference_sources" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">list</span></code> of <code class="xref py py-class docutils literal"><span class="pre">beat.sources.RectangularSource</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">[]</span></code></p>
<p>Geometry of the reference source(s) to fix</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.LinearGFConfig.patch_width">
<em class="property">♦ </em><code class="descname">patch_width</code><a class="headerlink" href="#config.LinearGFConfig.patch_width" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">5.0</span></code></p>
<p>Patch width [km] to divide reference sources</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.LinearGFConfig.patch_length">
<em class="property">♦ </em><code class="descname">patch_length</code><a class="headerlink" href="#config.LinearGFConfig.patch_length" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">5.0</span></code></p>
<p>Patch length [km] to divide reference sources</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.LinearGFConfig.extension_width">
<em class="property">♦ </em><code class="descname">extension_width</code><a class="headerlink" href="#config.LinearGFConfig.extension_width" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.1</span></code></p>
<p>Extend reference sources by this factor in each dip-direction. 0.1 means extension of the fault by 10% in each direction, i.e. 20% in total. If patches would intersect with the free surface they are constrained to end at the surface.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.LinearGFConfig.extension_length">
<em class="property">♦ </em><code class="descname">extension_length</code><a class="headerlink" href="#config.LinearGFConfig.extension_length" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.1</span></code></p>
<p>Extend reference sources by this factor in each strike-direction. 0.1 means extension of the fault by 10% in each direction, i.e. 20% in total.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.LinearGFConfig.sample_rate">
<em class="property">♦ </em><code class="descname">sample_rate</code><a class="headerlink" href="#config.LinearGFConfig.sample_rate" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">2.0</span></code></p>
<p>Sample rate for the Greens Functions.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="config.MetropolisConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">MetropolisConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#MetropolisConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.MetropolisConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Config for optimization parameters of the Adaptive Metropolis algorithm.</p>
<dl class="gattribute">
<dt id="config.MetropolisConfig.n_jobs">
<em class="property">♦ </em><code class="descname">n_jobs</code><a class="headerlink" href="#config.MetropolisConfig.n_jobs" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1</span></code></p>
<p>Number of processors to use, i.e. chains to sample in parallel.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.MetropolisConfig.n_steps">
<em class="property">♦ </em><code class="descname">n_steps</code><a class="headerlink" href="#config.MetropolisConfig.n_steps" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">25000</span></code></p>
<p>Number of steps for the MC chain.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.MetropolisConfig.n_chains">
<em class="property">♦ </em><code class="descname">n_chains</code><a class="headerlink" href="#config.MetropolisConfig.n_chains" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">20</span></code></p>
<p>Number of Metropolis chains for sampling.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.MetropolisConfig.thin">
<em class="property">♦ </em><code class="descname">thin</code><a class="headerlink" href="#config.MetropolisConfig.thin" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">2</span></code></p>
<p>Thinning parameter of the sampled trace. Every “thin”th sample is taken.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.MetropolisConfig.burn">
<em class="property">♦ </em><code class="descname">burn</code><a class="headerlink" href="#config.MetropolisConfig.burn" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.5</span></code></p>
<p>Burn-in parameter between 0. and 1. to discard fraction of samples from the beginning of the chain.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="config.ModeConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">ModeConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#ModeConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.ModeConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>BaseConfig for optimization mode specific configuration.</p>
</dd></dl>

<dl class="class">
<dt id="config.NonlinearGFConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">NonlinearGFConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#NonlinearGFConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.NonlinearGFConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Config for non-linear GreensFunction calculation parameters.
Defines how the grid of Green’s Functions in the respective store is
created.</p>
<dl class="gattribute">
<dt id="config.NonlinearGFConfig.use_crust2">
<em class="property">♦ </em><code class="descname">use_crust2</code><a class="headerlink" href="#config.NonlinearGFConfig.use_crust2" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">bool</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">True</span></code></p>
<p>Flag, for replacing the crust from the earthmodelwith crust from the crust2 model.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.NonlinearGFConfig.replace_water">
<em class="property">♦ </em><code class="descname">replace_water</code><a class="headerlink" href="#config.NonlinearGFConfig.replace_water" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">bool</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">True</span></code></p>
<p>Flag, for replacing water layers in the crust2 model.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.NonlinearGFConfig.custom_velocity_model">
<em class="property">♦ </em><code class="descname">custom_velocity_model</code><a class="headerlink" href="#config.NonlinearGFConfig.custom_velocity_model" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://pyrocko.org/v0.3/library/reference/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.meta.Earthmodel1D" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.meta.Earthmodel1D</span></code></a>), <em>optional</em></p>
<p>Custom Earthmodel, in case crust2 and standard model not wanted. Needs to be a :py::class:cake.LayeredModel</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.NonlinearGFConfig.source_depth_min">
<em class="property">♦ </em><code class="descname">source_depth_min</code><a class="headerlink" href="#config.NonlinearGFConfig.source_depth_min" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.0</span></code></p>
<p>Minimum depth [km] for GF function grid.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.NonlinearGFConfig.source_depth_max">
<em class="property">♦ </em><code class="descname">source_depth_max</code><a class="headerlink" href="#config.NonlinearGFConfig.source_depth_max" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">10.0</span></code></p>
<p>Maximum depth [km] for GF function grid.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.NonlinearGFConfig.source_depth_spacing">
<em class="property">♦ </em><code class="descname">source_depth_spacing</code><a class="headerlink" href="#config.NonlinearGFConfig.source_depth_spacing" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1.0</span></code></p>
<p>Depth spacing [km] for GF function grid.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.NonlinearGFConfig.source_distance_radius">
<em class="property">♦ </em><code class="descname">source_distance_radius</code><a class="headerlink" href="#config.NonlinearGFConfig.source_distance_radius" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">20.0</span></code></p>
<p>Radius of distance grid [km] for GF function grid around reference event.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.NonlinearGFConfig.source_distance_spacing">
<em class="property">♦ </em><code class="descname">source_distance_spacing</code><a class="headerlink" href="#config.NonlinearGFConfig.source_distance_spacing" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1.0</span></code></p>
<p>Distance spacing [km] for GF function grid w.r.t reference_location.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.NonlinearGFConfig.error_depth">
<em class="property">♦ </em><code class="descname">error_depth</code><a class="headerlink" href="#config.NonlinearGFConfig.error_depth" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.1</span></code></p>
<p>3sigma [%/100] error in velocity model layer depth, translates to interval for varying the velocity model</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.NonlinearGFConfig.error_velocities">
<em class="property">♦ </em><code class="descname">error_velocities</code><a class="headerlink" href="#config.NonlinearGFConfig.error_velocities" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.1</span></code></p>
<p>3sigma [%/100] in velocity model layer wave-velocities, translates to interval for varying the velocity model</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.NonlinearGFConfig.depth_limit_variation">
<em class="property">♦ </em><code class="descname">depth_limit_variation</code><a class="headerlink" href="#config.NonlinearGFConfig.depth_limit_variation" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">600.0</span></code></p>
<p>Depth limit [km] for varying the velocity model. Below that depth the velocity model is not varied based on the errors defined above!</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="config.ParallelTemperingConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">ParallelTemperingConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#ParallelTemperingConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.ParallelTemperingConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
<dl class="gattribute">
<dt id="config.ParallelTemperingConfig.n_samples">
<em class="property">♦ </em><code class="descname">n_samples</code><a class="headerlink" href="#config.ParallelTemperingConfig.n_samples" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">100000</span></code></p>
<p>Number of samples of the posterior distribution. Only the samples of processors that sample from the posterior (beta=1) are kept.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.ParallelTemperingConfig.n_chains">
<em class="property">♦ </em><code class="descname">n_chains</code><a class="headerlink" href="#config.ParallelTemperingConfig.n_chains" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">2</span></code></p>
<p>Number of PT chains to sample in parallel. A number &lt; 2 will raise an Error, as this is the minimum amount of chains needed.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.ParallelTemperingConfig.swap_interval">
<em class="property">♦ </em><code class="descname">swap_interval</code><a class="headerlink" href="#config.ParallelTemperingConfig.swap_interval" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">tuple</span></code> of 2 <code class="docutils literal"><span class="pre">int</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">(100,</span> <span class="pre">300)</span></code></p>
<p>Interval for uniform random integer that is drawn to determine the length of MarkovChains on each worker. When chain is completed the last sample is returned for swapping state between chains. Consequently, lower number will result in more state swapping.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.ParallelTemperingConfig.beta_tune_interval">
<em class="property">♦ </em><code class="descname">beta_tune_interval</code><a class="headerlink" href="#config.ParallelTemperingConfig.beta_tune_interval" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">5000</span></code></p>
<p>Sample interval of master chain after which the chain swap acceptance is evaluated. High acceptance will result in closer spaced betas and vice versa.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.ParallelTemperingConfig.n_chains_posterior">
<em class="property">♦ </em><code class="descname">n_chains_posterior</code><a class="headerlink" href="#config.ParallelTemperingConfig.n_chains_posterior" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1</span></code></p>
<p>Number of chains that sample from the posterior at beat=1.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.ParallelTemperingConfig.thin">
<em class="property">♦ </em><code class="descname">thin</code><a class="headerlink" href="#config.ParallelTemperingConfig.thin" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">3</span></code></p>
<p>Thinning parameter of the sampled trace. Every “thin”th sample is taken.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.ParallelTemperingConfig.burn">
<em class="property">♦ </em><code class="descname">burn</code><a class="headerlink" href="#config.ParallelTemperingConfig.burn" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.5</span></code></p>
<p>Burn-in parameter between 0. and 1. to discard fraction of samples from the beginning of the chain.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="config.ProblemConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">ProblemConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#ProblemConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.ProblemConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Config for optimization problem to setup.</p>
<dl class="gattribute">
<dt id="config.ProblemConfig.mode">
<em class="property">♦ </em><code class="descname">mode</code><a class="headerlink" href="#config.ProblemConfig.mode" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts.StringChoice</span></code>), <em>default:</em> <code class="docutils literal"><span class="pre">'geometry'</span></code></p>
<p>Problem to solve: “geometry”, “ffi”, “interseismic”</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.ProblemConfig.mode_config">
<em class="property">♦ </em><code class="descname">mode_config</code><a class="headerlink" href="#config.ProblemConfig.mode_config" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#config.ModeConfig" title="config.ModeConfig"><code class="xref py py-class docutils literal"><span class="pre">ModeConfig</span></code></a>, <em>optional</em></p>
<p>Global optimization mode specific parameters.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.ProblemConfig.source_type">
<em class="property">♦ </em><code class="descname">source_type</code><a class="headerlink" href="#config.ProblemConfig.source_type" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts.StringChoice</span></code>), <em>default:</em> <code class="docutils literal"><span class="pre">'RectangularSource'</span></code></p>
<p>Source type to optimize for. Options: ExplosionSource, RectangularExplosionSource, DCSource, CLVDSource, MTSource, MTQTSource, RectangularSource, DoubleDCSource, RingfaultSource</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.ProblemConfig.stf_type">
<em class="property">♦ </em><code class="descname">stf_type</code><a class="headerlink" href="#config.ProblemConfig.stf_type" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts.StringChoice</span></code>), <em>default:</em> <code class="docutils literal"><span class="pre">'HalfSinusoid'</span></code></p>
<p>Source time function type to use. Options: Boxcar, Triangular, HalfSinusoid</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.ProblemConfig.decimation_factors">
<em class="property">♦ </em><code class="descname">decimation_factors</code><a class="headerlink" href="#config.ProblemConfig.decimation_factors" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">dict</span></code> of <code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts.Any</span></code> objects, <em>optional</em></p>
<p>Determines the reduction of discretization of an extended source.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.ProblemConfig.n_sources">
<em class="property">♦ </em><code class="descname">n_sources</code><a class="headerlink" href="#config.ProblemConfig.n_sources" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1</span></code></p>
<p>Number of Sub-sources to solve for</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.ProblemConfig.datatypes">
<em class="property">♦ </em><code class="descname">datatypes</code><a class="headerlink" href="#config.ProblemConfig.datatypes" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">list</span></code> of <code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts.Any</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">['geodetic']</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="config.ProblemConfig.dataset_specific_residual_noise_estimation">
<em class="property">♦ </em><code class="descname">dataset_specific_residual_noise_estimation</code><a class="headerlink" href="#config.ProblemConfig.dataset_specific_residual_noise_estimation" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">bool</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">False</span></code></p>
<p>If set, for EACH DATASET specific hyperparameter estimation.For seismic data: n_hypers = nstations * nchannels.For geodetic data: n_hypers = nimages (SAR) or nstations * ncomponents (GPS).If false one hyperparameter for each DATATYPE and displacement COMPONENT.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.ProblemConfig.hyperparameters">
<em class="property">♦ </em><code class="descname">hyperparameters</code><a class="headerlink" href="#config.ProblemConfig.hyperparameters" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">dict</span></code> of <code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts.Any</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">{}</span></code></p>
<p>Hyperparameters to estimate the noise in different types of datatypes.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.ProblemConfig.priors">
<em class="property">♦ </em><code class="descname">priors</code><a class="headerlink" href="#config.ProblemConfig.priors" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">dict</span></code> of <code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts.Any</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">{}</span></code></p>
<p>Priors of the variables in question.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.ProblemConfig.hierarchicals">
<em class="property">♦ </em><code class="descname">hierarchicals</code><a class="headerlink" href="#config.ProblemConfig.hierarchicals" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">dict</span></code> of <code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts.Any</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">{}</span></code></p>
<p>Hierarchical parameters that affect the posterior likelihood, but do not affect the forward problem. Implemented: Temporal station corrections, orbital ramp estimation</p>
</dd></dl>

<dl class="method">
<dt id="config.ProblemConfig.get_slip_variables">
<code class="descname">get_slip_variables</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#ProblemConfig.get_slip_variables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.ProblemConfig.get_slip_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of slip variable names defined in the ProblemConfig.</p>
</dd></dl>

<dl class="method">
<dt id="config.ProblemConfig.get_test_point">
<code class="descname">get_test_point</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#ProblemConfig.get_test_point"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.ProblemConfig.get_test_point" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns dict with test point</p>
</dd></dl>

<dl class="method">
<dt id="config.ProblemConfig.init_vars">
<code class="descname">init_vars</code><span class="sig-paren">(</span><em>variables=None</em>, <em>nvars=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#ProblemConfig.init_vars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.ProblemConfig.init_vars" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiate priors based on the problem mode and datatypes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>variables</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of str of variable names to initialise</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="config.ProblemConfig.select_variables">
<code class="descname">select_variables</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#ProblemConfig.select_variables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.ProblemConfig.select_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Return model variables depending on problem config.</p>
</dd></dl>

<dl class="method">
<dt id="config.ProblemConfig.set_decimation_factor">
<code class="descname">set_decimation_factor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#ProblemConfig.set_decimation_factor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.ProblemConfig.set_decimation_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the reduction of discretization of an extended source.
Influences yet only the RectangularSource.</p>
</dd></dl>

<dl class="method">
<dt id="config.ProblemConfig.set_vars">
<code class="descname">set_vars</code><span class="sig-paren">(</span><em>bounds_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#ProblemConfig.set_vars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.ProblemConfig.set_vars" title="Permalink to this definition">¶</a></dt>
<dd><p>Set variable bounds to given bounds.</p>
</dd></dl>

<dl class="method">
<dt id="config.ProblemConfig.validate_hierarchicals">
<code class="descname">validate_hierarchicals</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#ProblemConfig.validate_hierarchicals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.ProblemConfig.validate_hierarchicals" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if hierarchicals and their test values do not contradict!</p>
</dd></dl>

<dl class="method">
<dt id="config.ProblemConfig.validate_hypers">
<code class="descname">validate_hypers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#ProblemConfig.validate_hypers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.ProblemConfig.validate_hypers" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if hyperparameters and their test values do not contradict!</p>
</dd></dl>

<dl class="method">
<dt id="config.ProblemConfig.validate_priors">
<code class="descname">validate_priors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#ProblemConfig.validate_priors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.ProblemConfig.validate_priors" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if priors and their test values do not contradict!</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="config.SMCConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">SMCConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#SMCConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.SMCConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Config for optimization parameters of the SMC algorithm.</p>
<dl class="gattribute">
<dt id="config.SMCConfig.n_jobs">
<em class="property">♦ </em><code class="descname">n_jobs</code><a class="headerlink" href="#config.SMCConfig.n_jobs" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1</span></code></p>
<p>Number of processors to use, i.e. chains to sample in parallel.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.SMCConfig.n_steps">
<em class="property">♦ </em><code class="descname">n_steps</code><a class="headerlink" href="#config.SMCConfig.n_steps" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">100</span></code></p>
<p>Number of steps for the MC chain.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.SMCConfig.n_chains">
<em class="property">♦ </em><code class="descname">n_chains</code><a class="headerlink" href="#config.SMCConfig.n_chains" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1000</span></code></p>
<p>Number of Metropolis chains for sampling.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.SMCConfig.coef_variation">
<em class="property">♦ </em><code class="descname">coef_variation</code><a class="headerlink" href="#config.SMCConfig.coef_variation" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1.0</span></code></p>
<p>Coefficient of variation, determines the similarity of theintermediate stage pdfs;low - small beta steps (slow cooling),high - wide beta steps (fast cooling)</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.SMCConfig.stage">
<em class="property">♦ </em><code class="descname">stage</code><a class="headerlink" href="#config.SMCConfig.stage" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0</span></code></p>
<p>Stage where to start/continue the sampling. Has to be int -1 for final stage</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.SMCConfig.proposal_dist">
<em class="property">♦ </em><code class="descname">proposal_dist</code><a class="headerlink" href="#config.SMCConfig.proposal_dist" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'MultivariateNormal'</span></code></p>
<p>Multivariate Normal Proposal distribution, for Metropolis stepsalternatives need to be implemented</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.SMCConfig.update_covariances">
<em class="property">♦ </em><code class="descname">update_covariances</code><a class="headerlink" href="#config.SMCConfig.update_covariances" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">bool</span></code>, <em>optional</em>, <em>default:</em> <code class="docutils literal"><span class="pre">True</span></code></p>
<p>Update model prediction covariance matrixes in transition stages.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="config.SamplerConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">SamplerConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#SamplerConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.SamplerConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Config for the sampler specific parameters.</p>
<dl class="gattribute">
<dt id="config.SamplerConfig.name">
<em class="property">♦ </em><code class="descname">name</code><a class="headerlink" href="#config.SamplerConfig.name" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'SMC'</span></code></p>
<p>Sampler to use for sampling the solution space. Metropolis/ SMC</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.SamplerConfig.progressbar">
<em class="property">♦ </em><code class="descname">progressbar</code><a class="headerlink" href="#config.SamplerConfig.progressbar" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">bool</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">True</span></code></p>
<p>Display progressbar(s) during sampling.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.SamplerConfig.buffer_size">
<em class="property">♦ </em><code class="descname">buffer_size</code><a class="headerlink" href="#config.SamplerConfig.buffer_size" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">5000</span></code></p>
<p>number of samples after which the result buffer is written to disk</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.SamplerConfig.parameters">
<em class="property">♦ </em><code class="descname">parameters</code><a class="headerlink" href="#config.SamplerConfig.parameters" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#config.SamplerParameters" title="config.SamplerParameters"><code class="xref py py-class docutils literal"><span class="pre">SamplerParameters</span></code></a>, <em>optional</em>, <em>default:</em> <code class="docutils literal"><span class="pre">&lt;config.SMCConfig</span> <span class="pre">object</span> <span class="pre">at</span> <span class="pre">0x7f53416f0750&gt;</span></code></p>
<p>Sampler dependend Parameters</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="config.SamplerParameters">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">SamplerParameters</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#SamplerParameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.SamplerParameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
<dl class="gattribute">
<dt id="config.SamplerParameters.tune_interval">
<em class="property">♦ </em><code class="descname">tune_interval</code><a class="headerlink" href="#config.SamplerParameters.tune_interval" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">50</span></code></p>
<p>Tune interval for adaptive tuning of Metropolis step size.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.SamplerParameters.proposal_dist">
<em class="property">♦ </em><code class="descname">proposal_dist</code><a class="headerlink" href="#config.SamplerParameters.proposal_dist" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'Normal'</span></code></p>
<p>Normal Proposal distribution, for Metropolis steps;Alternatives: Cauchy, Laplace, Poisson, MultivariateNormal</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.SamplerParameters.check_bnd">
<em class="property">♦ </em><code class="descname">check_bnd</code><a class="headerlink" href="#config.SamplerParameters.check_bnd" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">bool</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">True</span></code></p>
<p>Flag for checking whether proposed step lies within variable bounds.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.SamplerParameters.rm_flag">
<em class="property">♦ </em><code class="descname">rm_flag</code><a class="headerlink" href="#config.SamplerParameters.rm_flag" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">bool</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">False</span></code></p>
<p>Remove existing results prior to sampling.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="config.SeismicConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">SeismicConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#SeismicConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.SeismicConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Config for seismic data optimization related parameters.</p>
<dl class="gattribute">
<dt id="config.SeismicConfig.datadir">
<em class="property">♦ </em><code class="descname">datadir</code><a class="headerlink" href="#config.SeismicConfig.datadir" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'./'</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="config.SeismicConfig.blacklist">
<em class="property">♦ </em><code class="descname">blacklist</code><a class="headerlink" href="#config.SeismicConfig.blacklist" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">list</span></code> of <code class="docutils literal"><span class="pre">str</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">['placeholder']</span></code></p>
<p>Station name for station to be thrown out.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.SeismicConfig.calc_data_cov">
<em class="property">♦ </em><code class="descname">calc_data_cov</code><a class="headerlink" href="#config.SeismicConfig.calc_data_cov" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">bool</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">True</span></code></p>
<p>Flag for calculating the data covariance matrix based on the pre P arrival data trace noise.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.SeismicConfig.pre_stack_cut">
<em class="property">♦ </em><code class="descname">pre_stack_cut</code><a class="headerlink" href="#config.SeismicConfig.pre_stack_cut" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">bool</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">True</span></code></p>
<p>Cut the GF traces before stacking around the specified arrival taper</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.SeismicConfig.station_corrections">
<em class="property">♦ </em><code class="descname">station_corrections</code><a class="headerlink" href="#config.SeismicConfig.station_corrections" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">bool</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">False</span></code></p>
<p>If set, optimize for time shift for each station.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.SeismicConfig.waveforms">
<em class="property">♦ </em><code class="descname">waveforms</code><a class="headerlink" href="#config.SeismicConfig.waveforms" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">list</span></code> of <a class="reference internal" href="#config.WaveformFitConfig" title="config.WaveformFitConfig"><code class="xref py py-class docutils literal"><span class="pre">WaveformFitConfig</span></code></a> objects, <em>default:</em> <code class="docutils literal"><span class="pre">[]</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="config.SeismicConfig.gf_config">
<em class="property">♦ </em><code class="descname">gf_config</code><a class="headerlink" href="#config.SeismicConfig.gf_config" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#config.GFConfig" title="config.GFConfig"><code class="xref py py-class docutils literal"><span class="pre">GFConfig</span></code></a>, <em>default:</em> <code class="docutils literal"><span class="pre">&lt;config.SeismicGFConfig</span> <span class="pre">object</span> <span class="pre">at</span> <span class="pre">0x7f53416f8250&gt;</span></code></p>
</dd></dl>

<dl class="method">
<dt id="config.SeismicConfig.init_waveforms">
<code class="descname">init_waveforms</code><span class="sig-paren">(</span><em>wavenames</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#SeismicConfig.init_waveforms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.SeismicConfig.init_waveforms" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise waveform configurations.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="config.SeismicGFConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">SeismicGFConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#SeismicGFConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.SeismicGFConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Seismic GF parameters for Layered Halfspace.</p>
<dl class="gattribute">
<dt id="config.SeismicGFConfig.reference_location">
<em class="property">♦ </em><code class="descname">reference_location</code><a class="headerlink" href="#config.SeismicGFConfig.reference_location" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="xref py py-class docutils literal"><span class="pre">beat.heart.ReferenceLocation</span></code>, <em>optional</em></p>
<p>Reference location for the midpoint of the Green’s Function grid.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.SeismicGFConfig.code">
<em class="property">♦ </em><code class="descname">code</code><a class="headerlink" href="#config.SeismicGFConfig.code" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'qssp'</span></code></p>
<p>Modeling code to use. (qssp, qseis, comming soon: qseis2d)</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.SeismicGFConfig.sample_rate">
<em class="property">♦ </em><code class="descname">sample_rate</code><a class="headerlink" href="#config.SeismicGFConfig.sample_rate" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">2.0</span></code></p>
<p>Sample rate for the Greens Functions.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.SeismicGFConfig.rm_gfs">
<em class="property">♦ </em><code class="descname">rm_gfs</code><a class="headerlink" href="#config.SeismicGFConfig.rm_gfs" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">bool</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">True</span></code></p>
<p>Flag for removing modeling module GF files after completion.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="config.SeismicGFLibraryConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">SeismicGFLibraryConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#SeismicGFLibraryConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.SeismicGFLibraryConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Config for the linear Seismic GF Library for dumping and loading.</p>
<dl class="gattribute">
<dt id="config.SeismicGFLibraryConfig.wave_config">
<em class="property">♦ </em><code class="descname">wave_config</code><a class="headerlink" href="#config.SeismicGFLibraryConfig.wave_config" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#config.WaveformFitConfig" title="config.WaveformFitConfig"><code class="xref py py-class docutils literal"><span class="pre">WaveformFitConfig</span></code></a>, <em>default:</em> <code class="docutils literal"><span class="pre">&lt;config.WaveformFitConfig</span> <span class="pre">object</span> <span class="pre">at</span> <span class="pre">0x7f53416f0f50&gt;</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="config.SeismicGFLibraryConfig.starttime_sampling">
<em class="property">♦ </em><code class="descname">starttime_sampling</code><a class="headerlink" href="#config.SeismicGFLibraryConfig.starttime_sampling" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.5</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="config.SeismicGFLibraryConfig.duration_sampling">
<em class="property">♦ </em><code class="descname">duration_sampling</code><a class="headerlink" href="#config.SeismicGFLibraryConfig.duration_sampling" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.5</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="config.SeismicGFLibraryConfig.starttime_min">
<em class="property">♦ </em><code class="descname">starttime_min</code><a class="headerlink" href="#config.SeismicGFLibraryConfig.starttime_min" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="config.SeismicGFLibraryConfig.duration_min">
<em class="property">♦ </em><code class="descname">duration_min</code><a class="headerlink" href="#config.SeismicGFLibraryConfig.duration_min" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.1</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="config.SeismicGFLibraryConfig.dimensions">
<em class="property">♦ </em><code class="descname">dimensions</code><a class="headerlink" href="#config.SeismicGFLibraryConfig.dimensions" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">tuple</span></code> of 5 <code class="docutils literal"><span class="pre">int</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0)</span></code></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="config.SeismicLinearGFConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">SeismicLinearGFConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#SeismicLinearGFConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.SeismicLinearGFConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Config for seismic linear GreensFunction calculation parameters.</p>
<dl class="gattribute">
<dt id="config.SeismicLinearGFConfig.reference_location">
<em class="property">♦ </em><code class="descname">reference_location</code><a class="headerlink" href="#config.SeismicLinearGFConfig.reference_location" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="xref py py-class docutils literal"><span class="pre">beat.heart.ReferenceLocation</span></code>, <em>optional</em></p>
<p>Reference location for the midpoint of the Green’s Function grid.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.SeismicLinearGFConfig.duration_sampling">
<em class="property">♦ </em><code class="descname">duration_sampling</code><a class="headerlink" href="#config.SeismicLinearGFConfig.duration_sampling" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1.0</span></code></p>
<p>Calculate Green’s Functions for varying Source Time Function durations determined by prior bounds. Discretization between is determined by duration sampling.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.SeismicLinearGFConfig.starttime_sampling">
<em class="property">♦ </em><code class="descname">starttime_sampling</code><a class="headerlink" href="#config.SeismicLinearGFConfig.starttime_sampling" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1.0</span></code></p>
<p>Calculate Green’s Functions for varying rupture onset times.These are determined by the (rupture) velocity prior bounds and the hypocenter location.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="config.WaveformFitConfig">
<em class="property">class </em><code class="descclassname">config.</code><code class="descname">WaveformFitConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#WaveformFitConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.WaveformFitConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Config for specific parameters that are applied to post-process
a specific type of waveform and calculate the misfit.</p>
<dl class="gattribute">
<dt id="config.WaveformFitConfig.include">
<em class="property">♦ </em><code class="descname">include</code><a class="headerlink" href="#config.WaveformFitConfig.include" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">bool</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">True</span></code></p>
<p>Flag to include waveform into optimization.</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.WaveformFitConfig.name">
<em class="property">♦ </em><code class="descname">name</code><a class="headerlink" href="#config.WaveformFitConfig.name" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'any_P'</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="config.WaveformFitConfig.channels">
<em class="property">♦ </em><code class="descname">channels</code><a class="headerlink" href="#config.WaveformFitConfig.channels" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">list</span></code> of <code class="docutils literal"><span class="pre">str</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">['Z']</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="config.WaveformFitConfig.filterer">
<em class="property">♦ </em><code class="descname">filterer</code><a class="headerlink" href="#config.WaveformFitConfig.filterer" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="xref py py-class docutils literal"><span class="pre">beat.heart.Filter</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">&lt;beat.heart.Filter</span> <span class="pre">object</span> <span class="pre">at</span> <span class="pre">0x7f53416e1d90&gt;</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="config.WaveformFitConfig.distances">
<em class="property">♦ </em><code class="descname">distances</code><a class="headerlink" href="#config.WaveformFitConfig.distances" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">tuple</span></code> of 2 <code class="docutils literal"><span class="pre">float</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">(30.0,</span> <span class="pre">90.0)</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="config.WaveformFitConfig.interpolation">
<em class="property">♦ </em><code class="descname">interpolation</code><a class="headerlink" href="#config.WaveformFitConfig.interpolation" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts.StringChoice</span></code>), <em>default:</em> <code class="docutils literal"><span class="pre">'multilinear'</span></code></p>
<p>GF interpolation sceme</p>
</dd></dl>

<dl class="gattribute">
<dt id="config.WaveformFitConfig.arrival_taper">
<em class="property">♦ </em><code class="descname">arrival_taper</code><a class="headerlink" href="#config.WaveformFitConfig.arrival_taper" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://pyrocko.org/v0.3/library/reference/trace.html#pyrocko.trace.Taper" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.Taper</span></code></a>, <em>default:</em> <code class="docutils literal"><span class="pre">&lt;beat.heart.ArrivalTaper</span> <span class="pre">object</span> <span class="pre">at</span> <span class="pre">0x7f53416e1d90&gt;</span></code></p>
<p>Taper a,b/c,d time [s] before/after wave arrival</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="config.dump_config">
<code class="descclassname">config.</code><code class="descname">dump_config</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#dump_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.dump_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Load configuration file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>config</strong> (<code class="xref py py-class docutils literal"><span class="pre">BEATConfig</span></code>) – </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="config.init_config">
<code class="descclassname">config.</code><code class="descname">init_config</code><span class="sig-paren">(</span><em>name, date=None, min_magnitude=6.0, main_path='./', datatypes=['geodetic'], mode='geometry', source_type='RectangularSource', n_sources=1, waveforms=['any_P'], sampler='SMC', hyper_sampler='Metropolis', use_custom=False, individual_gfs=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#init_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.init_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise BEATconfig File and write it main_path/name .
Fine parameters have to be edited in the config file .yaml manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Name of the event</li>
<li><strong>date</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – ‘YYYY-MM-DD’, date of the event</li>
<li><strong>min_magnitude</strong> (<em>scalar</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – approximate minimum Mw of the event</li>
<li><strong>datatypes</strong> (<em>List of strings</em>) – data sets to include in the optimization: either ‘geodetic’ and/or
‘seismic’</li>
<li><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – type of optimization problem: ‘Geometry’ / ‘Static’/ ‘Kinematic’</li>
<li><strong>n_sources</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – number of sources to solve for / discretize depending on mode parameter</li>
<li><strong>waveforms</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of strings of waveforms to include into the misfit function and
GF calculation</li>
<li><strong>sampler</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Optimization algorithm to use to sample the solution space
Options: ‘SMC’, ‘Metropolis’</li>
<li><strong>use_custom</strong> (<em>boolean</em>) – Flag to setup manually a custom velocity model.</li>
<li><strong>individual_gfs</strong> (<em>boolean</em>) – Flag to use individual Green’s Functions for each specific station.
If false a reference location will be initialised in the config file.
If true the reference locations will be taken from the imported station
objects.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#config.BEATconfig" title="config.BEATconfig"><code class="xref py py-class docutils literal"><span class="pre">BEATconfig</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="config.load_config">
<code class="descclassname">config.</code><code class="descname">load_config</code><span class="sig-paren">(</span><em>project_dir</em>, <em>mode</em>, <em>update=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/config.html#load_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.load_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Load configuration file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>project_dir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – path to the directory of the configuration file</li>
<li><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – type of optimization problem: ‘geometry’ / ‘static’/ ‘kinematic’</li>
<li><strong>update</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of strings to update parameters
‘hypers’ or/and ‘hierarchicals’</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#config.BEATconfig" title="config.BEATconfig"><code class="xref py py-class docutils literal"><span class="pre">BEATconfig</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-sampler">
<span id="the-sampler-module"></span><h2>The <a class="reference internal" href="#module-sampler" title="sampler"><code class="xref py py-mod docutils literal"><span class="pre">sampler</span></code></a> Module<a class="headerlink" href="#module-sampler" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-sampler.metropolis">
<span id="metropolis"></span><h3><code class="xref py py-mod docutils literal"><span class="pre">metropolis</span></code><a class="headerlink" href="#module-sampler.metropolis" title="Permalink to this headline">¶</a></h3>
<p>Metropolis algorithm module, wrapping the pymc3 implementation.
Provides the possibility to update the involved covariance matrixes within
the course of sampling the chain.</p>
<dl class="function">
<dt id="sampler.metropolis.metropolis_sample">
<code class="descclassname">sampler.metropolis.</code><code class="descname">metropolis_sample</code><span class="sig-paren">(</span><em>n_steps=10000</em>, <em>homepath=None</em>, <em>start=None</em>, <em>progressbar=False</em>, <em>rm_flag=False</em>, <em>buffer_size=5000</em>, <em>step=None</em>, <em>model=None</em>, <em>n_jobs=1</em>, <em>update=None</em>, <em>burn=0.5</em>, <em>thin=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sampler/metropolis.html#metropolis_sample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sampler.metropolis.metropolis_sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute Metropolis algorithm repeatedly depending on the number of chains.</p>
</dd></dl>

<dl class="function">
<dt id="sampler.metropolis.get_trace_stats">
<code class="descclassname">sampler.metropolis.</code><code class="descname">get_trace_stats</code><span class="sig-paren">(</span><em>mtrace</em>, <em>step</em>, <em>burn=0.5</em>, <em>thin=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sampler/metropolis.html#get_trace_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sampler.metropolis.get_trace_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Get mean value of trace variables and return point.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mtrace</strong> (<code class="xref py py-class docutils literal"><span class="pre">pymc3.backends.base.MultiTrace</span></code>) – Multitrace sampling result</li>
<li><strong>step</strong> (initialised <code class="xref py py-class docutils literal"><span class="pre">smc.SMC</span></code> sampler object) – </li>
<li><strong>burn</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Burn-in parameter to throw out samples from the beginning of the trace</li>
<li><strong>thin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Thinning of samples in the trace</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict with points, covariance matrix</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sampler.metropolis.get_final_stage">
<code class="descclassname">sampler.metropolis.</code><code class="descname">get_final_stage</code><span class="sig-paren">(</span><em>homepath</em>, <em>n_stages</em>, <em>model</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sampler/metropolis.html#get_final_stage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sampler.metropolis.get_final_stage" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine Metropolis results into final stage to get one single chain for
plotting results.</p>
</dd></dl>

<dl class="class">
<dt id="sampler.metropolis.Metropolis">
<em class="property">class </em><code class="descclassname">sampler.metropolis.</code><code class="descname">Metropolis</code><span class="sig-paren">(</span><em>vars=None</em>, <em>out_vars=None</em>, <em>covariance=None</em>, <em>scale=1.0</em>, <em>n_chains=100</em>, <em>tune=True</em>, <em>tune_interval=100</em>, <em>model=None</em>, <em>check_bound=True</em>, <em>likelihood_name='like'</em>, <em>proposal_name='MultivariateNormal'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sampler/metropolis.html#Metropolis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sampler.metropolis.Metropolis" title="Permalink to this definition">¶</a></dt>
<dd><p>Metropolis-Hastings sampler</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>vars</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – List of variables for sampler</li>
<li><strong>out_vars</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – List of output variables for trace recording. If empty unobserved_RVs
are taken.</li>
<li><strong>n_chains</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of chains per stage has to be a large number
of number of n_jobs (processors to be used) on the machine.</li>
<li><strong>scaling</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Factor applied to the proposal distribution i.e. the step size of the
Markov Chain</li>
<li><strong>covariance</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>) – (n_chains x n_chains) for MutlivariateNormal, otherwise (n_chains)
Initial Covariance matrix for proposal distribution,
if None - identity matrix taken</li>
<li><strong>likelihood_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/string.html#module-string" title="(in Python v3.7)"><em>string</em></a>) – name of the <code class="xref py py-class docutils literal"><span class="pre">pymc3.determinsitic</span></code> variable that contains the
model likelihood - defaults to ‘like’</li>
<li><strong>proposal_dist</strong> – <code class="xref py py-class docutils literal"><span class="pre">pymc3.metropolis.Proposal</span></code>
Type of proposal distribution, see
<a href="#id1"><span class="problematic" id="id2">:module:`pymc3.step_methods.metropolis`</span></a> for options</li>
<li><strong>tune</strong> (<em>boolean</em>) – Flag for adaptive scaling based on the acceptance rate</li>
<li><strong>model</strong> (<code class="xref py py-class docutils literal"><span class="pre">pymc3.Model</span></code>) – Optional model for sampling step.
Defaults to None (taken from context).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="sampler.metropolis.Metropolis.apply_sampler_state">
<code class="descname">apply_sampler_state</code><span class="sig-paren">(</span><em>state</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sampler/metropolis.html#Metropolis.apply_sampler_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sampler.metropolis.Metropolis.apply_sampler_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Update sampler state to given state
(obtained by ‘get_sampler_state’)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>state</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – with sampler parameters</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sampler.metropolis.Metropolis.get_sampler_state">
<code class="descname">get_sampler_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sampler/metropolis.html#Metropolis.get_sampler_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sampler.metropolis.Metropolis.get_sampler_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Return dictionary of sampler state.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict of sampler state</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-sampler.smc">
<span id="smc"></span><h3><code class="xref py py-mod docutils literal"><span class="pre">smc</span></code><a class="headerlink" href="#module-sampler.smc" title="Permalink to this headline">¶</a></h3>
<p>Sequential Monte Carlo Sampler module;
in geosciences also known as
Adaptive Transitional Marcov Chain Monte Carlo sampler module.</p>
<p>Runs on any pymc3 model.</p>
<p>Created on March, 2016</p>
<p>Various significant updates July, August 2016</p>
<p>&#64;author: Hannes Vasyura-Bathke</p>
<dl class="class">
<dt id="sampler.smc.SMC">
<em class="property">class </em><code class="descclassname">sampler.smc.</code><code class="descname">SMC</code><span class="sig-paren">(</span><em>vars=None</em>, <em>out_vars=None</em>, <em>covariance=None</em>, <em>scale=1.0</em>, <em>n_chains=100</em>, <em>tune=True</em>, <em>tune_interval=100</em>, <em>model=None</em>, <em>check_bound=True</em>, <em>likelihood_name='like'</em>, <em>proposal_name='MultivariateNormal'</em>, <em>coef_variation=1.0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sampler/smc.html#SMC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sampler.smc.SMC" title="Permalink to this definition">¶</a></dt>
<dd><p>Adaptive Transitional Markov-Chain Monte-Carlo sampler class.</p>
<p>Creates initial samples and framework around the (C)ATMIP parameters</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>vars</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – List of variables for sampler</li>
<li><strong>out_vars</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – List of output variables for trace recording. If empty unobserved_RVs
are taken.</li>
<li><strong>n_chains</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of chains per stage has to be a large number
of number of n_jobs (processors to be used) on the machine.</li>
<li><strong>scaling</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Factor applied to the proposal distribution i.e. the step size of the
Markov Chain</li>
<li><strong>covariance</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>) – (n_chains x n_chains) for MutlivariateNormal, otherwise (n_chains)
Initial Covariance matrix for proposal distribution,
if None - identity matrix taken</li>
<li><strong>likelihood_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/string.html#module-string" title="(in Python v3.7)"><em>string</em></a>) – name of the <code class="xref py py-class docutils literal"><span class="pre">pymc3.determinsitic</span></code> variable that contains the
model likelihood - defaults to ‘like’</li>
<li><strong>proposal_dist</strong> – <code class="xref py py-class docutils literal"><span class="pre">pymc3.metropolis.Proposal</span></code>
Type of proposal distribution, see
<a href="#id3"><span class="problematic" id="id4">:module:`pymc3.step_methods.metropolis`</span></a> for options</li>
<li><strong>tune</strong> (<em>boolean</em>) – Flag for adaptive scaling based on the acceptance rate</li>
<li><strong>coef_variation</strong> (<em>scalar</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Coefficient of variation, determines the change of beta
from stage to stage, i.e.indirectly the number of stages,
low coef_variation –&gt; slow beta change,
results in many stages and vice verca (default: 1.)</li>
<li><strong>check_bound</strong> (<em>boolean</em>) – Check if current sample lies outside of variable definition
speeds up computation as the forward model wont be executed
default: True</li>
<li><strong>model</strong> (<code class="xref py py-class docutils literal"><span class="pre">pymc3.Model</span></code>) – Optional model for sampling step.
Defaults to None (taken from context).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="ching2007" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Ching2007]</td><td>Ching, J. and Chen, Y. (2007).
Transitional Markov Chain Monte Carlo Method for Bayesian Model
Updating, Model Class Selection, and Model Averaging.
J. Eng. Mech., 10.1061/(ASCE)0733-9399(2007)133:7(816), 816-832.
<a class="reference external" href="http://ascelibrary.org/doi/abs/10.1061/%28ASCE%290733-9399%282007%29133:7%28816%29">link</a></td></tr>
</tbody>
</table>
<dl class="method">
<dt id="sampler.smc.SMC.calc_beta">
<code class="descname">calc_beta</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sampler/smc.html#SMC.calc_beta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sampler.smc.SMC.calc_beta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate next tempering beta and importance weights based on
current beta and sample likelihoods.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>beta(m+1)</strong> (<em>scalar, float</em>) – tempering parameter of the next stage</li>
<li><strong>beta(m)</strong> (<em>scalar, float</em>) – tempering parameter of the current stage</li>
<li><strong>weights</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>) – Importance weights (floats)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sampler.smc.SMC.calc_covariance">
<code class="descname">calc_covariance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sampler/smc.html#SMC.calc_covariance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sampler.smc.SMC.calc_covariance" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate trace covariance matrix based on importance weights.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>cov</strong> – weighted covariances (NumPy &gt; 1.10. required)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sampler.smc.SMC.get_chain_previous_lpoint">
<code class="descname">get_chain_previous_lpoint</code><span class="sig-paren">(</span><em>mtrace</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sampler/smc.html#SMC.get_chain_previous_lpoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sampler.smc.SMC.get_chain_previous_lpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Read trace results and take end points for each chain and set as
previous chain result for comparison of metropolis select.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mtrace</strong> (<code class="xref py py-class docutils literal"><span class="pre">pymc3.backend.base.MultiTrace</span></code>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>chain_previous_lpoint</strong> – all unobservedRV values, including dataset likelihoods</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)">list</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sampler.smc.SMC.mean_end_points">
<code class="descname">mean_end_points</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sampler/smc.html#SMC.mean_end_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sampler.smc.SMC.mean_end_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate mean of the end-points and return point.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Dictionary of trace variables</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sampler.smc.SMC.resample">
<code class="descname">resample</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sampler/smc.html#SMC.resample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sampler.smc.SMC.resample" title="Permalink to this definition">¶</a></dt>
<dd><p>Resample pdf based on importance weights.
based on Kitagawas deterministic resampling algorithm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>outindex</strong> – Array of resampled trace indexes</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sampler.smc.SMC.select_end_points">
<code class="descname">select_end_points</code><span class="sig-paren">(</span><em>mtrace</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sampler/smc.html#SMC.select_end_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sampler.smc.SMC.select_end_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Read trace results (variables and model likelihood) and take end points
for each chain and set as start population for the next stage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mtrace</strong> (<code class="xref py py-class docutils literal"><span class="pre">pymc3.backend.base.MultiTrace</span></code>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>population</strong> (<em>list</em>) – of <code class="xref py py-func docutils literal"><span class="pre">pymc3.Point()</span></code> dictionaries</li>
<li><strong>array_population</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>) – Array of trace end-points</li>
<li><strong>likelihoods</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>) – Array of likelihoods of the trace end-points</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="sampler.smc.smc_sample">
<code class="descclassname">sampler.smc.</code><code class="descname">smc_sample</code><span class="sig-paren">(</span><em>n_steps</em>, <em>step=None</em>, <em>start=None</em>, <em>homepath=None</em>, <em>chain=0</em>, <em>stage=0</em>, <em>n_jobs=1</em>, <em>tune=None</em>, <em>progressbar=False</em>, <em>buffer_size=5000</em>, <em>model=None</em>, <em>update=None</em>, <em>random_seed=None</em>, <em>rm_flag=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sampler/smc.html#smc_sample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sampler.smc.smc_sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Sequential Monte Carlo samlping</p>
<p>Samples the solution space with n_chains of Metropolis chains, where each
chain has n_steps iterations. Once finished, the sampled traces are
evaluated:</p>
<ol class="arabic simple">
<li>Based on the likelihoods of the final samples, chains are weighted</li>
<li>the weighted covariance of the ensemble is calculated and set as new
proposal distribution</li>
<li>the variation in the ensemble is calculated and the next tempering
parameter (beta) calculated</li>
<li>New n_chains Metropolis chains are seeded on the traces with high
weight for n_steps iterations</li>
<li>Repeat until beta &gt; 1.</li>
</ol>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>n_steps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – The number of samples to draw for each Markov-chain per stage</li>
<li><strong>step</strong> (<a class="reference internal" href="#sampler.smc.SMC" title="sampler.smc.SMC"><code class="xref py py-class docutils literal"><span class="pre">SMC</span></code></a>) – SMC initialisation object</li>
<li><strong>start</strong> (<em>List of dictionaries</em>) – with length of (n_chains)
Starting points in parameter space (or partial point)
Defaults to random draws from variables (defaults to empty dict)</li>
<li><strong>chain</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Chain number used to store sample in backend. If <cite>n_jobs</cite> is
greater than one, chain numbers will start here.</li>
<li><strong>stage</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Stage where to start or continue the calculation. It is possible to
continue after completed stages (stage should be the number of the
completed stage + 1). If None the start will be at stage = 0.</li>
<li><strong>n_jobs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – The number of cores to be used in parallel. Be aware that theano has
internal parallelisation. Sometimes this is more efficient especially
for simple models.
step.n_chains / n_jobs has to be an integer number!</li>
<li><strong>tune</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of iterations to tune, if applicable (defaults to None)</li>
<li><strong>homepath</strong> (<a class="reference external" href="https://docs.python.org/3/library/string.html#module-string" title="(in Python v3.7)"><em>string</em></a>) – Result_folder for storing stages, will be created if not existing.</li>
<li><strong>progressbar</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Flag for displaying a progress bar</li>
<li><strong>buffer_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – this is the number of samples after which the buffer is written to disk
or if the chain end is reached</li>
<li><strong>model</strong> (<code class="xref py py-class docutils literal"><span class="pre">pymc3.Model</span></code>) – (optional if in <cite>with</cite> context) has to contain deterministic
variable name defined under step.likelihood_name’ that contains the
model likelihood</li>
<li><strong>update</strong> (<code class="xref py py-class docutils literal"><span class="pre">models.Problem</span></code>) – Problem object that contains all the observed data and (if applicable)
covariances to be updated each transition step.</li>
<li><strong>rm_flag</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – If True existing stage result folders are being deleted prior to
sampling.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="minson2013" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Minson2013]</td><td>Minson, S. E. and Simons, M. and Beck, J. L., (2013),
Bayesian inversion for finite fault earthquake source models
I- Theory and algorithm. Geophysical Journal International, 2013,
194(3), pp.1701-1726,
<a class="reference external" href="https://gji.oxfordjournals.org/content/194/3/1701.full">link</a></td></tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-sampler.pt">
<span id="pt"></span><h3><code class="xref py py-mod docutils literal"><span class="pre">pt</span></code><a class="headerlink" href="#module-sampler.pt" title="Permalink to this headline">¶</a></h3>
<p>Parallel Tempering algorithm with mpi4py</p>
<dl class="function">
<dt id="sampler.pt.pt_sample">
<code class="descclassname">sampler.pt.</code><code class="descname">pt_sample</code><span class="sig-paren">(</span><em>step</em>, <em>n_chains</em>, <em>n_samples=100000</em>, <em>swap_interval=(100</em>, <em>300)</em>, <em>beta_tune_interval=10000</em>, <em>n_workers_posterior=1</em>, <em>homepath=''</em>, <em>progressbar=True</em>, <em>buffer_size=5000</em>, <em>model=None</em>, <em>rm_flag=False</em>, <em>keep_tmp=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sampler/pt.html#pt_sample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sampler.pt.pt_sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Paralell Tempering algorithm</p>
<p>(adaptive) Metropolis sampling over n_jobs of MC chains.
Half (floor) of these are sampling at beta = 1 (the posterior).
The other half of the MC chains are tempered linearly down to
beta = 1e-6. Randomly, the states of chains are swapped based on
the Metropolis-Hastings acceptance criterion to the power of the
differences in beta of the involved chains.
The samples are written to disk only by the master process. Once
the specified number of samples is reached sampling is stopped.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>step</strong> (<code class="xref py py-class docutils literal"><span class="pre">beat.sampler.Metropolis</span></code>) – sampler object</li>
<li><strong>n_chains</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – number of Markov Chains to use</li>
<li><strong>n_samples</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – number of samples in the result trace, if reached sampling stops</li>
<li><strong>swap_interval</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)"><em>tuple</em></a>) – interval for uniform random integer that determines the length
of each MarkovChain on each worker. The chain end values of workers
are proposed for swapping state and are written in the final trace</li>
<li><strong>beta_tune_interval</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Evaluate acceptance rate of chain swaps and tune betas similar
to proposal step tuning</li>
<li><strong>n_workers_posterior</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – number of workers that sample from the posterior distribution at beta=1</li>
<li><strong>homepath</strong> (<a class="reference external" href="https://docs.python.org/3/library/string.html#module-string" title="(in Python v3.7)"><em>string</em></a>) – Result_folder for storing stages, will be created if not existing</li>
<li><strong>progressbar</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Flag for displaying a progress bar</li>
<li><strong>buffer_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – this is the number of samples after which the buffer is written to disk
or if the chain end is reached</li>
<li><strong>model</strong> (<code class="xref py py-class docutils literal"><span class="pre">pymc3.Model</span></code>) – (optional if in <cite>with</cite> context) has to contain deterministic
variable name defined under step.likelihood_name’ that contains the
model likelihood</li>
<li><strong>rm_flag</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – If True existing stage result folders are being deleted prior to
sampling.</li>
<li><strong>keep_tmp</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – If True the execution directory (under ‘/tmp/’) is not being deleted
after process finishes</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sampler.pt.sample_pt_chain">
<code class="descclassname">sampler.pt.</code><code class="descname">sample_pt_chain</code><span class="sig-paren">(</span><em>draws</em>, <em>step=None</em>, <em>start=None</em>, <em>trace=None</em>, <em>chain=0</em>, <em>tune=None</em>, <em>progressbar=True</em>, <em>model=None</em>, <em>random_seed=-1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sampler/pt.html#sample_pt_chain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sampler.pt.sample_pt_chain" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample a single chain of the Parallel Tempering algorithm and return
the last sample of the chain.
Depending on the step object the MarkovChain can have various step
behaviour, e.g. Metropolis, NUTS, …</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>draws</strong> (int or <code class="xref py py-class docutils literal"><span class="pre">beat.sampler.base.Proposal</span></code>) – The number of samples to draw for each Markov-chain per stage
or a Proposal distribution</li>
<li><strong>step</strong> (<a class="reference internal" href="#sampler.metropolis.Metropolis" title="sampler.metropolis.Metropolis"><code class="xref py py-class docutils literal"><span class="pre">sampler.metropolis.Metropolis</span></code></a>) – Metropolis initialisation object</li>
<li><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Starting point in parameter space (or partial point)
Defaults to random draws from variables (defaults to empty dict)</li>
<li><strong>chain</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Chain number used to store sample in backend.</li>
<li><strong>stage</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Stage where to start or continue the calculation. It is possible to
continue after completed stages (stage should be the number of the
completed stage + 1). If None the start will be at stage = 0.</li>
<li><strong>tune</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of iterations to tune, if applicable (defaults to None)</li>
<li><strong>progressbar</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Flag for displaying a progress bar</li>
<li><strong>model</strong> (<code class="xref py py-class docutils literal"><span class="pre">pymc3.Model</span></code>) – (optional if in <cite>with</cite> context) has to contain deterministic
variable name defined under step.likelihood_name’ that contains the
model likelihood</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">numpy.NdArray</span></code> with end-point of the MarkovChain</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="sampler.pt.TemperingManager">
<em class="property">class </em><code class="descclassname">sampler.pt.</code><code class="descname">TemperingManager</code><span class="sig-paren">(</span><em>step</em>, <em>n_workers</em>, <em>model</em>, <em>progressbar</em>, <em>buffer_size</em>, <em>swap_interval</em>, <em>beta_tune_interval</em>, <em>n_workers_posterior</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sampler/pt.html#TemperingManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sampler.pt.TemperingManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Manages worker related work attributes and holds mappings
between workers, betas and counts acceptance of chain swaps.</p>
<p>Provides methods for chain_swapping and beta adaptation.</p>
<dl class="attribute">
<dt id="sampler.pt.TemperingManager.betas">
<code class="descname">betas</code><a class="headerlink" href="#sampler.pt.TemperingManager.betas" title="Permalink to this definition">¶</a></dt>
<dd><p>Inverse of Sampler Temperatures.
The lower the more likely a step is accepted.</p>
</dd></dl>

<dl class="method">
<dt id="sampler.pt.TemperingManager.get_acceptance_swap">
<code class="descname">get_acceptance_swap</code><span class="sig-paren">(</span><em>beta</em>, <em>beta_tune_interval</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sampler/pt.html#TemperingManager.get_acceptance_swap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sampler.pt.TemperingManager.get_acceptance_swap" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns acceptance rate for swapping states between chains.</p>
</dd></dl>

<dl class="method">
<dt id="sampler.pt.TemperingManager.get_package">
<code class="descname">get_package</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sampler/pt.html#TemperingManager.get_package"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sampler.pt.TemperingManager.get_package" title="Permalink to this definition">¶</a></dt>
<dd><p>Register worker to the manager and get assigned the
annealing parameter and the work package.
If worker was registered previously continues old task.
To ensure book-keeping of workers and their sampler states.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>source</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – MPI source id from a worker message</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – annealing parameter (typically, between 1-e6 and 0)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>step</strong> – object that contains the step method how to sample the
solution space</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">class:<cite>beat.sampler.Metropolis</cite></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sampler.pt.TemperingManager.get_workers_ge_beta">
<code class="descname">get_workers_ge_beta</code><span class="sig-paren">(</span><em>beta</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sampler/pt.html#TemperingManager.get_workers_ge_beta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sampler.pt.TemperingManager.get_workers_ge_beta" title="Permalink to this definition">¶</a></dt>
<dd><p>Get worker source indexes greater, equal given beta.
Workers in decreasing beta order.</p>
</dd></dl>

<dl class="attribute">
<dt id="sampler.pt.TemperingManager.posterior_workers">
<code class="descname">posterior_workers</code><a class="headerlink" href="#sampler.pt.TemperingManager.posterior_workers" title="Permalink to this definition">¶</a></dt>
<dd><p>Worker indexes that are sampling from the posterior (beta == 1.)</p>
</dd></dl>

<dl class="method">
<dt id="sampler.pt.TemperingManager.propose_chain_swap">
<code class="descname">propose_chain_swap</code><span class="sig-paren">(</span><em>m1</em>, <em>m2</em>, <em>source1</em>, <em>source2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sampler/pt.html#TemperingManager.propose_chain_swap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sampler.pt.TemperingManager.propose_chain_swap" title="Permalink to this definition">¶</a></dt>
<dd><p>Propose a swap between chain samples.</p>
</dd></dl>

<dl class="method">
<dt id="sampler.pt.TemperingManager.tune_betas">
<code class="descname">tune_betas</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sampler/pt.html#TemperingManager.tune_betas"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sampler.pt.TemperingManager.tune_betas" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the acceptance rate of posterior workers and the
lowest tempered worker. This scaling here has the inverse
behaviour of metropolis step scaling! If there is little acceptance
more exploration is needed and lower beta values are desired.</p>
</dd></dl>

<dl class="method">
<dt id="sampler.pt.TemperingManager.update_betas">
<code class="descname">update_betas</code><span class="sig-paren">(</span><em>t_scale=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sampler/pt.html#TemperingManager.update_betas"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sampler.pt.TemperingManager.update_betas" title="Permalink to this definition">¶</a></dt>
<dd><p>Update annealing schedule for all the workers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>t_scale</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – factor to adjust the step size in the temperatures
the base step size is 1.e1</li>
<li><strong>update</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – if true the current scale factor is updated by given</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of inverse temperatures (<a class="reference internal" href="#sampler.pt.TemperingManager.betas" title="sampler.pt.TemperingManager.betas">betas</a>) in decreasing beta order</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sampler.pt.TemperingManager.worker_beta_updated">
<code class="descname">worker_beta_updated</code><span class="sig-paren">(</span><em>source</em>, <em>check=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sampler/pt.html#TemperingManager.worker_beta_updated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sampler.pt.TemperingManager.worker_beta_updated" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if source beta is updated.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>source</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – mpi worker index</li>
<li><strong>check</strong> (<em>boolean</em>) – if True worker beta status is set to “updated”</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">boolean, True if beta is updated</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="sampler.pt.tune">
<code class="descclassname">sampler.pt.</code><code class="descname">tune</code><span class="sig-paren">(</span><em>scale</em>, <em>acc_rate</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sampler/pt.html#tune"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sampler.pt.tune" title="Permalink to this definition">¶</a></dt>
<dd><p>Tunes the temperature scaling parameter
according to the acceptance rate over the last tune_interval:</p>
<p>Rate    Variance adaptation
—-    ——————-
&lt;0.001        x 0.8
&lt;0.05         x 0.9
&lt;0.2          x 0.95
&gt;0.5          x 1.05
&gt;0.75         x 1.1
&gt;0.95         x 1.2</p>
</dd></dl>

</div>
</div>
<div class="section" id="module-ffi">
<span id="the-ffi-module"></span><h2>The <a class="reference internal" href="#module-ffi" title="ffi"><code class="xref py py-mod docutils literal"><span class="pre">ffi</span></code></a> Module<a class="headerlink" href="#module-ffi" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ffi.FaultGeometry">
<em class="property">class </em><code class="descclassname">ffi.</code><code class="descname">FaultGeometry</code><span class="sig-paren">(</span><em>datatypes</em>, <em>components</em>, <em>ordering</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#FaultGeometry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.FaultGeometry" title="Permalink to this definition">¶</a></dt>
<dd><p>Object to construct complex fault-geometries with several subfaults.
Stores information for subfault geometries and
inversion variables (e.g. slip-components).
Yields patch objects for requested subfault, dataset and component.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>datatypes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of str of potential dataset fault geometries to be stored</li>
<li><strong>components</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of str of potential inversion variables (e.g. slip-components) to
be stored</li>
<li><strong>ordering</strong> (<a class="reference internal" href="#ffi.FaultOrdering" title="ffi.FaultOrdering"><code class="xref py py-class docutils literal"><span class="pre">FaultOrdering</span></code></a>) – comprises patch information related to subfaults</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ffi.FaultGeometry.fault_locations2idxs">
<code class="descname">fault_locations2idxs</code><span class="sig-paren">(</span><em>positions_dip</em>, <em>positions_strike</em>, <em>backend='numpy'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#FaultGeometry.fault_locations2idxs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.FaultGeometry.fault_locations2idxs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return patch indexes for given location on the fault.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>positions_dip</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.NdArray</span></code> float) – of positions in dip direction of the fault [km]</li>
<li><strong>positions_strike</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.NdArray</span></code> float) – of positions in strike direction of the fault [km]</li>
<li><strong>backend</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – which implementation backend to use [numpy/theano]</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ffi.FaultGeometry.get_patch_indexes">
<code class="descname">get_patch_indexes</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#FaultGeometry.get_patch_indexes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.FaultGeometry.get_patch_indexes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return indexes for sub-fault patches that translate to the solution
array.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – to the sub-fault</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>slice</strong> – to the solution array that is being extracted from the related
<code class="xref py py-class docutils literal"><span class="pre">pymc3.backends.base.MultiTrace</span></code></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#slice" title="(in Python v3.7)">slice</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ffi.FaultGeometry.get_subfault_discretization">
<code class="descname">get_subfault_discretization</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#FaultGeometry.get_subfault_discretization"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.FaultGeometry.get_subfault_discretization" title="Permalink to this definition">¶</a></dt>
<dd><p>Return number of patches in strike and dip-directions of a subfault.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – index to the subfault</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">number of patches in fault direction</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)">tuple</a> (dip, strike)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ffi.FaultGeometry.get_subfault_patches">
<code class="descname">get_subfault_patches</code><span class="sig-paren">(</span><em>index</em>, <em>datatype=None</em>, <em>component=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#FaultGeometry.get_subfault_patches"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.FaultGeometry.get_subfault_patches" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all Patches to a subfault in the geometry.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – to subfault</li>
<li><strong>datatype</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – to return ‘seismic’ or ‘geodetic’</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ffi.FaultGeometry.get_subfault_smoothing_operator">
<code class="descname">get_subfault_smoothing_operator</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#FaultGeometry.get_subfault_smoothing_operator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.FaultGeometry.get_subfault_smoothing_operator" title="Permalink to this definition">¶</a></dt>
<dd><p>Get second order Laplacian smoothing operator.</p>
<p>This is beeing used to smooth the slip-distribution
in the optimization.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">(n_patch_strike + n_patch_dip) x (n_patch_strike + n_patch_dip)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">numpy.Ndarray</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ffi.FaultGeometry.get_subfault_starttimes">
<code class="descname">get_subfault_starttimes</code><span class="sig-paren">(</span><em>index</em>, <em>rupture_velocities</em>, <em>nuc_dip_idx</em>, <em>nuc_strike_idx</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#FaultGeometry.get_subfault_starttimes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.FaultGeometry.get_subfault_starttimes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get maximum bound of start times of extending rupture along
the sub-fault.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – index to the subfault</li>
<li><strong>rupture_velocities</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.NdArray</span></code>) – of rupture velocities for each patch, (N x 1) for N patches [km/s]</li>
<li><strong>nuc_dip_idx</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – rupture nucleation idx to patch in dip-direction</li>
<li><strong>nuc_strike_idx</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – rupture nucleation idx to patch in strike-direction</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ffi.FaultGeometry.iter_subfaults">
<code class="descname">iter_subfaults</code><span class="sig-paren">(</span><em>datatype=None</em>, <em>component=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#FaultGeometry.iter_subfaults"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.FaultGeometry.iter_subfaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over subfaults.</p>
</dd></dl>

<dl class="method">
<dt id="ffi.FaultGeometry.patchmap">
<code class="descname">patchmap</code><span class="sig-paren">(</span><em>index</em>, <em>dipidx</em>, <em>strikeidx</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#FaultGeometry.patchmap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.FaultGeometry.patchmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Return mapping of strike and dip indexes to patch index.</p>
</dd></dl>

<dl class="method">
<dt id="ffi.FaultGeometry.point2starttimes">
<code class="descname">point2starttimes</code><span class="sig-paren">(</span><em>point</em>, <em>index=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#FaultGeometry.point2starttimes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.FaultGeometry.point2starttimes" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate starttimes for point in solution space.</p>
</dd></dl>

<dl class="method">
<dt id="ffi.FaultGeometry.spatchmap">
<code class="descname">spatchmap</code><span class="sig-paren">(</span><em>index</em>, <em>dipidx</em>, <em>strikeidx</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#FaultGeometry.spatchmap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.FaultGeometry.spatchmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Return mapping of strike and dip indexes to patch index.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ffi.FaultOrdering">
<em class="property">class </em><code class="descclassname">ffi.</code><code class="descname">FaultOrdering</code><span class="sig-paren">(</span><em>npls</em>, <em>npws</em>, <em>patch_size_strike</em>, <em>patch_size_dip</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#FaultOrdering"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.FaultOrdering" title="Permalink to this definition">¶</a></dt>
<dd><p>A mapping of source patches to the arrays of optimization results.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>npls</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of number of patches in strike-direction</li>
<li><strong>npws</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of number of patches in dip-direction</li>
<li><strong>patch_size_strike</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – patch size in strike-direction [km]</li>
<li><strong>patch_size_dip</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – patch size in dip-direction [km]</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="ffi.GFLibrary">
<em class="property">class </em><code class="descclassname">ffi.</code><code class="descname">GFLibrary</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#GFLibrary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.GFLibrary" title="Permalink to this definition">¶</a></dt>
<dd><p>Baseclass for linear Greens Function Libraries.</p>
<dl class="attribute">
<dt id="ffi.GFLibrary.filesize">
<code class="descname">filesize</code><a class="headerlink" href="#ffi.GFLibrary.filesize" title="Permalink to this definition">¶</a></dt>
<dd><p>Size of the library in MByte.</p>
</dd></dl>

<dl class="method">
<dt id="ffi.GFLibrary.set_stack_mode">
<code class="descname">set_stack_mode</code><span class="sig-paren">(</span><em>mode='numpy'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#GFLibrary.set_stack_mode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.GFLibrary.set_stack_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets mode on witch backend the stacking is working.
Dependend on that the input to the stack function has to be
either of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> or of <code class="xref py py-class docutils literal"><span class="pre">theano.tensor.Tensor</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – on witch array to stack</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ffi.GeodeticGFLibrary">
<em class="property">class </em><code class="descclassname">ffi.</code><code class="descname">GeodeticGFLibrary</code><span class="sig-paren">(</span><em>config=&lt;beat.config.SeismicGFLibraryConfig object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#GeodeticGFLibrary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.GeodeticGFLibrary" title="Permalink to this definition">¶</a></dt>
<dd><p>Seismic Greens Funcion Library for the finite fault optimization.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>config</strong> (<code class="xref py py-class docutils literal"><span class="pre">SeismicGFLibraryConfig</span></code>) – </td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ffi.GeodeticGFLibrary.put">
<code class="descname">put</code><span class="sig-paren">(</span><em>entries</em>, <em>patchidx</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#GeodeticGFLibrary.put"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.GeodeticGFLibrary.put" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill the GF Library with synthetic traces for one target and one patch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>entries</strong> (2d <code class="xref py py-class docutils literal"><span class="pre">numpy.NdArray</span></code>) – of synthetic trace data samples, the waveforms</li>
<li><strong>patchidx</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – index to patch (source) that is used to produce the synthetics</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ffi.GeodeticGFLibrary.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>outdir=''</em>, <em>filename=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#GeodeticGFLibrary.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.GeodeticGFLibrary.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save GFLibrary data and config file.</p>
</dd></dl>

<dl class="method">
<dt id="ffi.GeodeticGFLibrary.stack_all">
<code class="descname">stack_all</code><span class="sig-paren">(</span><em>slips</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#GeodeticGFLibrary.stack_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.GeodeticGFLibrary.stack_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Stack all patches for all targets at once.
In theano for efficient optimization.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>matrix</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">size (<a class="reference internal" href="#heart.ArrivalTaper.nsamples" title="heart.ArrivalTaper.nsamples">nsamples</a>)</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ffi.PatchMap">
<em class="property">class </em><code class="descclassname">ffi.</code><code class="descname">PatchMap</code><span class="sig-paren">(</span><em>count</em>, <em>slc</em>, <em>shp</em>, <em>npatches</em>, <em>indexmap</em><span class="sig-paren">)</span><a class="headerlink" href="#ffi.PatchMap" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="ffi.PatchMap.count">
<code class="descname">count</code><a class="headerlink" href="#ffi.PatchMap.count" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="attribute">
<dt id="ffi.PatchMap.indexmap">
<code class="descname">indexmap</code><a class="headerlink" href="#ffi.PatchMap.indexmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 4</p>
</dd></dl>

<dl class="attribute">
<dt id="ffi.PatchMap.npatches">
<code class="descname">npatches</code><a class="headerlink" href="#ffi.PatchMap.npatches" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="attribute">
<dt id="ffi.PatchMap.shp">
<code class="descname">shp</code><a class="headerlink" href="#ffi.PatchMap.shp" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="attribute">
<dt id="ffi.PatchMap.slc">
<code class="descname">slc</code><a class="headerlink" href="#ffi.PatchMap.slc" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ffi.SeismicGFLibrary">
<em class="property">class </em><code class="descclassname">ffi.</code><code class="descname">SeismicGFLibrary</code><span class="sig-paren">(</span><em>config=&lt;beat.config.SeismicGFLibraryConfig object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#SeismicGFLibrary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.SeismicGFLibrary" title="Permalink to this definition">¶</a></dt>
<dd><p>Seismic Greens Funcion Library for the finite fault optimization.</p>
<p>Eases inspection of Greens Functions through interface to the snuffler.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>config</strong> (<code class="xref py py-class docutils literal"><span class="pre">SeismicGFLibraryConfig</span></code>) – </td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ffi.SeismicGFLibrary.durations2idxs">
<code class="descname">durations2idxs</code><span class="sig-paren">(</span><em>durations</em>, <em>interpolation='nearest_neighbor'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#SeismicGFLibrary.durations2idxs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.SeismicGFLibrary.durations2idxs" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms durations into indexes to the GFLibrary.
Depending on the stacking mode of the GFLibrary theano or numpy
is used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>[</strong><strong>s</strong><strong>]</strong> (<em>durations</em>) – of the rupturing of the patch, float</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>durationidxs, starttimes</strong> – <code class="xref py py-class docutils literal"><span class="pre">theano.tensor.Tensor</span></code>, int16</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> or</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ffi.SeismicGFLibrary.get_all_tmins">
<code class="descname">get_all_tmins</code><span class="sig-paren">(</span><em>patchidx</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#SeismicGFLibrary.get_all_tmins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.SeismicGFLibrary.get_all_tmins" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns tmins for all targets for specified hypocentral patch.</p>
</dd></dl>

<dl class="method">
<dt id="ffi.SeismicGFLibrary.get_traces">
<code class="descname">get_traces</code><span class="sig-paren">(</span><em>targetidxs=[0], patchidxs=[0], durationidxs=[0], starttimeidxs=[0]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#SeismicGFLibrary.get_traces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.SeismicGFLibrary.get_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Return traces for specified indexes.</p>
</dd></dl>

<dl class="method">
<dt id="ffi.SeismicGFLibrary.idxs2durations">
<code class="descname">idxs2durations</code><span class="sig-paren">(</span><em>idxs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#SeismicGFLibrary.idxs2durations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.SeismicGFLibrary.idxs2durations" title="Permalink to this definition">¶</a></dt>
<dd><p>Map index to durations [s]</p>
</dd></dl>

<dl class="method">
<dt id="ffi.SeismicGFLibrary.idxs2starttimes">
<code class="descname">idxs2starttimes</code><span class="sig-paren">(</span><em>idxs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#SeismicGFLibrary.idxs2starttimes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.SeismicGFLibrary.idxs2starttimes" title="Permalink to this definition">¶</a></dt>
<dd><p>Map index to durations [s]</p>
</dd></dl>

<dl class="method">
<dt id="ffi.SeismicGFLibrary.put">
<code class="descname">put</code><span class="sig-paren">(</span><em>entries</em>, <em>targetidx</em>, <em>patchidx</em>, <em>durations</em>, <em>starttimes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#SeismicGFLibrary.put"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.SeismicGFLibrary.put" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill the GF Library with synthetic traces for one target and one patch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>entries</strong> (2d <code class="xref py py-class docutils literal"><span class="pre">numpy.NdArray</span></code>) – of synthetic trace data samples, the waveforms</li>
<li><strong>targetidx</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – index to target</li>
<li><strong>patchidx</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – index to patch (source) that is used to produce the synthetics</li>
<li><strong>durationidxs</strong> (list or <code class="xref py py-class docutils literal"><span class="pre">numpy.NdArray</span></code>) – of indexes to the respective duration of the STFs that have been
used to create the synthetics</li>
<li><strong>starttimeidxs</strong> (list or <code class="xref py py-class docutils literal"><span class="pre">numpy.NdArray</span></code>) – of indexes to the respective duration of the STFs that have been
used to create the synthetics</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ffi.SeismicGFLibrary.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>outdir=''</em>, <em>filename=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#SeismicGFLibrary.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.SeismicGFLibrary.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save GFLibrary data and config file.</p>
</dd></dl>

<dl class="method">
<dt id="ffi.SeismicGFLibrary.set_patch_time">
<code class="descname">set_patch_time</code><span class="sig-paren">(</span><em>targetidx</em>, <em>patchidx</em>, <em>tmin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#SeismicGFLibrary.set_patch_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.SeismicGFLibrary.set_patch_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill the GF Library with trace times for one target and one patch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>targetidx</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – index to target</li>
<li><strong>patchidx</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – index to patch (source) that is assumed to be hypocenter</li>
<li><strong>tmin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – tmin of the trace(s) if the hypocenter was in the location of this
patch</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ffi.SeismicGFLibrary.stack">
<code class="descname">stack</code><span class="sig-paren">(</span><em>targetidx</em>, <em>patchidxs</em>, <em>durationidxs</em>, <em>starttimeidxs</em>, <em>slips</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#SeismicGFLibrary.stack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.SeismicGFLibrary.stack" title="Permalink to this definition">¶</a></dt>
<dd><p>Stack selected traces from the GF Library of specified
target, patch, durations and starttimes. Numpy or theano dependend
on the stack_mode</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> or of <code class="xref py py-class docutils literal"><span class="pre">theano.tensor.Tensor</span></code> dependend</li>
<li><em>on stack mode</em></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ffi.SeismicGFLibrary.stack_all">
<code class="descname">stack_all</code><span class="sig-paren">(</span><em>durations</em>, <em>starttimes</em>, <em>slips</em>, <em>interpolation='nearest_neighbor'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#SeismicGFLibrary.stack_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.SeismicGFLibrary.stack_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Stack all patches for all targets at once.
In theano for efficient optimization.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>matrix</strong> (<em>size (ntargets, nsamples)</em>)</li>
<li><strong>option</strong> (<em>tensor.batched_dot(sd.dimshuffle((1,0,2)), u).sum(axis=0)</em>)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ffi.SeismicGFLibrary.starttimes2idxs">
<code class="descname">starttimes2idxs</code><span class="sig-paren">(</span><em>starttimes</em>, <em>interpolation='nearest_neighbor'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#SeismicGFLibrary.starttimes2idxs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.SeismicGFLibrary.starttimes2idxs" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms starttimes into indexes to the GFLibrary.
Depending on the stacking mode of the GFLibrary theano or numpy
is used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>[</strong><strong>s</strong><strong>]</strong> (<em>starttimes</em>) – of the rupturing of the patch, float</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>starttimeidxs, starttimes</strong> – <code class="xref py py-class docutils literal"><span class="pre">theano.tensor.Tensor</span></code>, int16
(output depends on interpolation scheme,
if multilinear interpolation factors are returned as well)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> or</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ffi.SeismicGFLibrary.trace_tmin">
<code class="descname">trace_tmin</code><span class="sig-paren">(</span><em>targetidx</em>, <em>patchidx</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#SeismicGFLibrary.trace_tmin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.SeismicGFLibrary.trace_tmin" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns trace time of single target with respect to hypocentral trace.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ffi.discretize_sources">
<code class="descclassname">ffi.</code><code class="descname">discretize_sources</code><span class="sig-paren">(</span><em>sources=None, extension_width=0.1, extension_length=0.1, patch_width=5.0, patch_length=5.0, datatypes=['geodetic'], varnames=['']</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#discretize_sources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.discretize_sources" title="Permalink to this definition">¶</a></dt>
<dd><p>Build complex discretized fault.</p>
<p>Extend sources into all directions and discretize sources into patches.
Rounds dimensions to have no half-patches.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sources</strong> (<code class="xref py py-class docutils literal"><span class="pre">sources.RectangularSource</span></code>) – Reference plane, which is being extended and</li>
<li><strong>extension_width</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – factor to extend source in width (dip-direction)</li>
<li><strong>extension_length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – factor extend source in length (strike-direction)</li>
<li><strong>patch_width</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Width [km] of subpatch in dip-direction</li>
<li><strong>patch_length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Length [km] of subpatch in strike-direction</li>
<li><strong>varnames</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of str with variable names that are being optimized for</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">class:’FaultGeometry’</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ffi.geo_construct_gf_linear">
<code class="descclassname">ffi.</code><code class="descname">geo_construct_gf_linear</code><span class="sig-paren">(</span><em>engine, outdirectory, crust_ind=0, datasets=None, targets=None, fault=None, varnames=[''], force=False, event=None, nworkers=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#geo_construct_gf_linear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.geo_construct_gf_linear" title="Permalink to this definition">¶</a></dt>
<dd><p>Create geodetic Greens Function matrix for defined source geometry.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>engine</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.LocalEngine" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.LocalEngine</span></code></a>) – main path to directory containing the different Greensfunction stores</li>
<li><strong>outpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – absolute path to the directory and filename where to store the
Green’s Functions</li>
<li><strong>crust_ind</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – of index of Greens Function store to use</li>
<li><strong>datasets</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <a class="reference internal" href="#heart.GeodeticDataset" title="heart.GeodeticDataset"><code class="xref py py-class docutils literal"><span class="pre">heart.GeodeticDataset</span></code></a> for which the GFs are calculated</li>
<li><strong>targets</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <a class="reference internal" href="#heart.GeodeticDataset" title="heart.GeodeticDataset"><code class="xref py py-class docutils literal"><span class="pre">heart.GeodeticDataset</span></code></a></li>
<li><strong>fault</strong> (<a class="reference internal" href="#ffi.FaultGeometry" title="ffi.FaultGeometry"><code class="xref py py-class docutils literal"><span class="pre">FaultGeometry</span></code></a>) – fault object that may comprise of several sub-faults. thus forming a
complex fault-geometry</li>
<li><strong>varnames</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of str with variable names that are being optimized for</li>
<li><strong>force</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Force to overwrite existing files.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ffi.get_smoothing_operator">
<code class="descclassname">ffi.</code><code class="descname">get_smoothing_operator</code><span class="sig-paren">(</span><em>n_patch_strike</em>, <em>n_patch_dip</em>, <em>patch_size_strike</em>, <em>patch_size_dip</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#get_smoothing_operator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.get_smoothing_operator" title="Permalink to this definition">¶</a></dt>
<dd><p>Get second order Laplacian smoothing operator.</p>
<p>This is beeing used to smooth the slip-distribution in the optimization.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>n_patch_strike</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – number of patches in strike direction</li>
<li><strong>n_patch_dip</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – number of patches in dip direction</li>
<li><strong>patch_size_strike</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – size of patches along strike-direction [km]</li>
<li><strong>patch_size_dip</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – size of patches along dip-direction [km]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(n_patch_strike + n_patch_dip) x (n_patch_strike + n_patch_dip)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">numpy.Ndarray</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ffi.load_gf_library">
<code class="descclassname">ffi.</code><code class="descname">load_gf_library</code><span class="sig-paren">(</span><em>directory=''</em>, <em>filename=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#load_gf_library"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.load_gf_library" title="Permalink to this definition">¶</a></dt>
<dd><p>Loading GF Library config and initialise memmaps for Traces and times.</p>
</dd></dl>

<dl class="function">
<dt id="ffi.positions2idxs">
<code class="descclassname">ffi.</code><code class="descname">positions2idxs</code><span class="sig-paren">(</span><em>positions</em>, <em>cell_size</em>, <em>backend='numpy'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#positions2idxs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.positions2idxs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return index to a grid with a given cell size.npatches</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>positions</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.NdArray</span></code> float) – of positions [km]</li>
<li><strong>cell_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – size of grid cells</li>
<li><strong>backend</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ffi.seis_construct_gf_linear">
<code class="descclassname">ffi.</code><code class="descname">seis_construct_gf_linear</code><span class="sig-paren">(</span><em>engine</em>, <em>fault</em>, <em>durations_prior</em>, <em>velocities_prior</em>, <em>varnames</em>, <em>wavemap</em>, <em>event</em>, <em>nworkers=1</em>, <em>starttime_sampling=1.0</em>, <em>duration_sampling=1.0</em>, <em>sample_rate=1.0</em>, <em>outdirectory='./'</em>, <em>force=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ffi.html#seis_construct_gf_linear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ffi.seis_construct_gf_linear" title="Permalink to this definition">¶</a></dt>
<dd><p>Create seismic Greens Function matrix for defined source geometry
by convolution of the GFs with the source time function (STF).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>engine</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.LocalEngine" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.LocalEngine</span></code></a>) – main path to directory containing the different Greensfunction stores</li>
<li><strong>targets</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of pyrocko target objects for respective phase to compute</li>
<li><strong>wavemap</strong> (<a class="reference internal" href="#heart.WaveformMapping" title="heart.WaveformMapping"><code class="xref py py-class docutils literal"><span class="pre">heart.WaveformMapping</span></code></a>) – configuration parameters for handeling seismic data around Phase</li>
<li><strong>fault</strong> (<a class="reference internal" href="#ffi.FaultGeometry" title="ffi.FaultGeometry"><code class="xref py py-class docutils literal"><span class="pre">FaultGeometry</span></code></a>) – fault object that may comprise of several sub-faults. thus forming a
complex fault-geometry</li>
<li><strong>durations_prior</strong> (<a class="reference internal" href="#heart.Parameter" title="heart.Parameter"><code class="xref py py-class docutils literal"><span class="pre">heart.Parameter</span></code></a>) – prior of durations of the STF for each patch to convolve</li>
<li><strong>duration_sampling</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – incremental step size for precalculation of duration GFs</li>
<li><strong>velocities_prior</strong> (<a class="reference internal" href="#heart.Parameter" title="heart.Parameter"><code class="xref py py-class docutils literal"><span class="pre">heart.Parameter</span></code></a>) – rupture velocity of earthquake prior</li>
<li><strong>starttime_sampling</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – incremental step size for precalculation of startime GFs</li>
<li><strong>sample_rate</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – sample rate of synthetic traces to produce,
related to non-linear GF store</li>
<li><strong>outpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – directory for storage</li>
<li><strong>force</strong> (<em>boolean</em>) – flag to overwrite existing linear GF Library</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-parallel">
<span id="the-parallel-module"></span><h2>The <a class="reference internal" href="#module-parallel" title="parallel"><code class="xref py py-mod docutils literal"><span class="pre">parallel</span></code></a> Module<a class="headerlink" href="#module-parallel" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="parallel.TimeoutException">
<em class="property">exception </em><code class="descclassname">parallel.</code><code class="descname">TimeoutException</code><span class="sig-paren">(</span><em>jobstack=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parallel.html#TimeoutException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parallel.TimeoutException" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception raised if a per-task timeout fires.</p>
</dd></dl>

<dl class="class">
<dt id="parallel.WatchedWorker">
<em class="property">class </em><code class="descclassname">parallel.</code><code class="descname">WatchedWorker</code><span class="sig-paren">(</span><em>task</em>, <em>work</em>, <em>initializer=None</em>, <em>initargs=()</em>, <em>timeout=65535</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parallel.html#WatchedWorker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parallel.WatchedWorker" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper class for parallel execution of a task.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>task</strong> (<em>function to execute</em>) – </li>
<li><strong>work</strong> (<em>List</em>) – of arguments to specified function</li>
<li><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – time [s] after which worker is fired, default 65536s</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="parallel.WatchedWorker.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parallel.html#WatchedWorker.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parallel.WatchedWorker.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Start working on the task!</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="parallel.borrow_all_memories">
<code class="descclassname">parallel.</code><code class="descname">borrow_all_memories</code><span class="sig-paren">(</span><em>shared_params</em>, <em>memshared_instances</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parallel.html#borrow_all_memories"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parallel.borrow_all_memories" title="Permalink to this definition">¶</a></dt>
<dd><p>Run theano_borrow_memory on a list of params and shared memory
sharedctypes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>shared_params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <code class="xref py py-class docutils literal"><span class="pre">theano.tensor.sharedvar.TensorSharedVariable</span></code>
the Theano shared variable where
shared memory should be used instead.</li>
<li><strong>memshared_instance</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <code class="xref py py-class docutils literal"><span class="pre">multiprocessing.RawArray</span></code>
the memory shared across processes (e.g.from <cite>memshare_sparams</cite>)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Same as <cite>borrow_memory</cite> but for lists of shared memories and
theano variables. See <cite>borrow_memory</cite></p>
</dd></dl>

<dl class="function">
<dt id="parallel.borrow_memory">
<code class="descclassname">parallel.</code><code class="descname">borrow_memory</code><span class="sig-paren">(</span><em>shared_param</em>, <em>memshared_instance</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parallel.html#borrow_memory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parallel.borrow_memory" title="Permalink to this definition">¶</a></dt>
<dd><p>Spawn different processes with the shared memory
of your theano model’s variables.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>shared_param</strong> (<code class="xref py py-class docutils literal"><span class="pre">theano.tensor.sharedvar.TensorSharedVariable</span></code>) – the Theano shared variable where
shared memory should be used instead.</li>
<li><strong>memshared_instance</strong> (<code class="xref py py-class docutils literal"><span class="pre">multiprocessing.RawArray</span></code>) – the memory shared across processes (e.g.from <cite>memshare_sparams</cite>)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Modiefied from:
<a class="reference external" href="https://github.com/JonathanRaiman/theano_lstm/blob/master/theano_lstm/shared_memory.py">https://github.com/JonathanRaiman/theano_lstm/blob/master/theano_lstm/shared_memory.py</a></p>
<p>For each process in the target function run the theano_borrow_memory
method on the parameters you want to have share memory across processes.
In this example we have a model called “mymodel” with parameters stored in
a list called “params”. We loop through each theano shared variable and
call <cite>borrow_memory</cite> on it to share memory across processes.</p>
<p class="rubric">Examples</p>
<dl class="docutils">
<dt>def spawn_model(path, wrapped_params):</dt>
<dd><p class="first"># prevent recompilation and arbitrary locks
theano.config.reoptimize_unpickled_function = False
theano.gof.compilelock.set_lock_status(False)</p>
<p># load your function from its pickled instance (from path)
myfunction = MyFunction.load(path)</p>
<p># for each parameter in your function
# apply the borrow memory strategy to replace
# the internal parameter’s memory with the
# across-process memory:
for param, memshared_instance in zip(</p>
<blockquote>
<div><blockquote>
<div>myfunction.get_shared(), memshared_instances):</div></blockquote>
<p>borrow_memory(param, memory)</p>
</div></blockquote>
<p># acquire your dataset (either through some smart shared memory
# or by reloading it for each process)
dataset, dataset_labels = acquire_dataset()</p>
<p># then run your model forward in this process
epochs = 20
for epoch in range(epochs):</p>
<blockquote class="last">
<div>model.update_fun(dataset, dataset_labels)</div></blockquote>
</dd>
</dl>
<p>See <cite>borrow_all_memories</cite> for list usage.</p>
</dd></dl>

<dl class="function">
<dt id="parallel.check_available_memory">
<code class="descclassname">parallel.</code><code class="descname">check_available_memory</code><span class="sig-paren">(</span><em>filesize</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parallel.html#check_available_memory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parallel.check_available_memory" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the system memory can handle the given filesize.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filesize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – in [Mb] megabyte</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="parallel.exception_tracer">
<code class="descclassname">parallel.</code><code class="descname">exception_tracer</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parallel.html#exception_tracer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parallel.exception_tracer" title="Permalink to this definition">¶</a></dt>
<dd><p>Function decorator that returns a traceback if an Error is raised in
a child process of a pool.</p>
</dd></dl>

<dl class="function">
<dt id="parallel.get_process_id">
<code class="descclassname">parallel.</code><code class="descname">get_process_id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parallel.html#get_process_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parallel.get_process_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the process id of the current process</p>
</dd></dl>

<dl class="function">
<dt id="parallel.memshare">
<code class="descclassname">parallel.</code><code class="descname">memshare</code><span class="sig-paren">(</span><em>parameternames</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parallel.html#memshare"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parallel.memshare" title="Permalink to this definition">¶</a></dt>
<dd><p>Add parameters to set of variables that are to be put into shared
memory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>parameternames</strong> (<em>list of str</em>) – off names to <code class="xref py py-class docutils literal"><span class="pre">theano.tensor.sharedvar.TensorSharedVariable</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="parallel.memshare_sparams">
<code class="descclassname">parallel.</code><code class="descname">memshare_sparams</code><span class="sig-paren">(</span><em>shared_params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parallel.html#memshare_sparams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parallel.memshare_sparams" title="Permalink to this definition">¶</a></dt>
<dd><p>For each parameter in a list of Theano TensorSharedVariable
we substitute the memory with a sharedctype using the
multiprocessing library.</p>
<p>The wrapped memory can then be used by other child processes
thereby synchronising different instances of a model across
processes (e.g. for multi cpu gradient descent using single cpu
Theano code).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>shared_params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <code class="xref py py-class docutils literal"><span class="pre">theano.tensor.sharedvar.TensorSharedVariable</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>memshared_instances</strong> – of <code class="xref py py-class docutils literal"><span class="pre">multiprocessing.sharedctypes.RawArray</span></code>
list of sharedctypes (shared memory arrays) that point
to the memory used by the current process’s Theano variable.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)">list</a></td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Modiefied from:
<a class="reference external" href="https://github.com/JonathanRaiman/theano_lstm/blob/master/theano_lstm/shared_memory.py">https://github.com/JonathanRaiman/theano_lstm/blob/master/theano_lstm/shared_memory.py</a></p>
<blockquote>
<div><p># define some theano function:
myfunction = myfunction(20, 50, etc…)</p>
<p># wrap the memory of the Theano variables:
memshared_instances = make_params_shared(myfunction.get_shared())</p>
</div></blockquote>
<p>Then you can use this memory in child processes
(See usage of <cite>borrow_memory</cite>)</p>
</dd></dl>

<dl class="function">
<dt id="parallel.overseer">
<code class="descclassname">parallel.</code><code class="descname">overseer</code><span class="sig-paren">(</span><em>timeout</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parallel.html#overseer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parallel.overseer" title="Permalink to this definition">¶</a></dt>
<dd><p>Function decorator that raises a TimeoutException exception
after timeout seconds, if the decorated function did not return.</p>
</dd></dl>

<dl class="function">
<dt id="parallel.paripool">
<code class="descclassname">parallel.</code><code class="descname">paripool</code><span class="sig-paren">(</span><em>function</em>, <em>workpackage</em>, <em>nprocs=None</em>, <em>chunksize=1</em>, <em>timeout=65535</em>, <em>initializer=None</em>, <em>initargs=()</em>, <em>worker_initializer=None</em>, <em>winitargs=()</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parallel.html#paripool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#parallel.paripool" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises a pool of workers and executes a function in parallel by
forking the process. Does forking once during initialisation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>function</strong> (<em>function</em>) – python function to be executed in parallel</li>
<li><strong>workpackage</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of iterables that are to be looped over/ executed in parallel usually
these objects are different for each task.</li>
<li><strong>nprocs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – number of processors to be used in paralell process</li>
<li><strong>chunksize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – number of work packages to throw at workers in each instance</li>
<li><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – time [s] after which processes are killed, default: 65536s</li>
<li><strong>initializer</strong> (<em>function</em>) – to init pool with may be container for shared arrays</li>
<li><strong>initargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)"><em>tuple</em></a>) – of arguments for the initializer</li>
<li><strong>worker_initializer</strong> (<em>function</em>) – to initialize each worker process</li>
<li><strong>winitargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)"><em>tuple</em></a>) – of argument to worker_initializer</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-backend">
<span id="the-backend-module"></span><h2>The <a class="reference internal" href="#module-backend" title="backend"><code class="xref py py-mod docutils literal"><span class="pre">backend</span></code></a> Module<a class="headerlink" href="#module-backend" title="Permalink to this headline">¶</a></h2>
<p>Text file trace backend modified from pymc3 to work efficiently with
SMC</p>
<p>Store sampling values as CSV files.</p>
<div class="section" id="file-format">
<h3>File format<a class="headerlink" href="#file-format" title="Permalink to this headline">¶</a></h3>
<p>Sampling values for each chain are saved in a separate file (under a
directory specified by the <cite>name</cite> argument).  The rows correspond to
sampling iterations.  The column names consist of variable names and
index labels.  For example, the heading</p>
<blockquote>
<div>x,y__0_0,y__0_1,y__1_0,y__1_1,y__2_0,y__2_1</div></blockquote>
<p>represents two variables, x and y, where x is a scalar and y has a
shape of (3, 2).</p>
<dl class="class">
<dt id="backend.ArrayStepSharedLLK">
<em class="property">class </em><code class="descclassname">backend.</code><code class="descname">ArrayStepSharedLLK</code><span class="sig-paren">(</span><em>vars</em>, <em>out_vars</em>, <em>shared</em>, <em>blocked=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#ArrayStepSharedLLK"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.ArrayStepSharedLLK" title="Permalink to this definition">¶</a></dt>
<dd><p>Modified ArrayStepShared To handle returned larger point including the
likelihood values.
Takes additionally a list of output vars including the likelihoods.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>vars</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – variables to be sampled</li>
<li><strong>out_vars</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – variables to be stored in the traces</li>
<li><strong>shared</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – theano variable -&gt; shared variables</li>
<li><strong>blocked</strong> (<em>boolen</em>) – (default True)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="backend.BaseTrace">
<em class="property">class </em><code class="descclassname">backend.</code><code class="descname">BaseTrace</code><span class="sig-paren">(</span><em>name</em>, <em>model=None</em>, <em>vars=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#BaseTrace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.BaseTrace" title="Permalink to this definition">¶</a></dt>
<dd><p>Base trace object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Name of backend</li>
<li><strong>model</strong> (<em>Model</em>) – If None, the model is taken from the <cite>with</cite> context.</li>
<li><strong>vars</strong> (<em>list of variables</em>) – Sampling values will be stored for these variables. If None,
<cite>model.unobserved_RVs</cite> is used.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="backend.MemoryTrace">
<em class="property">class </em><code class="descclassname">backend.</code><code class="descname">MemoryTrace</code><span class="sig-paren">(</span><em>buffer_size=1000</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#MemoryTrace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.MemoryTrace" title="Permalink to this definition">¶</a></dt>
<dd><p>Slim memory trace object. Keeps points in a list in memory.</p>
<dl class="method">
<dt id="backend.MemoryTrace.get_sample_covariance">
<code class="descname">get_sample_covariance</code><span class="sig-paren">(</span><em>lij</em>, <em>bij</em>, <em>beta</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#MemoryTrace.get_sample_covariance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.MemoryTrace.get_sample_covariance" title="Permalink to this definition">¶</a></dt>
<dd><p>Return sample Covariance matrix from buffer.</p>
</dd></dl>

<dl class="method">
<dt id="backend.MemoryTrace.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>lpoint</em>, <em>draw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#MemoryTrace.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.MemoryTrace.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write sampling results into buffer.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="backend.TextChain">
<em class="property">class </em><code class="descclassname">backend.</code><code class="descname">TextChain</code><span class="sig-paren">(</span><em>name</em>, <em>model=None</em>, <em>vars=None</em>, <em>buffer_size=5000</em>, <em>progressbar=False</em>, <em>k=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#TextChain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.TextChain" title="Permalink to this definition">¶</a></dt>
<dd><p>Text trace object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Name of directory to store text files</li>
<li><strong>model</strong> (<em>Model</em>) – If None, the model is taken from the <cite>with</cite> context.</li>
<li><strong>vars</strong> (<em>list of variables</em>) – Sampling values will be stored for these variables. If None,
<cite>model.unobserved_RVs</cite> is used.</li>
<li><strong>buffer_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – this is the number of samples after which the buffer is written to disk
or if the chain end is reached</li>
<li><strong>progressbar</strong> (<em>boolean</em>) – flag if a progressbar is active, if not a logmessage is printed
everytime the buffer is written to disk</li>
<li><strong>k</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) – if given dont use shape from testpoint as size of transd variables</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="backend.TextChain.get_values">
<code class="descname">get_values</code><span class="sig-paren">(</span><em>varname</em>, <em>burn=0</em>, <em>thin=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#TextChain.get_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.TextChain.get_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Get values from trace.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>varname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Variable name for which values are to be retrieved.</li>
<li><strong>burn</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Burn-in samples from trace. This is the number of samples to be
thrown out from the start of the trace</li>
<li><strong>thin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Nuber of thinning samples. Throw out every ‘thin’ sample of the
trace.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">numpy.array</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="backend.TextChain.point">
<code class="descname">point</code><span class="sig-paren">(</span><em>idx</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#TextChain.point"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.TextChain.point" title="Permalink to this definition">¶</a></dt>
<dd><p>Get point of current chain with variables names as keys.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>idx</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Index of the nth step of the chain</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dictionary of point values</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="backend.TextChain.record">
<code class="descname">record</code><span class="sig-paren">(</span><em>lpoint</em>, <em>draw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#TextChain.record"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.TextChain.record" title="Permalink to this definition">¶</a></dt>
<dd><p>Record results of a sampling iteration.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>lpoint</strong> (<em>List of variable values</em>) – Values mapped to variable names</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="backend.TextChain.setup">
<code class="descname">setup</code><span class="sig-paren">(</span><em>draws</em>, <em>chain</em>, <em>overwrite=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#TextChain.setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.TextChain.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform chain-specific setup.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>draws</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Expected number of draws</li>
<li><strong>chain</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Chain number</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="backend.TextChain.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>lpoint</em>, <em>draw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#TextChain.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.TextChain.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write sampling results into buffer.
If buffer is full write it out to file.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="backend.TransDTextChain">
<em class="property">class </em><code class="descclassname">backend.</code><code class="descname">TransDTextChain</code><span class="sig-paren">(</span><em>name</em>, <em>model=None</em>, <em>vars=None</em>, <em>buffer_size=5000</em>, <em>progressbar=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#TransDTextChain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.TransDTextChain" title="Permalink to this definition">¶</a></dt>
<dd><p>Result Trace object for trans-d problems.
Manages several TextChains one for each dimension.</p>
<dl class="method">
<dt id="backend.TransDTextChain.point">
<code class="descname">point</code><span class="sig-paren">(</span><em>idx</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#TransDTextChain.point"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.TransDTextChain.point" title="Permalink to this definition">¶</a></dt>
<dd><p>Get point of current chain with variables names as keys.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>idx</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Index of the nth step of the chain</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>dict</strong></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">of point values</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="backend.check_multitrace">
<code class="descclassname">backend.</code><code class="descname">check_multitrace</code><span class="sig-paren">(</span><em>mtrace</em>, <em>draws</em>, <em>n_chains</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#check_multitrace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.check_multitrace" title="Permalink to this definition">¶</a></dt>
<dd><p>Check multitrace for incomplete sampling and return indexes from chains
that need to be resampled.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mtrace</strong> (<code class="xref py py-class docutils literal"><span class="pre">pymc3.backend.base.MultiTrace</span></code>) – Multitrace object containing the sampling traces</li>
<li><strong>draws</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of steps (i.e. chain length for each Markov Chain)</li>
<li><strong>n_chains</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of Markov Chains</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of indexes for chains that need to be resampled</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="backend.concatenate_traces">
<code class="descclassname">backend.</code><code class="descname">concatenate_traces</code><span class="sig-paren">(</span><em>mtraces</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#concatenate_traces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.concatenate_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Concatenate a List of MultiTraces with same chain indexes.</p>
</dd></dl>

<dl class="function">
<dt id="backend.extract_variables_from_df">
<code class="descclassname">backend.</code><code class="descname">extract_variables_from_df</code><span class="sig-paren">(</span><em>dataframe</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#extract_variables_from_df"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.extract_variables_from_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract random variables and their shapes from the pymc3-pandas data-frame</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dataframe</strong> (<code class="xref py py-class docutils literal"><span class="pre">pandas.DataFrame</span></code>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>flat_names</strong> (<em>dict</em>) – with variable-names and respective flat-name indexes to data-frame</li>
<li><strong>var_shapes</strong> (<em>dict</em>) – with variable names and shapes</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="backend.get_highest_sampled_stage">
<code class="descclassname">backend.</code><code class="descname">get_highest_sampled_stage</code><span class="sig-paren">(</span><em>homedir</em>, <em>return_final=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#get_highest_sampled_stage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.get_highest_sampled_stage" title="Permalink to this definition">¶</a></dt>
<dd><p>Return stage number of stage that has been sampled before the final stage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>homedir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Directory to the sampled stage results</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>stage number</strong></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)">int</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="backend.load_multitrace">
<code class="descclassname">backend.</code><code class="descname">load_multitrace</code><span class="sig-paren">(</span><em>dirname</em>, <em>varnames=None</em>, <em>chains=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#load_multitrace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.load_multitrace" title="Permalink to this definition">¶</a></dt>
<dd><p>Load TextChain database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dirname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Name of directory with files (one per chain)</li>
<li><strong>model</strong> (<em>Model</em>) – If None, the model is taken from the <cite>with</cite> context.</li>
<li><strong>chains</strong> (<em>list optional</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">A <code class="xref py py-class docutils literal"><span class="pre">pymc3.backend.base.MultiTrace</span></code> instance</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="backend.load_sampler_params">
<code class="descclassname">backend.</code><code class="descname">load_sampler_params</code><span class="sig-paren">(</span><em>project_dir</em>, <em>stage_number</em>, <em>mode</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/backend.html#load_sampler_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#backend.load_sampler_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Load saved parameters from given ATMIP stage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>project_dir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – absolute path to directory of BEAT project</li>
<li><strong>number</strong> (<a class="reference internal" href="#config.SMCConfig.stage" title="config.SMCConfig.stage"><em>stage</em></a>) – of stage number or ‘final’ for last stage</li>
<li><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – problem mode that has been solved (‘geometry’, ‘static’, ‘kinematic’)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-models">
<span id="the-models-module"></span><h2>The <a class="reference internal" href="#module-models" title="models"><code class="xref py py-mod docutils literal"><span class="pre">models</span></code></a> Module<a class="headerlink" href="#module-models" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-models.problems">
<span id="problems"></span><h3><code class="xref py py-mod docutils literal"><span class="pre">problems</span></code><a class="headerlink" href="#module-models.problems" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="models.problems.GeometryOptimizer">
<em class="property">class </em><code class="descclassname">models.problems.</code><code class="descname">GeometryOptimizer</code><span class="sig-paren">(</span><em>config</em>, <em>hypers=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/problems.html#GeometryOptimizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.problems.GeometryOptimizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the model setup to solve for the non-linear fault geometry.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>config</strong> (<em>:class:'config.BEATconfig'</em>) – Contains all the information about the model setup and optimization
boundaries, as well as the sampler parameters.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="models.problems.DistributionOptimizer">
<em class="property">class </em><code class="descclassname">models.problems.</code><code class="descname">DistributionOptimizer</code><span class="sig-paren">(</span><em>config</em>, <em>hypers=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/problems.html#DistributionOptimizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.problems.DistributionOptimizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the model setup to solve the linear slip-distribution and
returns the model object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>config</strong> (<em>:class:'config.BEATconfig'</em>) – Contains all the information about the model setup and optimization
boundaries, as well as the sampler parameters.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="models.problems.load_model">
<code class="descclassname">models.problems.</code><code class="descname">load_model</code><span class="sig-paren">(</span><em>project_dir</em>, <em>mode</em>, <em>hypers=False</em>, <em>build=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/problems.html#load_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.problems.load_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Load config from project directory and return BEAT problem including model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>project_dir</strong> (<a class="reference external" href="https://docs.python.org/3/library/string.html#module-string" title="(in Python v3.7)"><em>string</em></a>) – path to beat model directory</li>
<li><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/string.html#module-string" title="(in Python v3.7)"><em>string</em></a>) – problem name to be loaded</li>
<li><strong>hypers</strong> (<em>boolean</em>) – flag to return hyper parameter estimation model instead of main model.</li>
<li><strong>build</strong> (<em>boolean</em>) – flag to build models</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>problem</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">Problem</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-models.seismic">
<span id="seismic"></span><h3><code class="xref py py-mod docutils literal"><span class="pre">seismic</span></code><a class="headerlink" href="#module-models.seismic" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="models.seismic.SeismicGeometryComposite">
<em class="property">class </em><code class="descclassname">models.seismic.</code><code class="descname">SeismicGeometryComposite</code><span class="sig-paren">(</span><em>sc</em>, <em>project_dir</em>, <em>sources</em>, <em>event</em>, <em>hypers=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/seismic.html#SeismicGeometryComposite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.seismic.SeismicGeometryComposite" title="Permalink to this definition">¶</a></dt>
<dd><p>Comprises how to solve the non-linear seismic forward model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sc</strong> (<a class="reference internal" href="#config.SeismicConfig" title="config.SeismicConfig"><code class="xref py py-class docutils literal"><span class="pre">config.SeismicConfig</span></code></a>) – configuration object containing seismic setup parameters</li>
<li><strong>project_dir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – directory of the model project, where to find the data</li>
<li><strong>sources</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.Source" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Source</span></code></a></li>
<li><strong>event</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a>) – contains information of reference event, coordinates of reference
point and source time</li>
<li><strong>hypers</strong> (<em>boolean</em>) – if true initialise object for hyper parameter optimization</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="models.seismic.SeismicGeometryComposite.get_formula">
<code class="descname">get_formula</code><span class="sig-paren">(</span><em>input_rvs</em>, <em>fixed_rvs</em>, <em>hyperparams</em>, <em>problem_config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/seismic.html#SeismicGeometryComposite.get_formula"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.seismic.SeismicGeometryComposite.get_formula" title="Permalink to this definition">¶</a></dt>
<dd><p>Get seismic likelihood formula for the model built. Has to be called
within a with model context.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input_rvs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <code class="xref py py-class docutils literal"><span class="pre">pymc3.distribution.Distribution</span></code></li>
<li><strong>fixed_rvs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – of <code class="xref py py-class docutils literal"><span class="pre">numpy.array</span></code></li>
<li><strong>hyperparams</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – of <code class="xref py py-class docutils literal"><span class="pre">pymc3.distribution.Distribution</span></code></li>
<li><strong>problem_config</strong> (<a class="reference internal" href="#config.ProblemConfig" title="config.ProblemConfig"><code class="xref py py-class docutils literal"><span class="pre">config.ProblemConfig</span></code></a>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>posterior_llk</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">theano.tensor.Tensor</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="models.seismic.SeismicGeometryComposite.get_synthetics">
<code class="descname">get_synthetics</code><span class="sig-paren">(</span><em>point</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/seismic.html#SeismicGeometryComposite.get_synthetics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.seismic.SeismicGeometryComposite.get_synthetics" title="Permalink to this definition">¶</a></dt>
<dd><p>Get synthetics for given point in solution space.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>point</strong> (<code class="xref py py-func docutils literal"><span class="pre">pymc3.Point()</span></code>) – Dictionary with model parameters</li>
<li><strong>especially to change output of seismic forward model</strong> (<em>kwargs</em>) – outmode = ‘traces’/ ‘array’ / ‘data’</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>default</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array of synthetics for all targets</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="models.seismic.SeismicGeometryComposite.point2sources">
<code class="descname">point2sources</code><span class="sig-paren">(</span><em>point</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/seismic.html#SeismicGeometryComposite.point2sources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.seismic.SeismicGeometryComposite.point2sources" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the composite source(s) (in place) with the point values.</p>
</dd></dl>

<dl class="method">
<dt id="models.seismic.SeismicGeometryComposite.update_weights">
<code class="descname">update_weights</code><span class="sig-paren">(</span><em>point</em>, <em>n_jobs=1</em>, <em>plot=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/seismic.html#SeismicGeometryComposite.update_weights"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.seismic.SeismicGeometryComposite.update_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates weighting matrixes (in place) with respect to the point in the
solution space.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>point</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – with numpy array-like items and variable name keys</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="models.seismic.SeismicDistributerComposite">
<em class="property">class </em><code class="descclassname">models.seismic.</code><code class="descname">SeismicDistributerComposite</code><span class="sig-paren">(</span><em>sc</em>, <em>project_dir</em>, <em>event</em>, <em>hypers=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/seismic.html#SeismicDistributerComposite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.seismic.SeismicDistributerComposite" title="Permalink to this definition">¶</a></dt>
<dd><p>Comprises how to solve the seismic (kinematic) linear forward model.
Distributed slip</p>
<dl class="method">
<dt id="models.seismic.SeismicDistributerComposite.get_synthetics">
<code class="descname">get_synthetics</code><span class="sig-paren">(</span><em>point</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/seismic.html#SeismicDistributerComposite.get_synthetics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.seismic.SeismicDistributerComposite.get_synthetics" title="Permalink to this definition">¶</a></dt>
<dd><p>Get synthetics for given point in solution space.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>point</strong> (<code class="xref py py-func docutils literal"><span class="pre">pymc3.Point()</span></code>) – Dictionary with model parameters</li>
<li><strong>especially to change output of the forward model</strong> (<em>kwargs</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list with <a class="reference internal" href="#heart.SeismicDataset" title="heart.SeismicDataset"><code class="xref py py-class docutils literal"><span class="pre">heart.SeismicDataset</span></code></a> synthetics for each target</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="models.seismic.SeismicDistributerComposite.load_fault_geometry">
<code class="descname">load_fault_geometry</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/seismic.html#SeismicDistributerComposite.load_fault_geometry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.seismic.SeismicDistributerComposite.load_fault_geometry" title="Permalink to this definition">¶</a></dt>
<dd><p>Load fault-geometry, i.e. discretized patches.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">heart.FaultGeometry</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="models.seismic.SeismicDistributerComposite.load_gfs">
<code class="descname">load_gfs</code><span class="sig-paren">(</span><em>crust_inds=None</em>, <em>make_shared=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/seismic.html#SeismicDistributerComposite.load_gfs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.seismic.SeismicDistributerComposite.load_gfs" title="Permalink to this definition">¶</a></dt>
<dd><p>Load Greens Function matrixes for each variable to be inverted for.
Updates gfs and gf_names attributes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>crust_inds</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of int to indexes of Green’s Functions</li>
<li><strong>make_shared</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – if True transforms gfs to <code class="xref py py-class docutils literal"><span class="pre">theano.shared</span></code> variables</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-models.geodetic">
<span id="geodetic"></span><h3><code class="xref py py-mod docutils literal"><span class="pre">geodetic</span></code><a class="headerlink" href="#module-models.geodetic" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="models.geodetic.GeodeticDistributerComposite">
<em class="property">class </em><code class="descclassname">models.geodetic.</code><code class="descname">GeodeticDistributerComposite</code><span class="sig-paren">(</span><em>gc</em>, <em>project_dir</em>, <em>event</em>, <em>hypers=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/geodetic.html#GeodeticDistributerComposite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.geodetic.GeodeticDistributerComposite" title="Permalink to this definition">¶</a></dt>
<dd><p>Comprises how to solve the geodetic (static) linear forward model.
Distributed slip</p>
<dl class="method">
<dt id="models.geodetic.GeodeticDistributerComposite.get_formula">
<code class="descname">get_formula</code><span class="sig-paren">(</span><em>input_rvs</em>, <em>fixed_rvs</em>, <em>hyperparams</em>, <em>problem_config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/geodetic.html#GeodeticDistributerComposite.get_formula"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.geodetic.GeodeticDistributerComposite.get_formula" title="Permalink to this definition">¶</a></dt>
<dd><p>Formulation of the distribution problem for the model built. Has to be
called within a with-model-context.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input_rvs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <code class="xref py py-class docutils literal"><span class="pre">pymc3.distribution.Distribution</span></code></li>
<li><strong>hyperparams</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – of <code class="xref py py-class docutils literal"><span class="pre">pymc3.distribution.Distribution</span></code></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>llk</strong> – log-likelihood for the distributed slip</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">theano.tensor.Tensor</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="models.geodetic.GeodeticDistributerComposite.get_synthetics">
<code class="descname">get_synthetics</code><span class="sig-paren">(</span><em>point</em>, <em>outmode='data'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/geodetic.html#GeodeticDistributerComposite.get_synthetics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.geodetic.GeodeticDistributerComposite.get_synthetics" title="Permalink to this definition">¶</a></dt>
<dd><p>Get synthetics for given point in solution space.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>point</strong> (<code class="xref py py-func docutils literal"><span class="pre">pymc3.Point()</span></code>) – Dictionary with model parameters</li>
<li><strong>especially to change output of the forward model</strong> (<em>kwargs</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list with <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> synthetics for each target</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="models.geodetic.GeodeticDistributerComposite.load_fault_geometry">
<code class="descname">load_fault_geometry</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/geodetic.html#GeodeticDistributerComposite.load_fault_geometry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.geodetic.GeodeticDistributerComposite.load_fault_geometry" title="Permalink to this definition">¶</a></dt>
<dd><p>Load fault-geometry, i.e. discretized patches.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">heart.FaultGeometry</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="models.geodetic.GeodeticDistributerComposite.load_gfs">
<code class="descname">load_gfs</code><span class="sig-paren">(</span><em>crust_inds=None</em>, <em>make_shared=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/models/geodetic.html#GeodeticDistributerComposite.load_gfs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.geodetic.GeodeticDistributerComposite.load_gfs" title="Permalink to this definition">¶</a></dt>
<dd><p>Load Greens Function matrixes for each variable to be inverted for.
Updates gfs and gf_names attributes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>crust_inds</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of int to indexes of Green’s Functions</li>
<li><strong>make_shared</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – if True transforms gfs to <code class="xref py py-class docutils literal"><span class="pre">theano.shared</span></code> variables</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-psgrn">
<span id="the-psgrn-module"></span><h2>The <a class="reference internal" href="#module-psgrn" title="psgrn"><code class="xref py py-mod docutils literal"><span class="pre">psgrn</span></code></a> Module<a class="headerlink" href="#module-psgrn" title="Permalink to this headline">¶</a></h2>
<p>This module got merged with the pscmp module and is now part of the pyrocko
library and may be removed from the beat repository in the future.</p>
<dl class="class">
<dt id="psgrn.PsGrnConfig">
<em class="property">class </em><code class="descclassname">psgrn.</code><code class="descname">PsGrnConfig</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/psgrn.html#PsGrnConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#psgrn.PsGrnConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
<dl class="gattribute">
<dt id="psgrn.PsGrnConfig.psgrn_version">
<em class="property">♦ </em><code class="descname">psgrn_version</code><a class="headerlink" href="#psgrn.PsGrnConfig.psgrn_version" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'2008a'</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="psgrn.PsGrnConfig.n_snapshots">
<em class="property">♦ </em><code class="descname">n_snapshots</code><a class="headerlink" href="#psgrn.PsGrnConfig.n_snapshots" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="psgrn.PsGrnConfig.max_time">
<em class="property">♦ </em><code class="descname">max_time</code><a class="headerlink" href="#psgrn.PsGrnConfig.max_time" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1.0</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="psgrn.PsGrnConfig.observation_depth">
<em class="property">♦ </em><code class="descname">observation_depth</code><a class="headerlink" href="#psgrn.PsGrnConfig.observation_depth" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.0</span></code></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="psgrn.PsGrnConfigFull">
<em class="property">class </em><code class="descclassname">psgrn.</code><code class="descname">PsGrnConfigFull</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/psgrn.html#PsGrnConfigFull"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#psgrn.PsGrnConfigFull" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
<dl class="gattribute">
<dt id="psgrn.PsGrnConfigFull.earthmodel_1d">
<em class="property">♦ </em><code class="descname">earthmodel_1d</code><a class="headerlink" href="#psgrn.PsGrnConfigFull.earthmodel_1d" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://pyrocko.org/v0.3/library/reference/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.meta.Earthmodel1D" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.meta.Earthmodel1D</span></code></a>), <em>optional</em></p>
</dd></dl>

<dl class="gattribute">
<dt id="psgrn.PsGrnConfigFull.psgrn_outdir">
<em class="property">♦ </em><code class="descname">psgrn_outdir</code><a class="headerlink" href="#psgrn.PsGrnConfigFull.psgrn_outdir" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'psgrn_green/'</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="psgrn.PsGrnConfigFull.sampling_interval">
<em class="property">♦ </em><code class="descname">sampling_interval</code><a class="headerlink" href="#psgrn.PsGrnConfigFull.sampling_interval" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1.0</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="psgrn.PsGrnConfigFull.sw_source_regime">
<em class="property">♦ </em><code class="descname">sw_source_regime</code><a class="headerlink" href="#psgrn.PsGrnConfigFull.sw_source_regime" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">1</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="psgrn.PsGrnConfigFull.sw_gravity">
<em class="property">♦ </em><code class="descname">sw_gravity</code><a class="headerlink" href="#psgrn.PsGrnConfigFull.sw_gravity" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="psgrn.PsGrnConfigFull.accuracy_wavenumber_integration">
<em class="property">♦ </em><code class="descname">accuracy_wavenumber_integration</code><a class="headerlink" href="#psgrn.PsGrnConfigFull.accuracy_wavenumber_integration" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.025</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="psgrn.PsGrnConfigFull.displ_filenames">
<em class="property">♦ </em><code class="descname">displ_filenames</code><a class="headerlink" href="#psgrn.PsGrnConfigFull.displ_filenames" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">tuple</span></code> of 3 <code class="docutils literal"><span class="pre">str</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">('uz',</span> <span class="pre">'ur',</span> <span class="pre">'ut')</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="psgrn.PsGrnConfigFull.stress_filenames">
<em class="property">♦ </em><code class="descname">stress_filenames</code><a class="headerlink" href="#psgrn.PsGrnConfigFull.stress_filenames" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">tuple</span></code> of 6 <code class="docutils literal"><span class="pre">str</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">('szz',</span> <span class="pre">'srr',</span> <span class="pre">'stt',</span> <span class="pre">'szr',</span> <span class="pre">'srt',</span> <span class="pre">'stz')</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="psgrn.PsGrnConfigFull.tilt_filenames">
<em class="property">♦ </em><code class="descname">tilt_filenames</code><a class="headerlink" href="#psgrn.PsGrnConfigFull.tilt_filenames" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">tuple</span></code> of 3 <code class="docutils literal"><span class="pre">str</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">('tr',</span> <span class="pre">'tt',</span> <span class="pre">'rot')</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="psgrn.PsGrnConfigFull.gravity_filenames">
<em class="property">♦ </em><code class="descname">gravity_filenames</code><a class="headerlink" href="#psgrn.PsGrnConfigFull.gravity_filenames" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">tuple</span></code> of 2 <code class="docutils literal"><span class="pre">str</span></code> objects, <em>default:</em> <code class="docutils literal"><span class="pre">('gd',</span> <span class="pre">'gr')</span></code></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="psgrn.PsGrnSpatialSampling">
<em class="property">class </em><code class="descclassname">psgrn.</code><code class="descname">PsGrnSpatialSampling</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/psgrn.html#PsGrnSpatialSampling"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#psgrn.PsGrnSpatialSampling" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
<dl class="gattribute">
<dt id="psgrn.PsGrnSpatialSampling.n_steps">
<em class="property">♦ </em><code class="descname">n_steps</code><a class="headerlink" href="#psgrn.PsGrnSpatialSampling.n_steps" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">10</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="psgrn.PsGrnSpatialSampling.start_distance">
<em class="property">♦ </em><code class="descname">start_distance</code><a class="headerlink" href="#psgrn.PsGrnSpatialSampling.start_distance" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">0.0</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="psgrn.PsGrnSpatialSampling.end_distance">
<em class="property">♦ </em><code class="descname">end_distance</code><a class="headerlink" href="#psgrn.PsGrnSpatialSampling.end_distance" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">float</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">100.0</span></code></p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-pscmp-module">
<h2>The <code class="xref py py-mod docutils literal"><span class="pre">pscmp</span></code> Module<a class="headerlink" href="#the-pscmp-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-interseismic">
<span id="the-interseismic-module"></span><h2>The <a class="reference internal" href="#module-interseismic" title="interseismic"><code class="xref py py-mod docutils literal"><span class="pre">interseismic</span></code></a> Module<a class="headerlink" href="#module-interseismic" title="Permalink to this headline">¶</a></h2>
<p>Module for interseismic models.</p>
<div class="section" id="block-backslip-model">
<h3>Block-backslip model<a class="headerlink" href="#block-backslip-model" title="Permalink to this headline">¶</a></h3>
<p>The fault is assumed to be locked above a certain depth “locking_depth” and
it is creeping with the rate of the defined plate- which is handled as a
rigid block.</p>
<p>STILL EXPERIMENTAL!</p>
<p class="rubric">References</p>
<p>Savage &amp; Prescott 1978
Metzger et al. 2011</p>
<dl class="function">
<dt id="interseismic.geo_backslip_synthetics">
<code class="descclassname">interseismic.</code><code class="descname">geo_backslip_synthetics</code><span class="sig-paren">(</span><em>engine</em>, <em>sources</em>, <em>targets</em>, <em>lons</em>, <em>lats</em>, <em>reference</em>, <em>amplitude</em>, <em>azimuth</em>, <em>locking_depth</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/interseismic.html#geo_backslip_synthetics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#interseismic.geo_backslip_synthetics" title="Permalink to this definition">¶</a></dt>
<dd><p>Interseismic backslip model: forward model for synthetic
displacements(n,e,d) [m] caused by a rigid moving block defined by the
bounding geometry of rectangular faults. The reference location determines
the stable regions. The amplitude and azimuth determines the amount and
direction of the moving block.
Based on this block-movement the upper part of the crust that is not locked
is assumed to slip back. Thus the final synthetics are the superposition
of the block-movement and the backslip.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>engine</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.LocalEngine" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.LocalEngine</span></code></a>) – </li>
<li><strong>sources</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.RectangularSource" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.RectangularSource</span></code></a>
Sources to calculate synthetics for</li>
<li><strong>targets</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.targets.StaticTarget" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.targets.StaticTarget</span></code></a></li>
<li><strong>lons</strong> (list of floats, or <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>) – longitudes [deg] of observation points</li>
<li><strong>lats</strong> (list of floats, or <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>) – latitudes [deg] of observation points</li>
<li><strong>amplitude</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – slip [m] of the moving block</li>
<li><strong>azimuth</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – azimuth-angle[deg] ergo direction of moving block towards North</li>
<li><strong>locking_depth</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>) – locking_depth [km] of the fault(s) below there is no movement</li>
<li><strong>reference</strong> (<a class="reference internal" href="#heart.ReferenceLocation" title="heart.ReferenceLocation"><code class="xref py py-class docutils literal"><span class="pre">heart.ReferenceLocation</span></code></a>) – reference location that determines the stable block</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(n x 3) [North, East, Down] displacements [m]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-covariance">
<span id="the-covariance-module"></span><h2>The <a class="reference internal" href="#module-covariance" title="covariance"><code class="xref py py-mod docutils literal"><span class="pre">covariance</span></code></a> Module<a class="headerlink" href="#module-covariance" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="covariance.geodetic_cov_velocity_models">
<code class="descclassname">covariance.</code><code class="descname">geodetic_cov_velocity_models</code><span class="sig-paren">(</span><em>engine</em>, <em>sources</em>, <em>targets</em>, <em>dataset</em>, <em>plot=False</em>, <em>event=None</em>, <em>n_jobs=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covariance.html#geodetic_cov_velocity_models"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#covariance.geodetic_cov_velocity_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate model prediction uncertainty matrix with respect to uncertainties
in the velocity model for geodetic targets using fomosto GF stores.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>engine</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.LocalEngine" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.LocalEngine</span></code></a>) – contains synthetics generation machine</li>
<li><strong>target</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.targets.StaticTarget" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.targets.StaticTarget</span></code></a>) – dataset and observation points to calculate covariance for</li>
<li><strong>sources</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.Source" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Source</span></code></a> determines the covariance
matrix</li>
<li><strong>plot</strong> (<em>boolean</em>) – if set, a plot is produced and not covariance matrix is returned</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> with Covariance due to velocity model uncertainties</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="covariance.geodetic_cov_velocity_models_pscmp">
<code class="descclassname">covariance.</code><code class="descname">geodetic_cov_velocity_models_pscmp</code><span class="sig-paren">(</span><em>store_superdir</em>, <em>crust_inds</em>, <em>target</em>, <em>sources</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covariance.html#geodetic_cov_velocity_models_pscmp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#covariance.geodetic_cov_velocity_models_pscmp" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate model prediction uncertainty matrix with respect to uncertainties
in the velocity model for geodetic targets based on pscmp.
Deprecated!!!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>store_superdir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Absolute path to the geodetic GreensFunction directory</li>
<li><strong>crust_inds</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of int of indices for respective GreensFunction store indexes</li>
<li><strong>target</strong> (<a class="reference internal" href="#heart.GeodeticDataset" title="heart.GeodeticDataset"><code class="xref py py-class docutils literal"><span class="pre">heart.GeodeticDataset</span></code></a>) – dataset and observation points to calculate covariance for</li>
<li><strong>sources</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <code class="xref py py-class docutils literal"><span class="pre">pscmp.PsCmpRectangularSource</span></code> determines the covariance
matrix</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> with Covariance due to velocity model uncertainties</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="covariance.seismic_cov_velocity_models">
<code class="descclassname">covariance.</code><code class="descname">seismic_cov_velocity_models</code><span class="sig-paren">(</span><em>engine</em>, <em>sources</em>, <em>targets</em>, <em>arrival_taper</em>, <em>arrival_times</em>, <em>wavename</em>, <em>filterer</em>, <em>plot=False</em>, <em>n_jobs=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covariance.html#seismic_cov_velocity_models"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#covariance.seismic_cov_velocity_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate model prediction uncertainty matrix with respect to uncertainties
in the velocity model for station and channel.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>engine</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.LocalEngine" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.LocalEngine</span></code></a>) – contains synthetics generation machine</li>
<li><strong>sources</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.Source" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Source</span></code></a></li>
<li><strong>targets</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Targets</span></code></li>
<li><strong>arrival_taper</strong> – determines tapering around phase Arrival</li>
<li><strong>arrival_times</strong> (None or <code class="xref py py-class docutils literal"><span class="pre">numpy.NdArray</span></code>) – of phase to apply taper, if None theoretic arrival of ray tracing used</li>
<li><strong>filterer</strong> (<a class="reference internal" href="#heart.Filter" title="heart.Filter"><code class="xref py py-class docutils literal"><span class="pre">heart.Filter</span></code></a>) – determines the bandpass-filtering corner frequencies</li>
<li><strong>plot</strong> (<em>boolean</em>) – open snuffler and browse traces if True</li>
<li><strong>n_jobs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – number of processors to be used for calculation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> with Covariance due to velocity model uncertainties</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="covariance.seismic_data_covariance">
<code class="descclassname">covariance.</code><code class="descname">seismic_data_covariance</code><span class="sig-paren">(</span><em>data_traces</em>, <em>engine</em>, <em>filterer</em>, <em>sample_rate</em>, <em>arrival_taper</em>, <em>event</em>, <em>targets</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covariance.html#seismic_data_covariance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#covariance.seismic_data_covariance" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate SubCovariance Matrix of trace object following
Duputel et al. 2012 GJI
“Uncertainty estimations for seismic source inversions” p. 5</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data_traces</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/trace.html#pyrocko.trace.Trace" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.Trace</span></code></a> containing observed data</li>
<li><strong>engine</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.LocalEngine" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.LocalEngine</span></code></a>) – processing object for synthetics calculation</li>
<li><strong>filterer</strong> (<a class="reference internal" href="#heart.Filter" title="heart.Filter"><code class="xref py py-class docutils literal"><span class="pre">heart.Filter</span></code></a>) – determines the bandpass-filtering corner frequencies</li>
<li><strong>sample_rate</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – sampling rate of data_traces and GreensFunction stores</li>
<li><strong>arrival_taper</strong> – determines tapering around phase Arrival</li>
<li><strong>event</strong> (<code class="xref py py-class docutils literal"><span class="pre">pyrocko.meta.Event</span></code>) – reference event from catalog</li>
<li><strong>targets</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Targets</span></code></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<dl class="docutils">
<dt>Cd(i,j) = (Variance of trace)*exp(-abs(ti-tj)/</dt>
<dd><blockquote class="first">
<div>(shortest period T0 of waves))</div></blockquote>
<p class="last">i,j are samples of the seismic trace</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-theanof">
<span id="the-theanof-module"></span><h2>The <a class="reference internal" href="#module-theanof" title="theanof"><code class="xref py py-mod docutils literal"><span class="pre">theanof</span></code></a> Module<a class="headerlink" href="#module-theanof" title="Permalink to this headline">¶</a></h2>
<p>Package for wrapping various functions into Theano-Ops to be able to include
them into theano graphs as is needed by the pymc3 models.</p>
<dl class="docutils">
<dt>Far future:</dt>
<dd>include a ‘def grad:’ -method to each Op in order to enable the use of
gradient based optimization algorithms</dd>
</dl>
<dl class="class">
<dt id="theanof.GeoInterseismicSynthesizer">
<em class="property">class </em><code class="descclassname">theanof.</code><code class="descname">GeoInterseismicSynthesizer</code><span class="sig-paren">(</span><em>lats</em>, <em>lons</em>, <em>engine</em>, <em>targets</em>, <em>sources</em>, <em>reference</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#GeoInterseismicSynthesizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.GeoInterseismicSynthesizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Theano wrapper to transform the parameters of block model to
parameters of a fault.</p>
<dl class="method">
<dt id="theanof.GeoInterseismicSynthesizer.make_node">
<code class="descname">make_node</code><span class="sig-paren">(</span><em>inputs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#GeoInterseismicSynthesizer.make_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.GeoInterseismicSynthesizer.make_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms theano tensors to node and allocates variables accordingly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>inputs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – keys being strings of source attributes of the
<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.RectangularSource" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.RectangularSource</span></code></a> that was used
to initialise the Operator.
values are <code class="xref py py-class docutils literal"><span class="pre">theano.tensor.Tensor</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="theanof.GeoInterseismicSynthesizer.perform">
<code class="descname">perform</code><span class="sig-paren">(</span><em>node</em>, <em>inputs</em>, <em>output</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#GeoInterseismicSynthesizer.perform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.GeoInterseismicSynthesizer.perform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform method of the Operator to calculate synthetic displacements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>inputs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></li>
<li><strong>output</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of synthetic displacements of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (n x 3)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="theanof.GeoLayerSynthesizerPsCmp">
<em class="property">class </em><code class="descclassname">theanof.</code><code class="descname">GeoLayerSynthesizerPsCmp</code><span class="sig-paren">(</span><em>lats</em>, <em>lons</em>, <em>store_superdir</em>, <em>crust_ind</em>, <em>sources</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#GeoLayerSynthesizerPsCmp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.GeoLayerSynthesizerPsCmp" title="Permalink to this definition">¶</a></dt>
<dd><p>Theano wrapper for a geodetic forward model for static observation
points. Direct call to PsCmp, needs PsGrn Greens Function store!
Deprecated, currently not used in composites.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>lats</strong> (n x 1 <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>) – with latitudes of observation points</li>
<li><strong>lons</strong> (n x 1 <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>) – with longitudes of observation points</li>
<li><strong>store_superdir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – with absolute path to the GF store super directory</li>
<li><strong>crust_ind</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – with the index to the GF store</li>
<li><strong>sources</strong> (<code class="xref py py-class docutils literal"><span class="pre">pscmp.RectangularSource</span></code>) – to be used in generating the synthetic displacements</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="theanof.GeoLayerSynthesizerPsCmp.make_node">
<code class="descname">make_node</code><span class="sig-paren">(</span><em>inputs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#GeoLayerSynthesizerPsCmp.make_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.GeoLayerSynthesizerPsCmp.make_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms theano tensors to node and allocates variables accordingly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>inputs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – keys being strings of source attributes of the
<code class="xref py py-class docutils literal"><span class="pre">pscmp.RectangularSource</span></code> that was used to initialise
the Operator
values are <code class="xref py py-class docutils literal"><span class="pre">theano.tensor.Tensor</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="theanof.GeoLayerSynthesizerPsCmp.perform">
<code class="descname">perform</code><span class="sig-paren">(</span><em>node</em>, <em>inputs</em>, <em>output</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#GeoLayerSynthesizerPsCmp.perform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.GeoLayerSynthesizerPsCmp.perform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform method of the Operator to calculate synthetic displacements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>inputs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></li>
<li><strong>output</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of synthetic displacements of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (n x 1)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="theanof.GeoSynthesizer">
<em class="property">class </em><code class="descclassname">theanof.</code><code class="descname">GeoSynthesizer</code><span class="sig-paren">(</span><em>engine</em>, <em>sources</em>, <em>targets</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#GeoSynthesizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.GeoSynthesizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Theano wrapper for a geodetic forward model with synthetic displacements.
Uses pyrocko engine and fomosto GF stores.
Input order does not matter anymore! Did in previous version.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>engine</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.LocalEngine" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.LocalEngine</span></code></a>) – </li>
<li><strong>sources</strong> (<em>List</em>) – containing <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.Source" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Source</span></code></a> Objects</li>
<li><strong>targets</strong> (<em>List</em>) – containing <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.targets.StaticTarget" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.targets.StaticTarget</span></code></a> Objects</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="theanof.GeoSynthesizer.make_node">
<code class="descname">make_node</code><span class="sig-paren">(</span><em>inputs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#GeoSynthesizer.make_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.GeoSynthesizer.make_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms theano tensors to node and allocates variables accordingly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>inputs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – keys being strings of source attributes of the
<code class="xref py py-class docutils literal"><span class="pre">pscmp.RectangularSource</span></code> that was used to initialise
the Operator
values are <code class="xref py py-class docutils literal"><span class="pre">theano.tensor.Tensor</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="theanof.GeoSynthesizer.perform">
<code class="descname">perform</code><span class="sig-paren">(</span><em>node</em>, <em>inputs</em>, <em>output</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#GeoSynthesizer.perform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.GeoSynthesizer.perform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform method of the Operator to calculate synthetic displacements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>inputs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></li>
<li><strong>output</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – <ol class="arabic">
<li>of synthetic waveforms of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>
(n x nsamples)</li>
<li>of start times of the first waveform samples
<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (n x 1)</li>
</ol>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="theanof.SeisSynthesizer">
<em class="property">class </em><code class="descclassname">theanof.</code><code class="descname">SeisSynthesizer</code><span class="sig-paren">(</span><em>engine</em>, <em>sources</em>, <em>targets</em>, <em>event</em>, <em>arrival_taper</em>, <em>arrival_times</em>, <em>wavename</em>, <em>filterer</em>, <em>pre_stack_cut</em>, <em>station_corrections</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#SeisSynthesizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.SeisSynthesizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Theano wrapper for a seismic forward model with synthetic waveforms.
Input order does not matter anymore! Did in previous version.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>engine</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.LocalEngine" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.LocalEngine</span></code></a>) – </li>
<li><strong>sources</strong> (<em>List</em>) – containing <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.Source" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Source</span></code></a> Objects</li>
<li><strong>targets</strong> (<em>List</em>) – containing <code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Target</span></code> Objects</li>
<li><strong>arrival_taper</strong> (<a class="reference internal" href="#heart.ArrivalTaper" title="heart.ArrivalTaper"><code class="xref py py-class docutils literal"><span class="pre">heart.ArrivalTaper</span></code></a>) – </li>
<li><strong>filterer</strong> (<code class="xref py py-class docutils literal"><span class="pre">heart.Filterer</span></code>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="theanof.SeisSynthesizer.make_node">
<code class="descname">make_node</code><span class="sig-paren">(</span><em>inputs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#SeisSynthesizer.make_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.SeisSynthesizer.make_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms theano tensors to node and allocates variables accordingly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>inputs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – keys being strings of source attributes of the
<code class="xref py py-class docutils literal"><span class="pre">pscmp.RectangularSource</span></code> that was used to initialise
the Operator
values are <code class="xref py py-class docutils literal"><span class="pre">theano.tensor.Tensor</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="theanof.SeisSynthesizer.perform">
<code class="descname">perform</code><span class="sig-paren">(</span><em>node</em>, <em>inputs</em>, <em>output</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#SeisSynthesizer.perform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.SeisSynthesizer.perform" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform method of the Operator to calculate synthetic displacements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>inputs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></li>
<li><strong>output</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – <ol class="arabic">
<li>of synthetic waveforms of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>
(n x nsamples)</li>
<li>of start times of the first waveform samples
<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> (n x 1)</li>
</ol>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="theanof.Sweeper">
<em class="property">class </em><code class="descclassname">theanof.</code><code class="descname">Sweeper</code><span class="sig-paren">(</span><em>patch_size</em>, <em>n_patch_dip</em>, <em>n_patch_strike</em>, <em>implementation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#Sweeper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.Sweeper" title="Permalink to this definition">¶</a></dt>
<dd><p>Theano Op for C implementation of the fast sweep algorithm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>patch_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – size of fault patches [km]</li>
<li><strong>n_patch_strike</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – number of patches in strike direction</li>
<li><strong>n_patch_dip</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – number of patches in dip-direction</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="theanof.Sweeper.perform">
<code class="descname">perform</code><span class="sig-paren">(</span><em>node</em>, <em>inputs</em>, <em>output</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/theanof.html#Sweeper.perform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#theanof.Sweeper.perform" title="Permalink to this definition">¶</a></dt>
<dd><p>Return start-times of rupturing patches with respect to
given hypocenter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>slownesses</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>, </em><em>vector</em>) – inverse of the rupture velocity across each patch</li>
<li><strong>nuc_dip</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>scalar</em>) – rupture nucleation point on the fault in dip-direction,
index to patch</li>
<li><strong>nuc_strike</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>scalar</em>) – rupture nucleation point on the fault in strike-direction,
index to patch</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>starttimes</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)">float</a>, vector</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Here we call the C-implementation on purpose with swapped
strike and dip directions, because we need the
fault dipping in row directions of the array.
The C-implementation has it along columns!!!</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-utility">
<span id="the-utility-module"></span><h2>The <a class="reference internal" href="#module-utility" title="utility"><code class="xref py py-mod docutils literal"><span class="pre">utility</span></code></a> Module<a class="headerlink" href="#module-utility" title="Permalink to this headline">¶</a></h2>
<p>This module provides a namespace for various functions:
coordinate transformations,
loading and storing objects,
book-keeping of indexes in arrays that relate to defined variable names,
manipulation of various pyrocko objects
and many more …</p>
<dl class="class">
<dt id="utility.Counter">
<em class="property">class </em><code class="descclassname">utility.</code><code class="descname">Counter</code><a class="reference internal" href="_modules/utility.html#Counter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.Counter" title="Permalink to this definition">¶</a></dt>
<dd><p>Counts calls of types with string_ids. Repeated calls with the same
string id increase the count.</p>
</dd></dl>

<dl class="class">
<dt id="utility.DataMap">
<em class="property">class </em><code class="descclassname">utility.</code><code class="descname">DataMap</code><span class="sig-paren">(</span><em>list_ind</em>, <em>slc</em>, <em>shp</em>, <em>dtype</em>, <em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#utility.DataMap" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="utility.DataMap.dtype">
<code class="descname">dtype</code><a class="headerlink" href="#utility.DataMap.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="attribute">
<dt id="utility.DataMap.list_ind">
<code class="descname">list_ind</code><a class="headerlink" href="#utility.DataMap.list_ind" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="attribute">
<dt id="utility.DataMap.name">
<code class="descname">name</code><a class="headerlink" href="#utility.DataMap.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 4</p>
</dd></dl>

<dl class="attribute">
<dt id="utility.DataMap.shp">
<code class="descname">shp</code><a class="headerlink" href="#utility.DataMap.shp" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="attribute">
<dt id="utility.DataMap.slc">
<code class="descname">slc</code><a class="headerlink" href="#utility.DataMap.slc" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="utility.ListArrayOrdering">
<em class="property">class </em><code class="descclassname">utility.</code><code class="descname">ListArrayOrdering</code><span class="sig-paren">(</span><em>list_arrays</em>, <em>intype='numpy'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#ListArrayOrdering"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.ListArrayOrdering" title="Permalink to this definition">¶</a></dt>
<dd><p>An ordering for a list to an array space. Takes also non theano.tensors.
Modified from pymc3 blocking.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>list_arrays</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> or <code class="xref py py-class docutils literal"><span class="pre">theano.tensor.Tensor</span></code></li>
<li><strong>intype</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – defining the input type ‘tensor’ or ‘numpy’</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="utility.ListToArrayBijection">
<em class="property">class </em><code class="descclassname">utility.</code><code class="descname">ListToArrayBijection</code><span class="sig-paren">(</span><em>ordering</em>, <em>list_arrays</em>, <em>blacklist=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#ListToArrayBijection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.ListToArrayBijection" title="Permalink to this definition">¶</a></dt>
<dd><p>A mapping between a List of arrays and an array space</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ordering</strong> (<a class="reference internal" href="#utility.ListArrayOrdering" title="utility.ListArrayOrdering"><code class="xref py py-class docutils literal"><span class="pre">ListArrayOrdering</span></code></a>) – </li>
<li><strong>list_arrays</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="utility.ListToArrayBijection.a2l">
<code class="descname">a2l</code><span class="sig-paren">(</span><em>array</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#ListToArrayBijection.a2l"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.ListToArrayBijection.a2l" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps value from array space to List space
Inverse operation of fmap.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>array</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>a_list</strong> – of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)">list</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="utility.ListToArrayBijection.d2l">
<code class="descname">d2l</code><span class="sig-paren">(</span><em>dpt</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#ListToArrayBijection.d2l"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.ListToArrayBijection.d2l" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps values from dict space to List space
If variable expected from ordering is not in point
it is filled with a low dummy value -999999.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dpt</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">lpoint</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="utility.ListToArrayBijection.f3map">
<code class="descname">f3map</code><span class="sig-paren">(</span><em>list_arrays</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#ListToArrayBijection.f3map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.ListToArrayBijection.f3map" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps values from List space to array space with 3 columns</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>list_arrays</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> with size: n x 3</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>array</strong> – single array comprising all the input arrays</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="utility.ListToArrayBijection.l2a">
<code class="descname">l2a</code><span class="sig-paren">(</span><em>list_arrays</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#ListToArrayBijection.l2a"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.ListToArrayBijection.l2a" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps values from List space to array space</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>list_arrays</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>array</strong> – single array comprising all the input arrays</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="utility.ListToArrayBijection.l2d">
<code class="descname">l2d</code><span class="sig-paren">(</span><em>a_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#ListToArrayBijection.l2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.ListToArrayBijection.l2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps values from List space to dict space</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>list_arrays</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">pymc3.model.Point</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="utility.ListToArrayBijection.srmap">
<code class="descname">srmap</code><span class="sig-paren">(</span><em>tarray</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#ListToArrayBijection.srmap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.ListToArrayBijection.srmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps value from symbolic variable array space to List space</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tarray</strong> (<code class="xref py py-class docutils literal"><span class="pre">theano.tensor.Tensor</span></code>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>a_list</strong> – of <code class="xref py py-class docutils literal"><span class="pre">theano.tensor.Tensor</span></code></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)">list</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="utility.PsGrnArray2LayeredModel">
<code class="descclassname">utility.</code><code class="descname">PsGrnArray2LayeredModel</code><span class="sig-paren">(</span><em>psgrn_input_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#PsGrnArray2LayeredModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.PsGrnArray2LayeredModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Read PsGrn Input file and return velocity model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>psgrn_input_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Absolute path to the psgrn input file.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">LayeredModel</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.RS_center">
<code class="descclassname">utility.</code><code class="descname">RS_center</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#RS_center"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.RS_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Get 3d fault center coordinates. Depth attribute is top depth!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>source</strong> (<em>RedctangularSource</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> with x, y, z coordinates of the center of the</li>
<li><em>fault</em></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.RS_dipvector">
<code class="descclassname">utility.</code><code class="descname">RS_dipvector</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#RS_dipvector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.RS_dipvector" title="Permalink to this definition">¶</a></dt>
<dd><p>Get 3 dimensional dip-vector of a planar fault.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>source</strong> (<em>RectangularSource</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.RS_strikevector">
<code class="descclassname">utility.</code><code class="descname">RS_strikevector</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#RS_strikevector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.RS_strikevector" title="Permalink to this definition">¶</a></dt>
<dd><p>Get 3 dimensional strike-vector of a planar fault.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>source</strong> (<em>RedctangularSource</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.adjust_fault_reference">
<code class="descclassname">utility.</code><code class="descname">adjust_fault_reference</code><span class="sig-paren">(</span><em>source</em>, <em>input_depth='top'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#adjust_fault_reference"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.adjust_fault_reference" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjusts source depth and east/north-shifts variables of fault according to
input_depth mode ‘top/center’.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>source</strong> (<code class="xref py py-class docutils literal"><span class="pre">RectangularSource</span></code> or <code class="xref py py-class docutils literal"><span class="pre">pscmp.RectangularSource</span></code> or) – <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.RectangularSource" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.RectangularSource</span></code></a></li>
<li><strong>input_depth</strong> (<a class="reference external" href="https://docs.python.org/3/library/string.html#module-string" title="(in Python v3.7)"><em>string</em></a>) – if ‘top’ the depth in the source is interpreted as top depth
if ‘center’ the depth in the source is interpreted as center depth</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Updated input source object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.adjust_point_units">
<code class="descclassname">utility.</code><code class="descname">adjust_point_units</code><span class="sig-paren">(</span><em>point</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#adjust_point_units"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.adjust_point_units" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform variables with [km] units to [m]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>point</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – <a class="reference external" href="http://docs.pymc.io/api/model.html#pymc3.model.Point" title="(in PyMC3 v3.5)"><code class="xref py py-func docutils literal"><span class="pre">pymc3.model.Point()</span></code></a> of model parameter units as keys</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>mpoint</strong> – <a class="reference external" href="http://docs.pymc.io/api/model.html#pymc3.model.Point" title="(in PyMC3 v3.5)"><code class="xref py py-func docutils literal"><span class="pre">pymc3.model.Point()</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.apply_station_blacklist">
<code class="descclassname">utility.</code><code class="descname">apply_station_blacklist</code><span class="sig-paren">(</span><em>stations</em>, <em>blacklist</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#apply_station_blacklist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.apply_station_blacklist" title="Permalink to this definition">¶</a></dt>
<dd><p>Weed stations listed in the blacklist.
Modifies input list!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stations</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Station" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Station</span></code></a></li>
<li><strong>blacklist</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – strings of station names</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>stations</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Station" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Station</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.biggest_common_divisor">
<code class="descclassname">utility.</code><code class="descname">biggest_common_divisor</code><span class="sig-paren">(</span><em>a</em>, <em>b</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#biggest_common_divisor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.biggest_common_divisor" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the biggest common divisor of two float numbers a and b.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>b</strong> (<a class="reference internal" href="#heart.ArrivalTaper.a" title="heart.ArrivalTaper.a"><em>a</em></a><em>,</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)">int</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.check_hyper_flag">
<code class="descclassname">utility.</code><code class="descname">check_hyper_flag</code><span class="sig-paren">(</span><em>problem</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#check_hyper_flag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.check_hyper_flag" title="Permalink to this definition">¶</a></dt>
<dd><p>Check problem setup for type of model standard/hyperparameters.</p>
<p>:param <code class="xref py py-class docutils literal"><span class="pre">models.Problem</span></code>:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>flag</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.downsample_traces">
<code class="descclassname">utility.</code><code class="descname">downsample_traces</code><span class="sig-paren">(</span><em>data_traces</em>, <em>deltat=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#downsample_traces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.downsample_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Downsample data_traces to given sampling interval ‘deltat’.
Modifies input <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/trace.html#pyrocko.trace.Trace" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.Trace</span></code></a> Objects!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data_traces</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/trace.html#pyrocko.trace.Trace" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.Trace</span></code></a></li>
<li><strong>deltat</strong> (<em>sampling interval</em><em> [</em><em>s</em><em>] </em><em>to which traces should be downsampled</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.dump_objects">
<code class="descclassname">utility.</code><code class="descname">dump_objects</code><span class="sig-paren">(</span><em>outpath</em>, <em>outlist</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#dump_objects"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.dump_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Dump objects in outlist into pickle file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>outpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – absolute path and file name for the file to be stored</li>
<li><strong>outlist</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of objects to save pickle</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.ensure_cov_psd">
<code class="descclassname">utility.</code><code class="descname">ensure_cov_psd</code><span class="sig-paren">(</span><em>cov</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#ensure_cov_psd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.ensure_cov_psd" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure that the input covariance matrix is positive definite.
If not, find the nearest positive semi-definite matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cov</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>) – symmetric covariance matrix</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>cov</strong> – positive definite covariance matrix</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.error_not_whole">
<code class="descclassname">utility.</code><code class="descname">error_not_whole</code><span class="sig-paren">(</span><em>f</em>, <em>errstr=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#error_not_whole"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.error_not_whole" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if float is a whole number, if not raise Error.</p>
</dd></dl>

<dl class="function">
<dt id="utility.gather">
<code class="descclassname">utility.</code><code class="descname">gather</code><span class="sig-paren">(</span><em>l</em>, <em>key</em>, <em>sort=None</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#gather"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.gather" title="Permalink to this definition">¶</a></dt>
<dd><p>Return dictionary of input l grouped by key.</p>
</dd></dl>

<dl class="function">
<dt id="utility.get_fit_indexes">
<code class="descclassname">utility.</code><code class="descname">get_fit_indexes</code><span class="sig-paren">(</span><em>llk</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#get_fit_indexes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.get_fit_indexes" title="Permalink to this definition">¶</a></dt>
<dd><p>Find indexes of various likelihoods in a likelihood distribution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>llk</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict with array indexes</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.get_random_uniform">
<code class="descclassname">utility.</code><code class="descname">get_random_uniform</code><span class="sig-paren">(</span><em>lower</em>, <em>upper</em>, <em>dimension=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#get_random_uniform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.get_random_uniform" title="Permalink to this definition">¶</a></dt>
<dd><p>Get uniform random values between given bounds</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>lower</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – </li>
<li><strong>upper</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – </li>
<li><strong>dimension</strong> (<em>size of result vector</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.get_rotation_matrix">
<code class="descclassname">utility.</code><code class="descname">get_rotation_matrix</code><span class="sig-paren">(</span><em>axes=['x', 'y', 'z']</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#get_rotation_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.get_rotation_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a function for 3-d rotation matrix for a specified axis.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>axes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em> or </em><em>list of str</em>) – x, y or z for the axis</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">func that takes an angle [rad]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.join_models">
<code class="descclassname">utility.</code><code class="descname">join_models</code><span class="sig-paren">(</span><em>global_model</em>, <em>crustal_model</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#join_models"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.join_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace the part of the ‘global model’ that is covered by ‘crustal_model’.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>global_model</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a>) – </li>
<li><strong>crustal_model</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/cake.html#pyrocko.cake.LayeredModel" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.cake.LayeredModel</span></code></a>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>joined_model</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">cake.LayeredModel</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.join_points">
<code class="descclassname">utility.</code><code class="descname">join_points</code><span class="sig-paren">(</span><em>ldicts</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#join_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.join_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Join list of dicts into one dict with concatenating
values of keys that are present in multiple dicts.</p>
</dd></dl>

<dl class="function">
<dt id="utility.line_intersect">
<code class="descclassname">utility.</code><code class="descname">line_intersect</code><span class="sig-paren">(</span><em>e1</em>, <em>e2</em>, <em>n1</em>, <em>n2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#line_intersect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.line_intersect" title="Permalink to this definition">¶</a></dt>
<dd><p>Get intersection point of n-lines.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>points of each line in</strong><strong> (</strong><strong>n x 2</strong><strong>) </strong><strong>arrays</strong> (<em>end</em>) – </li>
<li><strong>e1</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.array</span></code> (n x 2)) – east coordinates of first line</li>
<li><strong>e2</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.array</span></code> (n x 2)) – east coordinates of second line</li>
<li><strong>n1</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.array</span></code> (n x 2)) – north coordinates of first line</li>
<li><strong>n2</strong> (<code class="xref py py-class docutils literal"><span class="pre">numpy.array</span></code> (n x 2)) – east coordinates of second line</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">numpy.array</span></code> (n x 2) of intersection points (easts, norths)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.list2string">
<code class="descclassname">utility.</code><code class="descname">list2string</code><span class="sig-paren">(</span><em>l</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#list2string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.list2string" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert list of string to single string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>l</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of strings</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.list_to_str">
<code class="descclassname">utility.</code><code class="descname">list_to_str</code><span class="sig-paren">(</span><em>l</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#list_to_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.list_to_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform entries of a list or 1-d array to one single string.</p>
</dd></dl>

<dl class="function">
<dt id="utility.load_objects">
<code class="descclassname">utility.</code><code class="descname">load_objects</code><span class="sig-paren">(</span><em>loadpath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#load_objects"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.load_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Load (unpickle) saved (pickled) objects from specified loadpath.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>loadpath</strong> (<em>absolute path and file name to the file to be loaded</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>objects</strong> – of saved objects</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)">list</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.lonlat_to_utm">
<code class="descclassname">utility.</code><code class="descname">lonlat_to_utm</code><span class="sig-paren">(</span><em>lon</em>, <em>lat</em>, <em>zone</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#lonlat_to_utm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.lonlat_to_utm" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert UTM[m] to local coordinates with reference to the
<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>utmx</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>) – with UTM easting</li>
<li><strong>utmy</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>) – with UTM northing</li>
<li><strong>zone</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – number with utm zone</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>utme</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>) – Local coordinates [m] for x direction (East)</li>
<li><strong>utmn</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>) – Local coordinates [m] for y direction (North)</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.mod_i">
<code class="descclassname">utility.</code><code class="descname">mod_i</code><span class="sig-paren">(</span><em>i</em>, <em>cycle</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#mod_i"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.mod_i" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates modulus of a function and returns number of full cycles and the
rest.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Number to be cycled over</li>
<li><strong>cycle</strong> (<em>int o float</em>) – Cycle length</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>fullc</strong> (<em>int or float depending on input</em>)</li>
<li><strong>rest</strong> (<em>int or float depending on input</em>)</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.near_psd">
<code class="descclassname">utility.</code><code class="descname">near_psd</code><span class="sig-paren">(</span><em>x</em>, <em>epsilon=2.220446049250313e-16</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#near_psd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.near_psd" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the nearest postive semi-definite matrix for a correlation/
covariance matrix</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>) – Covariance/correlation matrix</li>
<li><strong>epsilon</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Eigenvalue limit
here set to accuracy of numbers in numpy, otherwise the resulting
matrix, likely is still not going to be positive definite</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>near_cov</strong> – closest positive definite covariance/correlation matrix</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Numpy number precission not high enough to resolve this for low valued
covariance matrixes! The result will have very small negative eigvals!!!</p>
<p>See repair_covariance below for a simpler implementation that can resolve
the numbers!</p>
<p>Algorithm after Rebonato &amp; Jaekel 1999</p>
</dd></dl>

<dl class="function">
<dt id="utility.repair_covariance">
<code class="descclassname">utility.</code><code class="descname">repair_covariance</code><span class="sig-paren">(</span><em>x</em>, <em>epsilon=2.220446049250313e-16</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#repair_covariance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.repair_covariance" title="Permalink to this definition">¶</a></dt>
<dd><p>Make covariance input matrix A positive definite.
Setting eigenvalues that are lower than the precission of numpy floats to
at least that precision and backtransform.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>) – Covariance/correlation matrix</li>
<li><strong>epsilon</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Eigenvalue limit
here set to accuracy of numbers in numpy, otherwise the resulting
matrix, likely is still not going to be positive definite</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>near_cov</strong> – closest positive definite covariance/correlation matrix</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Algorithm after Gilbert Strange, ‘Introduction to linear Algebra’</p>
</dd></dl>

<dl class="function">
<dt id="utility.running_window_rms">
<code class="descclassname">utility.</code><code class="descname">running_window_rms</code><span class="sig-paren">(</span><em>data</em>, <em>window_size</em>, <em>mode='valid'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#running_window_rms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.running_window_rms" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the standard deviations of a running window over data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> 1-d) – containing data to calculate stds from</li>
<li><strong>window_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – sample size of running window</li>
<li><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – see numpy.convolve for modes</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">with stds, size data.size - window_size + 1</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> 1-d</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.search_catalog">
<code class="descclassname">utility.</code><code class="descname">search_catalog</code><span class="sig-paren">(</span><em>date</em>, <em>min_magnitude</em>, <em>dayrange=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#search_catalog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.search_catalog" title="Permalink to this definition">¶</a></dt>
<dd><p>Search the gcmt catalog for the specified date (+- 1 day), filtering the
events with given magnitude threshold.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>date</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – ‘YYYY-MM-DD’, date of the event</li>
<li><strong>min_magnitude</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – approximate minimum Mw of the event</li>
<li><strong>dayrange</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – temporal search interval [days] around date</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>event</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.setup_logging">
<code class="descclassname">utility.</code><code class="descname">setup_logging</code><span class="sig-paren">(</span><em>project_dir</em>, <em>levelname</em>, <em>logfilename='BEAT_log.txt'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#setup_logging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.setup_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup function for handling BEAT logging. The logfile ‘BEAT_log.txt’ is
saved in the ‘project_dir’.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>project_dir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – absolute path to the output directory for the Log file</li>
<li><strong>levelname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – defining the level of logging</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.split_off_list">
<code class="descclassname">utility.</code><code class="descname">split_off_list</code><span class="sig-paren">(</span><em>l</em>, <em>off_length</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#split_off_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.split_off_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Split a list with length ‘off_length’ from the beginning of an input
list l.
Modifies input list!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>l</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of objects to be seperated</li>
<li><strong>off_length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – number of elements from l to be split off</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)">list</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.split_point">
<code class="descclassname">utility.</code><code class="descname">split_point</code><span class="sig-paren">(</span><em>point</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#split_point"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.split_point" title="Permalink to this definition">¶</a></dt>
<dd><p>Split point in solution space into List of dictionaries with source
parameters for each source.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>point</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – <a class="reference external" href="http://docs.pymc.io/api/model.html#pymc3.model.Point" title="(in PyMC3 v3.5)"><code class="xref py py-func docutils literal"><span class="pre">pymc3.model.Point()</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>source_points</strong> – of <a class="reference external" href="http://docs.pymc.io/api/model.html#pymc3.model.Point" title="(in PyMC3 v3.5)"><code class="xref py py-func docutils literal"><span class="pre">pymc3.model.Point()</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)">list</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.swap_columns">
<code class="descclassname">utility.</code><code class="descname">swap_columns</code><span class="sig-paren">(</span><em>array</em>, <em>index1</em>, <em>index2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#swap_columns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.swap_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Swaps the column of the input array based on the given indexes.</p>
</dd></dl>

<dl class="function">
<dt id="utility.transform_sources">
<code class="descclassname">utility.</code><code class="descname">transform_sources</code><span class="sig-paren">(</span><em>sources</em>, <em>datatypes</em>, <em>decimation_factors=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#transform_sources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.transform_sources" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms a list of <code class="xref py py-class docutils literal"><span class="pre">heart.RectangularSource</span></code> to a dictionary of
sources <code class="xref py py-class docutils literal"><span class="pre">pscmp.PsCmpRectangularSource</span></code> for geodetic data and
<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.RectangularSource" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.RectangularSource</span></code></a> for seismic data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sources</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – <code class="xref py py-class docutils literal"><span class="pre">heart.RectangularSource</span></code></li>
<li><strong>datatypes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of strings with the datatypes to be included ‘geodetic’ or ‘seismic’</li>
<li><strong>decimation_factors</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – of datatypes and their respective decimation factor</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>d</strong> – of transformed sources with datatypes as keys</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.unique_list">
<code class="descclassname">utility.</code><code class="descname">unique_list</code><span class="sig-paren">(</span><em>l</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#unique_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.unique_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Find unique entries in list and return them in a list.
Keeps variable order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>l</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list with only unique elements</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.update_source">
<code class="descclassname">utility.</code><code class="descname">update_source</code><span class="sig-paren">(</span><em>source</em>, <em>**point</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#update_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.update_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Update source keeping stf and source params seperate.
Modifies input source Object!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>source</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.seismosizer.Source" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.seismosizer.Source</span></code></a>) – </li>
<li><strong>point</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – <a class="reference external" href="http://docs.pymc.io/api/model.html#pymc3.model.Point" title="(in PyMC3 v3.5)"><code class="xref py py-func docutils literal"><span class="pre">pymc3.model.Point()</span></code></a></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.utm_to_loc">
<code class="descclassname">utility.</code><code class="descname">utm_to_loc</code><span class="sig-paren">(</span><em>utmx</em>, <em>utmy</em>, <em>zone</em>, <em>event</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#utm_to_loc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.utm_to_loc" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert UTM[m] to local coordinates with reference to the
<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>utmx</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>) – with UTM easting</li>
<li><strong>utmy</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>) – with UTM northing</li>
<li><strong>zone</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – number with utm zone</li>
<li><strong>event</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>locx</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>) – Local coordinates [m] for x direction (East)</li>
<li><strong>locy</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>) – Local coordinates [m] for y direction (North)</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.utm_to_lonlat">
<code class="descclassname">utility.</code><code class="descname">utm_to_lonlat</code><span class="sig-paren">(</span><em>utmx</em>, <em>utmy</em>, <em>zone</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#utm_to_lonlat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.utm_to_lonlat" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert UTM[m] to Latitude and Longitude coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>utmx</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>) – with UTM easting</li>
<li><strong>utmy</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a>) – with UTM northing</li>
<li><strong>zone</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – number with utm zone</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>lon</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> Longitude [decimal deg])</li>
<li><strong>lat</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> Latitude [decimal deg])</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.weed_data_traces">
<code class="descclassname">utility.</code><code class="descname">weed_data_traces</code><span class="sig-paren">(</span><em>data_traces</em>, <em>stations</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#weed_data_traces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.weed_data_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Throw out data traces belonging to stations that are not in the
stations list. Keeps list orders!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data_traces</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/trace.html#pyrocko.trace.Trace" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.Trace</span></code></a></li>
<li><strong>stations</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Station" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Station</span></code></a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>weeded_data_traces</strong> – of <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/trace.html#pyrocko.trace.Trace" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.trace.Trace</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)">list</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.weed_input_rvs">
<code class="descclassname">utility.</code><code class="descname">weed_input_rvs</code><span class="sig-paren">(</span><em>input_rvs</em>, <em>mode</em>, <em>datatype</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#weed_input_rvs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.weed_input_rvs" title="Permalink to this definition">¶</a></dt>
<dd><p>Throw out random variables (RV)s from input list that are not included by
the respective synthetics generating functions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input_rvs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – of <code class="xref py py-class docutils literal"><span class="pre">pymc3.Distribution</span></code> or set of variable names</li>
<li><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – ‘geometry’, ‘static, ‘kinematic’, ‘interseismic’ determining the
discarded RVs</li>
<li><strong>datatype</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – ‘seismic’ or ‘geodetic’ determining the discarded RVs</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>weeded_input_rvs</strong> – of <code class="xref py py-class docutils literal"><span class="pre">pymc3.Distribution</span></code></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.weed_stations">
<code class="descclassname">utility.</code><code class="descname">weed_stations</code><span class="sig-paren">(</span><em>stations</em>, <em>event</em>, <em>distances=(30.0</em>, <em>90.0)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#weed_stations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.weed_stations" title="Permalink to this definition">¶</a></dt>
<dd><p>Weed stations, that are not within the given distance range(min, max) to
a reference event.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stations</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Station" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Station</span></code></a></li>
<li><strong>event</strong> – <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a></li>
<li><strong>distances</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)"><em>tuple</em></a>) – of minimum and maximum distance [deg] for station-event pairs</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>weeded_stations</strong> – of <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Station" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Station</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)">list</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="utility.weed_targets">
<code class="descclassname">utility.</code><code class="descname">weed_targets</code><span class="sig-paren">(</span><em>targets</em>, <em>stations</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utility.html#weed_targets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#utility.weed_targets" title="Permalink to this definition">¶</a></dt>
<dd><p>Throw out targets belonging to stations that are not in the
stations list. Keeps list orders and returns new list!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>targets</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.targets.Target" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.targets.Target</span></code></a></li>
<li><strong>stations</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Station" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Station</span></code></a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>weeded_targets</strong> – of <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/gf.html#pyrocko.gf.targets.Target" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.gf.targets.Target</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)">list</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-plotting">
<span id="the-plotting-module"></span><h2>The <a class="reference internal" href="#module-plotting" title="plotting"><code class="xref py py-mod docutils literal"><span class="pre">plotting</span></code></a> Module<a class="headerlink" href="#module-plotting" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="plotting.PlotOptions">
<em class="property">class </em><code class="descclassname">plotting.</code><code class="descname">PlotOptions</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotting.html#PlotOptions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plotting.PlotOptions" title="Permalink to this definition">¶</a></dt>
<dd><p>Undocumented.</p>
<dl class="gattribute">
<dt id="plotting.PlotOptions.post_llk">
<em class="property">♦ </em><code class="descname">post_llk</code><a class="headerlink" href="#plotting.PlotOptions.post_llk" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'max'</span></code></p>
<p>Which model to plot on the specified plot; Default: “max”; Options: “max”, “min”, “mean”, “all”</p>
</dd></dl>

<dl class="gattribute">
<dt id="plotting.PlotOptions.plot_projection">
<em class="property">♦ </em><code class="descname">plot_projection</code><a class="headerlink" href="#plotting.PlotOptions.plot_projection" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'local'</span></code></p>
<p>Projection to use for plotting geodetic data; options: “latlon”</p>
</dd></dl>

<dl class="gattribute">
<dt id="plotting.PlotOptions.utm_zone">
<em class="property">♦ </em><code class="descname">utm_zone</code><a class="headerlink" href="#plotting.PlotOptions.utm_zone" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>optional</em>, <em>default:</em> <code class="docutils literal"><span class="pre">36</span></code></p>
<p>Only relevant if plot_projection is “utm”</p>
</dd></dl>

<dl class="gattribute">
<dt id="plotting.PlotOptions.load_stage">
<em class="property">♦ </em><code class="descname">load_stage</code><a class="headerlink" href="#plotting.PlotOptions.load_stage" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">-1</span></code></p>
<p>Which stage to select for plotting</p>
</dd></dl>

<dl class="gattribute">
<dt id="plotting.PlotOptions.figure_dir">
<em class="property">♦ </em><code class="descname">figure_dir</code><a class="headerlink" href="#plotting.PlotOptions.figure_dir" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'figures'</span></code></p>
<p>Name of the output directory of plots</p>
</dd></dl>

<dl class="gattribute">
<dt id="plotting.PlotOptions.reference">
<em class="property">♦ </em><code class="descname">reference</code><a class="headerlink" href="#plotting.PlotOptions.reference" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">dict</span></code> of <code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts.Any</span></code> objects, <em>optional</em></p>
<p>Reference point for example from a synthetic test.</p>
</dd></dl>

<dl class="gattribute">
<dt id="plotting.PlotOptions.outformat">
<em class="property">♦ </em><code class="descname">outformat</code><a class="headerlink" href="#plotting.PlotOptions.outformat" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">str</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">'pdf'</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="plotting.PlotOptions.dpi">
<em class="property">♦ </em><code class="descname">dpi</code><a class="headerlink" href="#plotting.PlotOptions.dpi" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">int</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">300</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="plotting.PlotOptions.force">
<em class="property">♦ </em><code class="descname">force</code><a class="headerlink" href="#plotting.PlotOptions.force" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">bool</span></code>, <em>default:</em> <code class="docutils literal"><span class="pre">False</span></code></p>
</dd></dl>

<dl class="gattribute">
<dt id="plotting.PlotOptions.varnames">
<em class="property">♦ </em><code class="descname">varnames</code><a class="headerlink" href="#plotting.PlotOptions.varnames" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">list</span></code> of <code class="xref py py-class docutils literal"><span class="pre">pyrocko.guts.Any</span></code> objects, <em>optional</em>, <em>default:</em> <code class="docutils literal"><span class="pre">[]</span></code></p>
<p>Names of variables to plot</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="plotting.correlation_plot">
<code class="descclassname">plotting.</code><code class="descname">correlation_plot</code><span class="sig-paren">(</span><em>mtrace</em>, <em>varnames=None</em>, <em>transform=&lt;function &lt;lambda&gt;&gt;</em>, <em>figsize=None</em>, <em>cmap=None</em>, <em>grid=200</em>, <em>point=None</em>, <em>point_style='.'</em>, <em>point_color='white'</em>, <em>point_size='8'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotting.html#correlation_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plotting.correlation_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot 2d marginals (with kernel density estimation) showing the correlations
of the model parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mtrace</strong> (<code class="xref py py-class docutils literal"><span class="pre">pymc3.base.MutliTrace</span></code>) – Mutlitrace instance containing the sampling results</li>
<li><strong>varnames</strong> (<em>list of variable names</em>) – Variables to be plotted, if None all variable are plotted</li>
<li><strong>transform</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#callable" title="(in Python v3.7)"><em>callable</em></a>) – Function to transform data (defaults to identity)</li>
<li><strong>figsize</strong> (<em>figure size tuple</em>) – If None, size is (12, num of variables * 2) inch</li>
<li><strong>cmap</strong> (<em>matplotlib colormap</em>) – </li>
<li><strong>grid</strong> (<em>resolution of kernel density estimation</em>) – </li>
<li><strong>point</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Dictionary of variable name / value  to be overplotted as marker
to the posteriors e.g. mean of posteriors, true values of a simulation</li>
<li><strong>point_style</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – style of marker according to matplotlib conventions</li>
<li><strong>point_color</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em> or </em><em>tuple of 3</em>) – color according to matplotlib convention</li>
<li><strong>point_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – marker size according to matplotlib conventions</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>fig</strong> (<em>figure object</em>)</li>
<li><strong>axs</strong> (<em>subplot axis handles</em>)</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="plotting.correlation_plot_hist">
<code class="descclassname">plotting.</code><code class="descname">correlation_plot_hist</code><span class="sig-paren">(</span><em>mtrace</em>, <em>varnames=None</em>, <em>transform=&lt;function &lt;lambda&gt;&gt;</em>, <em>figsize=None</em>, <em>hist_color='orange'</em>, <em>cmap=None</em>, <em>grid=50</em>, <em>chains=None</em>, <em>ntickmarks=2</em>, <em>point=None</em>, <em>point_style='.'</em>, <em>point_color='red'</em>, <em>point_size='6'</em>, <em>alpha=0.35</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotting.html#correlation_plot_hist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plotting.correlation_plot_hist" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot 2d marginals (with kernel density estimation) showing the correlations
of the model parameters. In the main diagonal is shown the parameter
histograms.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mtrace</strong> (<code class="xref py py-class docutils literal"><span class="pre">pymc3.base.MutliTrace</span></code>) – Mutlitrace instance containing the sampling results</li>
<li><strong>varnames</strong> (<em>list of variable names</em>) – Variables to be plotted, if None all variable are plotted</li>
<li><strong>transform</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#callable" title="(in Python v3.7)"><em>callable</em></a>) – Function to transform data (defaults to identity)</li>
<li><strong>figsize</strong> (<em>figure size tuple</em>) – If None, size is (12, num of variables * 2) inch</li>
<li><strong>cmap</strong> (<em>matplotlib colormap</em>) – </li>
<li><strong>hist_color</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em> or </em><em>tuple of 3</em>) – color according to matplotlib convention</li>
<li><strong>grid</strong> (<em>resolution of kernel density estimation</em>) – </li>
<li><strong>chains</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em> or </em><em>list of ints</em>) – chain indexes to select from the trace</li>
<li><strong>ntickmarks</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – number of ticks at the axis labels</li>
<li><strong>point</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Dictionary of variable name / value  to be overplotted as marker
to the posteriors e.g. mean of posteriors, true values of a simulation</li>
<li><strong>point_style</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – style of marker according to matplotlib conventions</li>
<li><strong>point_color</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em> or </em><em>tuple of 3</em>) – color according to matplotlib convention</li>
<li><strong>point_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – marker size according to matplotlib conventions</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>fig</strong> (<em>figure object</em>)</li>
<li><strong>axs</strong> (<em>subplot axis handles</em>)</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="plotting.get_result_point">
<code class="descclassname">plotting.</code><code class="descname">get_result_point</code><span class="sig-paren">(</span><em>stage</em>, <em>config</em>, <em>point_llk='max'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotting.html#get_result_point"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plotting.get_result_point" title="Permalink to this definition">¶</a></dt>
<dd><p>Return point of a given stage result.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stage</strong> (<code class="xref py py-class docutils literal"><span class="pre">models.Stage</span></code>) – </li>
<li><strong>config</strong> (<code class="xref py py-class docutils literal"><span class="pre">config.BEATConfig</span></code>) – </li>
<li><strong>point_llk</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – with specified llk(max, mean, min).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="plotting.seismic_fits">
<code class="descclassname">plotting.</code><code class="descname">seismic_fits</code><span class="sig-paren">(</span><em>problem</em>, <em>stage</em>, <em>plot_options</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotting.html#seismic_fits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plotting.seismic_fits" title="Permalink to this definition">¶</a></dt>
<dd><p>Modified from grond. Plot synthetic and data waveforms and the misfit for
the selected posterior model.</p>
</dd></dl>

<dl class="function">
<dt id="plotting.geodetic_fits">
<code class="descclassname">plotting.</code><code class="descname">geodetic_fits</code><span class="sig-paren">(</span><em>problem</em>, <em>stage</em>, <em>plot_options</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotting.html#geodetic_fits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plotting.geodetic_fits" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot geodetic data, synthetics and residuals.</p>
</dd></dl>

<dl class="function">
<dt id="plotting.traceplot">
<code class="descclassname">plotting.</code><code class="descname">traceplot</code><span class="sig-paren">(</span><em>trace</em>, <em>varnames=None</em>, <em>transform=&lt;function &lt;lambda&gt;&gt;</em>, <em>figsize=None</em>, <em>lines=None</em>, <em>chains=None</em>, <em>combined=False</em>, <em>grid=False</em>, <em>varbins=None</em>, <em>nbins=40</em>, <em>color=None</em>, <em>alpha=0.35</em>, <em>priors=None</em>, <em>prior_alpha=1</em>, <em>prior_style='--'</em>, <em>axs=None</em>, <em>posterior=None</em>, <em>fig=None</em>, <em>plot_style='kde'</em>, <em>prior_bounds=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotting.html#traceplot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plotting.traceplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots posterior pdfs as histograms from multiple mtrace objects.</p>
<p>Modified from pymc3.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>trace</strong> (<em>result of MCMC run</em>) – </li>
<li><strong>varnames</strong> (<em>list of variable names</em>) – Variables to be plotted, if None all variable are plotted</li>
<li><strong>transform</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#callable" title="(in Python v3.7)"><em>callable</em></a>) – Function to transform data (defaults to identity)</li>
<li><strong>posterior</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – To mark posterior value in distribution ‘max’, ‘min’, ‘mean’, ‘all’</li>
<li><strong>figsize</strong> (<em>figure size tuple</em>) – If None, size is (12, num of variables * 2) inch</li>
<li><strong>lines</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Dictionary of variable name / value  to be overplotted as vertical
lines to the posteriors and horizontal lines on sample values
e.g. mean of posteriors, true values of a simulation</li>
<li><strong>chains</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em> or </em><em>list of ints</em>) – chain indexes to select from the trace</li>
<li><strong>combined</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Flag for combining multiple chains into a single chain. If False
(default), chains will be plotted separately.</li>
<li><strong>grid</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Flag for adding gridlines to histogram. Defaults to True.</li>
<li><strong>varbins</strong> (<em>list of arrays</em>) – List containing the binning arrays for the variables, if None they will
be created.</li>
<li><strong>nbins</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of bins for each histogram</li>
<li><strong>color</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)"><em>tuple</em></a>) – mpl color tuple</li>
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Alpha value for plot line. Defaults to 0.35.</li>
<li><strong>axs</strong> (<em>axes</em>) – Matplotlib axes. Defaults to None.</li>
<li><strong>fig</strong> (<em>figure</em>) – Matplotlib figure. Defaults to None.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>ax</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">matplotlib axes</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="plotting.select_transform">
<code class="descclassname">plotting.</code><code class="descname">select_transform</code><span class="sig-paren">(</span><em>sc</em>, <em>n_steps=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotting.html#select_transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plotting.select_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Select transform function to be applied after loading the sampling results.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sc</strong> (<a class="reference internal" href="#config.SamplerConfig" title="config.SamplerConfig"><code class="xref py py-class docutils literal"><span class="pre">config.SamplerConfig</span></code></a>) – Name of the sampler that has been used in sampling the posterior pdf</li>
<li><strong>n_steps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of chains to select last samples of each trace.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>func</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">instance</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-inputf">
<span id="the-inputf-module"></span><h2>The <a class="reference internal" href="#module-inputf" title="inputf"><code class="xref py py-mod docutils literal"><span class="pre">inputf</span></code></a> Module<a class="headerlink" href="#module-inputf" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="inputf.load_SAR_data">
<code class="descclassname">inputf.</code><code class="descname">load_SAR_data</code><span class="sig-paren">(</span><em>datadir</em>, <em>names</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputf.html#load_SAR_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#inputf.load_SAR_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Load SAR data in given directory and filenames.
Returns Diff_IFG objects.</p>
</dd></dl>

<dl class="function">
<dt id="inputf.load_and_blacklist_GPS">
<code class="descclassname">inputf.</code><code class="descname">load_and_blacklist_GPS</code><span class="sig-paren">(</span><em>datadir</em>, <em>filename</em>, <em>blacklist</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputf.html#load_and_blacklist_GPS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#inputf.load_and_blacklist_GPS" title="Permalink to this definition">¶</a></dt>
<dd><p>Load ascii GPS data, apply blacklist and initialise targets.</p>
</dd></dl>

<dl class="function">
<dt id="inputf.load_and_blacklist_stations">
<code class="descclassname">inputf.</code><code class="descname">load_and_blacklist_stations</code><span class="sig-paren">(</span><em>datadir</em>, <em>blacklist</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputf.html#load_and_blacklist_stations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#inputf.load_and_blacklist_stations" title="Permalink to this definition">¶</a></dt>
<dd><p>Load stations from autokiwi output and apply blacklist</p>
</dd></dl>

<dl class="function">
<dt id="inputf.load_ascii_gps">
<code class="descclassname">inputf.</code><code class="descname">load_ascii_gps</code><span class="sig-paren">(</span><em>filedir</em>, <em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputf.html#load_ascii_gps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#inputf.load_ascii_gps" title="Permalink to this definition">¶</a></dt>
<dd><p>Load ascii file columns containing:
station name, Lon, Lat, ve, vn, vu, sigma_ve, sigma_vn, sigma_vu
location [decimal deg]
measurement unit [mm/yr]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#heart.GPSDataset" title="heart.GPSDataset"><code class="xref py py-class docutils literal"><span class="pre">heart.GPSDataset</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="inputf.load_data_traces">
<code class="descclassname">inputf.</code><code class="descname">load_data_traces</code><span class="sig-paren">(</span><em>datadir</em>, <em>stations</em>, <em>channels</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputf.html#load_data_traces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#inputf.load_data_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Load data traces for the given stations and channels.</p>
</dd></dl>

<dl class="function">
<dt id="inputf.load_kite_scenes">
<code class="descclassname">inputf.</code><code class="descname">load_kite_scenes</code><span class="sig-paren">(</span><em>datadir</em>, <em>names</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputf.html#load_kite_scenes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#inputf.load_kite_scenes" title="Permalink to this definition">¶</a></dt>
<dd><p>Load SAR data from the kite format.</p>
</dd></dl>

<dl class="function">
<dt id="inputf.setup_stations">
<code class="descclassname">inputf.</code><code class="descname">setup_stations</code><span class="sig-paren">(</span><em>lats</em>, <em>lons</em>, <em>names</em>, <em>networks</em>, <em>event</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputf.html#setup_stations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#inputf.setup_stations" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup station objects, based on station coordinates and reference event.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>lats</strong> (<code class="xref py py-class docutils literal"><span class="pre">num.ndarray</span></code>) – of station location latitude</li>
<li><strong>lons</strong> (<code class="xref py py-class docutils literal"><span class="pre">num.ndarray</span></code>) – of station location longitude</li>
<li><strong>names</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of strings of station names</li>
<li><strong>networks</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of strings of network names for each station</li>
<li><strong>event</strong> (<a class="reference external" href="https://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Event" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Event</span></code></a>) – </li>
<li><strong>Results</strong> – </li>
<li><strong>-------</strong> – </li>
<li><strong>stations</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – of <a class="reference external" href="https://pyrocko.org/v0.3/library/reference/model.html#pyrocko.model.Station" title="(in Pyrocko v0.3)"><code class="xref py py-class docutils literal"><span class="pre">pyrocko.model.Station</span></code></a></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
    <a id="sidebar-anchor"></a>
    
<h3><a href="index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="short_installation.html">Short Installation instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Detailed Installation instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="updating.html">Updating beat</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started with BEAT</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Scenarios</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-heart">The <code class="docutils literal"><span class="pre">heart</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-config">The <code class="docutils literal"><span class="pre">config</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-sampler">The <code class="docutils literal"><span class="pre">sampler</span></code> Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-sampler.metropolis"><code class="docutils literal"><span class="pre">metropolis</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-sampler.smc"><code class="docutils literal"><span class="pre">smc</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-sampler.pt"><code class="docutils literal"><span class="pre">pt</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-ffi">The <code class="docutils literal"><span class="pre">ffi</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-parallel">The <code class="docutils literal"><span class="pre">parallel</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-backend">The <code class="docutils literal"><span class="pre">backend</span></code> Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#file-format">File format</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-models">The <code class="docutils literal"><span class="pre">models</span></code> Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-models.problems"><code class="docutils literal"><span class="pre">problems</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-models.seismic"><code class="docutils literal"><span class="pre">seismic</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-models.geodetic"><code class="docutils literal"><span class="pre">geodetic</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-psgrn">The <code class="docutils literal"><span class="pre">psgrn</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-pscmp-module">The <code class="docutils literal"><span class="pre">pscmp</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-interseismic">The <code class="docutils literal"><span class="pre">interseismic</span></code> Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#block-backslip-model">Block-backslip model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-covariance">The <code class="docutils literal"><span class="pre">covariance</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-theanof">The <code class="docutils literal"><span class="pre">theanof</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-utility">The <code class="docutils literal"><span class="pre">utility</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-plotting">The <code class="docutils literal"><span class="pre">plotting</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-inputf">The <code class="docutils literal"><span class="pre">inputf</span></code> Module</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
    &nbsp;
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="examples.html" title="Scenarios"
             accesskey="P">previous</a> |</li>
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Hannes Vasyura-Bathke.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.6.
    </div>
  </body>
</html>